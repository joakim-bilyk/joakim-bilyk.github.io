<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2.5 Week 5 | Mathematics of the Actuarial Sciences</title>
  <meta name="description" content="This is a description of the document." />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="2.5 Week 5 | Mathematics of the Actuarial Sciences" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a description of the document." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2.5 Week 5 | Mathematics of the Actuarial Sciences" />
  
  <meta name="twitter:description" content="This is a description of the document." />
  

<meta name="author" content="Joakim Bilyk" />


<meta name="date" content="2023-05-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="week-4.html"/>
<link rel="next" href="week-6.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="https://code.jquery.com/jquery-1.9.1.js"></script>

<script>
    $(function() {
        var element = document.body;
        if (localStorage.chkbx && localStorage.chkbx != '') {
            $('#remember_me').attr('checked', 'checked');
            element.classList.toggle("dark-mode");
            document.querySelector('.book-header.fixed').click();
        } else {
            $('#remember_me').removeAttr('checked');
            document.querySelector('.book-header.fixed').click();
        }

        $('#remember_me').click(function() {

            if ($('#remember_me').is(':checked')) {
                // save username and password
                localStorage.chkbx = $('#remember_me').val();
                element.classList.toggle("dark-mode");
                document.querySelector('.book-header.fixed').click();
            } else {
                localStorage.chkbx = '';
                element.classList.toggle("dark-mode");
                document.querySelector('.book-header.fixed').click();
            }
        });
    });

</script>

<div class = "sticky-darkmode-toggle">
  <label class="switch">
  <input type="checkbox" value="remember-me" id="remember_me">
  <span class="slider round">
  </span>
  </label>
</div>

<script>
$(function() {
  $('body').after($('.sticky-darkmode-toggle'));
})
</script>

<style>

.sticky-darkmode-toggle {
  position: fixed;
  right: 20px;
  bottom: 20px;
}
</style>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Exercises</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="abbreviations.html"><a href="abbreviations.html"><i class="fa fa-check"></i><b>1.1</b> Abbreviations</a></li>
<li class="chapter" data-level="1.2" data-path="to-do-work.html"><a href="to-do-work.html"><i class="fa fa-check"></i><b>1.2</b> To-do work</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="continuous-time-finance.html"><a href="continuous-time-finance.html"><i class="fa fa-check"></i><b>2</b> Continuous Time Finance</a>
<ul>
<li class="chapter" data-level="2.1" data-path="week-1.html"><a href="week-1.html"><i class="fa fa-check"></i><b>2.1</b> Week 1</a></li>
<li class="chapter" data-level="2.2" data-path="week-2.html"><a href="week-2.html"><i class="fa fa-check"></i><b>2.2</b> Week 2</a></li>
<li class="chapter" data-level="2.3" data-path="week-3.html"><a href="week-3.html"><i class="fa fa-check"></i><b>2.3</b> Week 3</a></li>
<li class="chapter" data-level="2.4" data-path="week-4.html"><a href="week-4.html"><i class="fa fa-check"></i><b>2.4</b> Week 4</a></li>
<li class="chapter" data-level="2.5" data-path="week-5.html"><a href="week-5.html"><i class="fa fa-check"></i><b>2.5</b> Week 5</a></li>
<li class="chapter" data-level="2.6" data-path="week-6.html"><a href="week-6.html"><i class="fa fa-check"></i><b>2.6</b> Week 6</a></li>
<li class="chapter" data-level="2.7" data-path="week-7.html"><a href="week-7.html"><i class="fa fa-check"></i><b>2.7</b> Week 7</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="probabilistic-machine-learning.html"><a href="probabilistic-machine-learning.html"><i class="fa fa-check"></i><b>3</b> Probabilistic Machine Learning</a>
<ul>
<li class="chapter" data-level="3.1" data-path="week-1-1.html"><a href="week-1-1.html"><i class="fa fa-check"></i><b>3.1</b> Week 1</a></li>
<li class="chapter" data-level="3.2" data-path="week-2-1.html"><a href="week-2-1.html"><i class="fa fa-check"></i><b>3.2</b> Week 2</a></li>
<li class="chapter" data-level="3.3" data-path="week-3-1.html"><a href="week-3-1.html"><i class="fa fa-check"></i><b>3.3</b> Week 3</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="topics-in-life-insurance.html"><a href="topics-in-life-insurance.html"><i class="fa fa-check"></i><b>4</b> Topics in Life Insurance</a>
<ul>
<li class="chapter" data-level="4.1" data-path="computing-moments-of-reserve-in-timehomogeneous-case.html"><a href="computing-moments-of-reserve-in-timehomogeneous-case.html"><i class="fa fa-check"></i><b>4.1</b> Computing moments of reserve in timehomogeneous case</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://joakim-bilyk.github.io/index.html">Back to main site</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Mathematics of the Actuarial Sciences</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="week-5" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> Week 5<a href="week-5.html#week-5" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Exercise 1.</strong> <em>(Bjork 10.1)</em> Consider the standard Black-Scholes model. Fix the time of maturity <span class="math inline">\(T\)</span> and consider the following <span class="math inline">\(T\)</span>-claim <span class="math inline">\(X\)</span>:</p>
<p><span class="math display">\[
X=
\begin{cases}
  K &amp; \text{if }S_T\le A,\\
  K+A-S_T &amp; \text{if }A&lt;S_T&lt;K+ A,\\
  0 &amp; \text{if }S_T &gt; K+ A.
\end{cases}  
\]</span></p>
<p>This contract can be replicated using a portfoliom consisting solely of bonds, stock, and European call options, which is constant over time. Determine this portfolio as well as the arbitrage free price of the contract.</p>
<details>
<summary>
<strong>Solution.</strong>
</summary>
<p>We see that the put option with strike <span class="math inline">\(K+A\)</span> gives the payout</p>
<p><span class="math display">\[
P_{K+A}(S_T)=
\begin{cases}
  K+A-S_T &amp; \text{if }S_T\le A,\\
  K+A-S_T &amp; \text{if }A&lt;S_T&lt;K+ A,\\
  0 &amp; \text{if }S_T &gt; K+ A.
\end{cases}
\]</span></p>
<p>Hence this asset will <em>“almost”</em> gives the wanted payout except for the event <span class="math inline">\((S_T\le A)\)</span>. If we find an asset giving the payout <span class="math inline">\(A-S_T\)</span> if and only if the event <span class="math inline">\((S_T\le A)\)</span> occurs, we may short this asset. It happens that the put with strike <span class="math inline">\(A\)</span> has the wanted payout that is</p>
<p><span class="math display">\[
P_{A}(S_T)=
\begin{cases}
  A-S_T &amp; \text{if }S_T\le A,\\
  0 &amp; \text{if }A&lt;S_T&lt;K+ A,\\
  0 &amp; \text{if }S_T &gt; K+ A.
\end{cases}
\]</span></p>
<p>Then making the portfolio of one long position in the put <span class="math inline">\(P_{K+A}\)</span> and a short position in the put <span class="math inline">\(P_A\)</span> will replicate <span class="math inline">\(X\)</span>. We know from the put-call parity that this exact portfolio may be replicated by <span class="math inline">\(K+A-A=K\)</span> long zero-coupon bonds, long call with strike <span class="math inline">\(K+A\)</span> and short call with strike <span class="math inline">\(A\)</span>. Notice no position is taking on the underlying stock since we both go long and short on a put. Let us check if this portfolio give the wantet payout:</p>
<p><span class="math display">\[
V^h_T=
\begin{cases}
  K +0-0 = K &amp; \text{if }S_T\le A,\\
  K + 0 - (S_T-A)=K+A-S_T &amp; \text{if }A&lt;S_T&lt;K+ A,\\
  K + (S_T-K-A)-(S_T-A)=0 &amp; \text{if }S_T &gt; K+ A.
\end{cases}
\]</span></p>
<p>Then the portfolio give the desired payout. Given the price process for the call option and the zero-coupon bond we have that the value process is given by
<span class="math display">\[\begin{align*}
V_t^h&amp;=Ke^{-r(T-t)}+c(K+A;t,T)-c(A;t,T)\\
&amp;=e^{-r(T-t)}\left\{K+(K+A)N(d_2(K+A;t,S_t)-AN(d_2(A;t,S_t))\right\}\\
&amp;+S_t\left\{N(d_1(K+A;t,S_t))-N(d_1(A;t,S_t))\right\}
\end{align*}\]</span>
with <span class="math inline">\(d_1\)</span> and <span class="math inline">\(d_2\)</span> as given in the Black-Scholes formula. The price of the portfolio is given by the above value process. <span class="math inline">\(\square\)</span></p>
</details>
<p><strong>Exercise 2.</strong> <em>(Bjork 10.2)</em> The setup is the same as the previous exercise. Here the contract is a so-called <strong>straddle</strong>, defined by</p>
<p><span class="math display">\[
X=
\begin{cases}
  K-S_T &amp; \text{if }0&lt;S_T\le K,\\
  S_T-K &amp; \text{if }S_T&gt;K.
\end{cases}
\]</span></p>
<p>Determine the constant replicating portfolio as well as the arbitrage free price of the contract.</p>
<details>
<summary>
<strong>Solution.</strong>
</summary>
<p>We search for portfolio paying the payout above. Recall that a call option with strike <span class="math inline">\(K\)</span> has payout <span class="math inline">\(S_T-K\)</span> if <span class="math inline">\(S_T\ge K\)</span> and a put option with strike <span class="math inline">\(K\)</span> has payout <span class="math inline">\(K-S_T\)</span> if <span class="math inline">\(S_T\le K\)</span>. Hence by longing one call with strike <span class="math inline">\(K\)</span> and long one put with strike <span class="math inline">\(K\)</span> will give the desired payout.</p>
<p>We know that we kan replicate this portfolio by buying <span class="math inline">\(K\)</span> zero-coupon bonds, long two call options with strike <span class="math inline">\(K\)</span> and shorting the underlying stock. Lets see what this yields</p>
<p><span class="math display">\[
V_T^h =
\begin{cases}
  K+2\cdot 0-S_T=K-S_T &amp; \text{if }0&lt;S_T\le K,\\
  K+2\cdot(S_T-K)-S_T=S_T-K &amp; \text{if }S_T&gt;K.
\end{cases}
\]</span></p>
<p>As desired. The price is the then value process with</p>
<p><span class="math display">\[
\Pi_t=V_t^h=Ke^{-r(T-t)}+2c(t,T)-S_t.
\]</span></p>
<p>Giving the desired result. <span class="math inline">\(\square\)</span></p>
</details>
<p><strong>Exercise 3.</strong> <em>(Bjork 10.3)</em> The setup is the same as the previous exercise. We will now study a so-called bull spread (see Fig. 10.7). With this contract we can, to a limited extent, take advantage of an increase in the market price while being protected from a decrease. The contract is defined by</p>
<p><span class="math display">\[
X=
\begin{cases}
  B &amp; \text{if }S_T&gt;B,\\
  S_T &amp; \text{if }A\le S_T\le B,\\
  A &amp;\text{if }S_T&lt; A.
\end{cases}
\]</span></p>
<p>We have of course the relation <span class="math inline">\(A&lt;B\)</span>. Determine the constant replicating portfolio as well as the arbitrage free price of the contract.</p>
<details>
<summary>
<strong>Solution.</strong>
</summary>
<p>Again we search for a replicating portfolio. If we long one stock we get the payout <span class="math inline">\(S_T\)</span> only and so we want to recieve an additional payout on the events <span class="math inline">\(S_T\)</span> falls outside the interval <span class="math inline">\([A,B]\)</span>. We want to have an asset paying <span class="math inline">\(-(S_T-A)\)</span> on the event <span class="math inline">\(S_T&lt;A\)</span> and an asset paying <span class="math inline">\(-(S_T-B)\)</span> on the event <span class="math inline">\(S_T&gt;B\)</span>. The two assets are: one put with strike <span class="math inline">\(A\)</span> giving the payout <span class="math inline">\(A-S_T\)</span> and a short position call option with strke <span class="math inline">\(B\)</span>. Hence we may replicate the put with <span class="math inline">\(A\)</span> bonds, one call and a short position. In total we hold <span class="math inline">\(A\)</span> bonds, one call option with strike <span class="math inline">\(A\)</span> and a short on a call with strike <span class="math inline">\(B\)</span>. We will then recieve the payout:</p>
<p><span class="math display">\[
V_T^h=
\begin{cases}
  A+S_T-A-(S_T-B)=B &amp; \text{if }S_T&gt;B,\\
  A + S_T - A-0=S_T&amp; \text{if }A\le S_T\le B,\\
  A+0+0=A &amp;\text{if }S_T&lt; A.
\end{cases}
\]</span></p>
<p>As desired. The value process then give the portfolio price:</p>
<p><span class="math display">\[
\Pi_t=V_t^h=Ae^{-r(T-t)}+c(A;t,T)-c(B;t,T)
\]</span></p>
<p>as desired. <span class="math inline">\(\square\)</span></p>
</details>
<p><strong>Exercise 4.</strong> <em>(Exam 2017/18, problem 2, question (a)-(b))</em> Consider a standard Black-Scholes model, that is, a model consisting of a bank account <span class="math inline">\(B_t\)</span> with <span class="math inline">\(P\)</span>-dynamics given by</p>
<p><span class="math display">\[
dB_t=rB_t\ dt,\ B_0=1
\]</span></p>
<p>and a stock <span class="math inline">\(S_t\)</span> with <span class="math inline">\(P\)</span>-dynamics given by</p>
<p><span class="math display">\[
dS_t=\alpha S_t\ dt+\sigma S_t\ d\overline{W}_t,\ S_0=s&gt;0
\]</span></p>
<p>where <span class="math inline">\(r,\alpha\in\mathbb{R}\)</span> and <span class="math inline">\(\sigma &gt;0\)</span> are constants and <span class="math inline">\(\overline{W}_t\)</span> is a <span class="math inline">\(P\)</span>-Brownian motion. Let <span class="math inline">\(T&gt;0\)</span> be a given and fixed date.</p>
<p>Consider the derivative that at time <span class="math inline">\(T\)</span> pays
<span class="math display">\[
X=\max\left\{\min\left\{S_T,K_2\right\},K_1\right\},
\]</span></p>
<p>where <span class="math inline">\(0&lt;K_1&lt;K_2\)</span> are constants.</p>
<ol style="list-style-type: lower-alpha">
<li>Determine the arbitrage free price of derivative <span class="math inline">\(X\)</span> at time <span class="math inline">\(t&lt;T\)</span>.</li>
</ol>
<p>Consider a new derivative that at time <span class="math inline">\(T\)</span> pays</p>
<p><span class="math display">\[
Y=(S^2_T-K^2)^+-(K^2-S^2_T)^+.
\]</span></p>
<ol start="2" style="list-style-type: lower-alpha">
<li><ol style="list-style-type: lower-roman">
<li>Determine the arbitrage free price of derivative <span class="math inline">\(Y\)</span> at time <span class="math inline">\(t&lt;T\)</span>.</li>
<li>Find a hedging portfolio for derivative <span class="math inline">\(Y\)</span>.</li>
</ol></li>
</ol>
<p>Let <span class="math inline">\(h(t)=(h_0(t),h_1(t))\)</span> be a portfolio where</p>
<p><span class="math display">\[
h_0(t)=-e^{r(T-2t)+\sigma^2(T-t)}S^2(t)
\]</span></p>
<p>is the number of units in the bank account at time <span class="math inline">\(t\)</span> and</p>
<p><span class="math display">\[
h_1(t)=2e^{(r+\sigma^2)(T-t)}S(t)
\]</span></p>
<p>is the number of shares in the stock at time <span class="math inline">\(t\)</span>. Let <span class="math inline">\(V^h(t)\)</span> denote the associated value process.</p>
<ol start="3" style="list-style-type: lower-alpha">
<li>Determine whether the portfolio <span class="math inline">\(h\)</span> is self-financing or not.</li>
<li>Compute <span class="math inline">\(V^h(T)\)</span>.</li>
</ol>
<details>
<summary>
<strong>Solution (a).</strong>
</summary>
<p>We see that the derivative is the bull spread given by the payout function</p>
<p><span class="math display">\[
X=
\begin{cases}
  K_2 &amp; \text{if }S_T&gt;K_2,\\
  S_T &amp; \text{if }K_1\le S_T\le K_2,\\
  K_1 &amp;\text{if }S_T&lt; K_1.
\end{cases}
\]</span></p>
<p>We know from exercise 10.3 that this can be replicated by holding <span class="math inline">\(K_1\)</span> bonds, one call option with strike <span class="math inline">\(K_1\)</span> and a short on a call with strike <span class="math inline">\(K_2\)</span>. The arbitrage free price of the derivative is then the value process of the mentioned portfolio i.e.</p>
<p><span class="math display">\[
\Pi_t[X]=K_1 e^{-r(T-t)}+c(K_1;t,T)-c(K_2;t,T),
\]</span></p>
<p>where <span class="math inline">\(c\)</span> denotes the pricing function for a European call option (non-instructive parameters supressed). <span class="math inline">\(\square\)</span></p>
</details>
<details>
<summary>
<strong>Solution (b).</strong>
</summary>
<p><em>(i)</em>: We start by seeing that the derivative pays out</p>
<p><span class="math display">\[
Y=
\begin{cases}
  S_T^2-K^2 &amp; \text{if }S_T^2\ge K^2,\\
  -(K^2-S_T^2) &amp;\text{if }S_T^2&lt; K^2.
\end{cases}
\]</span></p>
<p>hence the payout is <span class="math inline">\(Y=S_T^2-K^2=\Phi(S_T)\)</span> where <span class="math inline">\(\Phi(s)=s^2-K^2\)</span>. That is <span class="math inline">\(Y\)</span> is in fact a simple claim. We have from the risk neutral valueation formula 7.11 that
<span class="math display">\[\begin{align*}
\Pi_t[Y]&amp;=e^{-r(T-t)}E^Q_{t,s}[S_T^2-K^2]\\
&amp;=e^{-r(T-t)}E^Q_{t,s}[S_T^2]-e^{-r(T-t)}K^2.
\end{align*}\]</span>
Recall that under the martingale measure <span class="math inline">\(Q\)</span> we have that <span class="math inline">\(S_t\)</span> is a GBM hence</p>
<p><span class="math display">\[
S_t=s\cdot \exp\left\{\left(r-\frac{1}{2}\sigma^2\right)(T-t)+\sigma\left(W_T^Q-W_t^Q\right)\right\}
\]</span></p>
<p>then</p>
<p><span class="math display">\[
S_T^2=s^2\cdot \exp\left\{2\left(r-\frac{1}{2}\sigma^2\right)(T-t)+2\sigma\left(W_T^Q-W_t^Q\right)\right\}.
\]</span></p>
<p>Inserting this into the risk neutral valuation formula we get
<span class="math display">\[\begin{align*}
\Pi_t[Y]&amp;=e^{-r(T-t)}E^Q_{t,s}[S_T^2]-e^{-r(T-t)}K^2\\
&amp;=e^{-r(T-t)}s^2e^{2\left(r-\frac{1}{2}\sigma^2\right)(T-t)} E^Q\left[\exp\left\{2\sigma\left(W_T^Q-W_t^Q\right)\right\}\right]-e^{-r(T-t)}K^2\\
&amp;=e^{-r(T-t)}s^2e^{2\left(r-\frac{1}{2}\sigma^2\right)(T-t)}e^{\frac{1}{2}4\sigma^2(T-t)}-e^{-r(T-t)}K^2\\
&amp;=e^{-r(T-t)}\left(s^2e^{(2r-\sigma^2)(T-t)+\frac{1}{2}4\sigma^2(T-t)}-K^2\right)\\
&amp;=e^{-r(T-t)}\left(s^2e^{(2r+\sigma^2)(T-t)}-K^2\right).
\end{align*}\]</span>
The arbitrage free price of the derivative is then given above. <span class="math inline">\(\square\)</span></p>
<p><em>(ii)</em>: From theorem 8.5 we can determine a hedging portfolio with weightings
<span class="math display">\[\begin{align*}
w_t^B&amp;=\frac{\Pi_t-S_t\frac{\partial\Pi}{\partial s}}{\Pi_t}\\
&amp;=1-\frac{S_t2S_te^{-r(T-t)}e^{(2r+\sigma^2)(T-t)}}{e^{-r(T-t)}\left(S_t^2e^{(2r+\sigma^2)(T-t)}-K^2\right)}\\
&amp;=1-\frac{2S_t^2e^{(2r+\sigma^2)(T-t)}}{S_t^2e^{(2r+\sigma^2)(T-t)}-K^2}\\
&amp;=1-\frac{2}{1-K^2S_t^{-2}e^{(2r+\sigma^2)(t-T)}}\\
w_t^S&amp;=\frac{2}{1-K^2S_t^{-2}e^{(2r+\sigma^2)(t-T)}}.
\end{align*}\]</span>
In absolute terms we will hold the portfolio
<span class="math display">\[\begin{align*}
h_t^S&amp;=2S_te^{-r(T-t)}e^{(2r+\sigma^2)(T-t)}\\
h_t^B&amp;=\frac{e^{-r(T-t)}\left(s^2e^{(2r+\sigma^2)(T-t)}-K^2\right)-S_th_t^S}{B_t}\\
&amp;=\frac{e^{-r(T-t)}\left(s^2e^{(2r+\sigma^2)(T-t)}-K^2\right)-S_th_t^S}{e^{rt}}\\
&amp;=e^{-rT}s^2e^{(2r+\sigma^2)(T-t)}-e^{-rT}K^2-e^{-rt}S_th_t^S.
\end{align*}\]</span>
The portfolio above will hedge <span class="math inline">\(Y\)</span> with probability one. <span class="math inline">\(\square\)</span></p>
</details>
<p><strong>Exercise 5.</strong> <em>(Exam 2019/20, problem 2)</em></p>
<details>
<summary>
<strong>Solution.</strong>
</summary>
</details>
<p><strong>Exercise 6.</strong> <em>(Exam 2020/21, problem 2, question (a)-(b))</em></p>
<details>
<summary>
<strong>Solution.</strong>
</summary>
</details>
<p><strong>Exercise 7.</strong> <em>(Exam 2020/21, problem 3, question (b))</em></p>
<details>
<summary>
<strong>Solution.</strong>
</summary>
</details>
<p><strong>Extra-Exercise 1.</strong> <em>(Bjork 10.4)</em></p>
<details>
<summary>
<strong>Solution.</strong>
</summary>
</details>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="week-4.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="week-6.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["exercises.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
