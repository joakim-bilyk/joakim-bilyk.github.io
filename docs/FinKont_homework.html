<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Joakim Bilyk" />

<meta name="date" content="2023-01-17" />

<title>Homework (FinKont)</title>

<script src="site_libs/header-attrs-2.19/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<div class = "sticky-darkmode-toggle">
  <label class="switch">
  <input type="checkbox" onclick="myFunction()">
  <span class="slider round">
  </span>
  </label>
</div>

<script>
$(function() {
  $('.main-container').after($('.sticky-darkmode-toggle'));
})
</script>

<style>

.sticky-darkmode-toggle {
  position: fixed;
  left: 20px;
  bottom: 20px;
}
</style>

<script>
function myFunction() {
   var element = document.body;
   element.classList.toggle("dark-mode");
}
</script>

<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #232629;
    color: #7a7c7d;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #7a7c7d;  padding-left: 4px; }
div.sourceCode
  { color: #cfcfc2; background-color: #232629; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #cfcfc2; } /* Normal */
code span.al { color: #95da4c; background-color: #4d1f24; font-weight: bold; } /* Alert */
code span.an { color: #3f8058; } /* Annotation */
code span.at { color: #2980b9; } /* Attribute */
code span.bn { color: #f67400; } /* BaseN */
code span.bu { color: #7f8c8d; } /* BuiltIn */
code span.cf { color: #fdbc4b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #3daee9; } /* Char */
code span.cn { color: #27aeae; font-weight: bold; } /* Constant */
code span.co { color: #7a7c7d; } /* Comment */
code span.cv { color: #7f8c8d; } /* CommentVar */
code span.do { color: #a43340; } /* Documentation */
code span.dt { color: #2980b9; } /* DataType */
code span.dv { color: #f67400; } /* DecVal */
code span.er { color: #da4453; text-decoration: underline; } /* Error */
code span.ex { color: #0099ff; font-weight: bold; } /* Extension */
code span.fl { color: #f67400; } /* Float */
code span.fu { color: #8e44ad; } /* Function */
code span.im { color: #27ae60; } /* Import */
code span.in { color: #c45b00; } /* Information */
code span.kw { color: #cfcfc2; font-weight: bold; } /* Keyword */
code span.op { color: #cfcfc2; } /* Operator */
code span.ot { color: #27ae60; } /* Other */
code span.pp { color: #27ae60; } /* Preprocessor */
code span.re { color: #2980b9; background-color: #153042; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #da4453; } /* SpecialString */
code span.st { color: #f44f4f; } /* String */
code span.va { color: #27aeae; } /* Variable */
code span.vs { color: #da4453; } /* VerbatimString */
code span.wa { color: #da4453; } /* Warning */

.sourceCode .row {
  width: 100%;
}
.sourceCode {
  overflow-x: auto;
}
.code-folding-btn {
  margin-right: -30px;
}
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>


<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>


<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Candidate Cources</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="theory.html">
    <span class="fa fa-integral"></span>
     
    Theory
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-person"></span>
     
    Life insurance
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="stok_liv.html">Stochastic Processes in life-insurance (StokLiv)</a>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Continuous finance (FinKont)</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="FinKont_main.html">Main</a>
        </li>
        <li>
          <a href="FinKont_homework.html">Homework</a>
        </li>
        <li>
          <a href="FinKont_examprep.html">Exam preparation</a>
        </li>
      </ul>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-house"></span>
     
    Non-life insurance
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="stok_skade.html">Stochastic processes in non-life-insurance (StokSkade)</a>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Quantitative risk management (QRM)</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="QRM_main.html">Main</a>
        </li>
        <li>
          <a href="QRM_projects.html">Projects</a>
        </li>
        <li>
          <a href="QRM_homework.html">Homework</a>
        </li>
        <li>
          <a href="QRM_examprep.html">Exam preparation</a>
        </li>
      </ul>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="pdf_renders.html">
    <span class="fa fa-file"></span>
     
    PDF-renders
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Homework (FinKont)</h1>
<h4 class="author">Joakim Bilyk</h4>
<h4 class="date">2023-01-17</h4>

</div>


<div id="introduction" class="section level1">
<h1>Introduction</h1>
</div>
<div id="weeks" class="section level1 tabset">
<h1 class="tabset">Weeks</h1>
<div id="week-1" class="section level2">
<h2>Week 1</h2>
<div id="material" class="section level3">
<h3>Material</h3>
<ul>
<li>Brownian motion (Chapter 4.1)</li>
<li>Conditional expectation (Appendix B.5)</li>
<li>Filtration (Appendix B.3 and Chapter 4.2)</li>
<li>Martingales (Appendix C.1 and Chapter 4.4)</li>
<li>Introduction (Chapter 1)</li>
<li>Discrete time models (Chapter 2 and 3)</li>
</ul>
</div>
<div id="theory" class="section level3">
<h3>Theory</h3>
<p>This week revolves around the theory of the Brownian motion and
martingale processes. Other main topics are the binomial model and an
introduction to financial derivatives. Financial derivatives is
contingent on the outcome of a stochastic process at some future time
<span class="math inline">\(t=T\)</span> and often is a function <span
class="math inline">\(\Phi\)</span> of some assets price <span
class="math inline">\(S_t\)</span>. As such the derivative will give a
stochastic payout, at time <span class="math inline">\(t=T\)</span> of
the size <span class="math inline">\(X_T=\Phi(S_T)\)</span>. Naturally
we want to say something about the <em>fair</em> price of the derivative
in the form of</p>
<p><span class="math display">\[\Pi_t(X_T)=\mathbb{E}\left[\Phi(S_T)\
\vert\ \mathcal{F}_t\right],\]</span></p>
<p>where <span
class="math inline">\(\mathcal{F}_t\subset\mathcal{F}\)</span> is the
available information at time <span class="math inline">\(t\)</span>. We
will by defualt intepret the times <span
class="math inline">\(t=0\)</span> as <em>today</em> and <span
class="math inline">\(t=T\)</span> as <em>tomorrow</em>. This indeed
require some fundamental understanding of the behaviour of the asset
price <span class="math inline">\(S_t\)</span>. This lead us over to
discussing the process in center of the <em>Black-Scholes</em> model:
the Brownian motion.</p>
<p> </p>
<div id="the-brownian-motion" class="section level4">
<h4>The Brownian motion</h4>
<blockquote class="def">
<p><strong>Definition 4.1.</strong> <em>(Brownian motion)</em> A
stochastic process <span class="math inline">\(W\)</span> is called a
<strong>Brownian motion</strong> or <strong>Wiener process</strong> if
the following conditions hold</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(W_0=0\)</span>.</li>
<li>The process <span class="math inline">\(W\)</span> has independent
increments, i.e. if <span class="math inline">\(r&lt;s\le t&lt;
u\)</span> then <span class="math inline">\(W_u-W_t\)</span> and <span
class="math inline">\(W_s-W_r\)</span> are independent random
variables.</li>
<li>For <span class="math inline">\(s&lt;t\)</span> the random variable
<span class="math inline">\(W_t-W_s\)</span> has the Gaussian
distribution <span
class="math inline">\(\mathcal{N}(0,t-s)\)</span>.</li>
<li><span class="math inline">\(W\)</span> has continuous trajectories
i.e. <span class="math inline">\(s\mapsto W(s;\omega)\)</span> i
continuous for all <span class="math inline">\(\omega
\in\Omega\)</span>.</li>
</ol>
</blockquote>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Example of trajectory for BM</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">1000</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>N <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> <span class="fu">length</span>(t)<span class="sc">-</span><span class="dv">1</span>, <span class="co">#initial value = 0</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mean =</span> <span class="dv">0</span>, <span class="co">#incements mean = 0</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">sd =</span> <span class="fu">sqrt</span>(t[<span class="dv">2</span><span class="sc">:</span><span class="fu">length</span>(t)] <span class="sc">-</span> t[<span class="dv">1</span><span class="sc">:</span>(<span class="fu">length</span>(t)<span class="sc">-</span><span class="dv">1</span>)]) <span class="co">#increment sd = sqrt(t-s)</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>W <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fu">cumsum</span>(N))</span></code></pre></div>
<p><img src="FinKont_homework_files/figure-html/unnamed-chunk-3-1.png" width="40%" style="float:right; padding:10px" /></p>
<p>As one can see from the simulated sample path on the right, the
Brownian motion is rather irratic. In fact, the process varies
infinitely on any interval with length greater than 0. This gives some
of the characteristics of the process including that: <span
class="math inline">\(W\)</span> is continuous and <span
class="math inline">\(W\)</span> is non-differential everywhere. This
irratic behaviour is summed up in the theorem.</p>
<blockquote class="thm">
<p><strong>Theorem 4.2.</strong> A Brownian motions trajectory <span
class="math inline">\(t\mapsto W_t\)</span> is with probability one
nowhere differential, and it has locally infinite total variation.</p>
</blockquote>
<p>This may seem not that horrifying since we can observe the process at
any time and conclude an increment <span
class="math inline">\(W_{t+\Delta t}-W_t\)</span> for any <span
class="math inline">\(\Delta t&gt;0\)</span> but any integral
constructed with <span class="math inline">\(W_t\)</span> as integrator
becomes nonsensible. We will be studying processes on the form</p>
<p><span class="math display">\[S_{t+\Delta t}-S_t=\mu(t,S_t)\Delta
t+\sigma(t,S_t)\Delta W_t,\hspace{20pt}\Delta W_t=W_{t+\Delta
t}-W_t.\]</span></p>
<p>where <span class="math inline">\(W_t\)</span> is a standard Brownian
motion and <span class="math inline">\(\mu(t,S_t)\)</span> is locally
deterministic (velocity), that is <span
class="math inline">\(\mu(t,S_t)\)</span> is deterministic on a small
time interval. One could consider the dynamics of the process <span
class="math inline">\(S_t\)</span> by studying the equation below as
<span class="math inline">\(\Delta t\to 0_+\)</span></p>
<p><span class="math display">\[\frac{S_{t+\Delta t}-S_t}{\Delta
t}=\mu(t,S_t)+\sigma(t,S_t)\frac{W_{t+\Delta t}-W_t}{\Delta
t}.\]</span></p>
<p>The limit however is impossible to determine as <span
class="math inline">\(W_t\)</span> is non-differentiable and as such
<span class="math inline">\(dS_t\)</span> is not well-defined. From
LivStok we know that the dynamics of <span
class="math inline">\(S_t\)</span> is given by letting <span
class="math inline">\(\Delta t\)</span> tend to 0 without dividing by
it, that is</p>
<p><span class="math display">\[
dS_t=\mu(t,S_t)\ dt+\sigma(t,S_t)\ dW_t.
\]</span></p>
<p>Giving that <span class="math inline">\(S_0\)</span> is observable we
could intepret the dynamics on the integral form</p>
<p><span class="math display">\[
S_t=S_0+\int_0^t\mu(s,S_s)\ ds+\int_0^t\sigma(s,S_s)\ dW_s,
\]</span></p>
<p>where the above integrals is Riemann-Stieltjes integral. This is
however still at dead-end, since from theorem 4.2 we know that <span
class="math inline">\(W_t\)</span> has unbounded variation on any
interval. So <strong>we cannot define <span
class="math inline">\(S_t\)</span> for each <span
class="math inline">\(W\)</span>-trajectory seperately</strong> we will
despite this define another integral (the Ito integral) that in some
other sense give a global solution to this integral. To this we will be
considering a <span class="math inline">\(L^2\)</span>-definition.</p>
<p> </p>
</div>
<div id="conditional-expectation" class="section level4">
<h4>Conditional expectation</h4>
<p>The theory of conditional expectation is well-known from courses on
the bachelor. Because of this we will only summarise the most important
results.</p>
<p>We consider a background space <span
class="math inline">\((\Omega,\mathcal{F},P)\)</span> and a sub-sigma
algebra <span class="math inline">\(\mathcal{G}\subseteq
\mathcal{F}\)</span>. We assume that some stochastic variable is <span
class="math inline">\(\mathcal{F}\)</span>-measurable, that is the
mapping <span class="math inline">\(X : (\Omega,\mathcal{F},P) \to
(\mathbb{R},\mathbb{B},m)\)</span> is <span
class="math inline">\(\mathcal{F}-\mathbb{B}\)</span>-measurable
i.e. <span class="math inline">\(\forall B\in\mathbb{B} : \{X\in
B\}\in\mathcal{F}\)</span>. For some random variable <span
class="math inline">\(Z\)</span> defined on the subspace <span
class="math inline">\((\Omega,\mathcal{G},P)\)</span>, we say that <span
class="math inline">\(Z\)</span> is the conditional expectation of <span
class="math inline">\(X\)</span> given <span
class="math inline">\(\mathcal{G}\)</span> if</p>
<p><span class="math display">\[
\forall G\in\mathcal{G} : \int_G Z(\omega)\ dP(\omega)=\int_G X(\omega)\
dP(\omega).
\]</span></p>
<p>This fact is summed up in the definition below.</p>
<blockquote class="def">
<p><strong>Definition B.27.</strong> <em>(Conditional expectation)</em>
Let <span class="math inline">\((\Omega,\mathcal{F},P)\)</span> be a
probability space and <span class="math inline">\(X\)</span> a random
variable in <span
class="math inline">\(L^1(\Omega,\mathcal{F},P)\)</span> (<span
class="math inline">\(\vert X\vert\)</span> is integrable). Let
furthermore <span class="math inline">\(\mathcal{G}\)</span> be a
sigma-algebra such that <span class="math inline">\(\mathcal{G}\subseteq
\mathcal{F}\)</span>. If <span class="math inline">\(Z\)</span> is a
random variable with the properties that:</p>
<ol style="list-style-type: lower-roman">
<li><span class="math inline">\(Z\)</span> is <span
class="math inline">\(\mathcal{G}\)</span>-measurable.</li>
<li>For every <span class="math inline">\(G\in\mathcal{G}\)</span> it
holds that <span class="math display">\[\int_G Z(\omega)\
dP(\omega)=\int_G X(\omega)\ dP(\omega).\]</span></li>
</ol>
<p>Then we say that <span class="math inline">\(Z\)</span> is the
<em>conditional expectation of <span class="math inline">\(X\)</span>
given the sigma-algebra <span
class="math inline">\(\mathcal{G}\)</span></em>. In that case we denote
<span class="math inline">\(Z\)</span> by the symbol <span
class="math inline">\(E[X\ \vert\ \mathcal{G}]\)</span>.</p>
</blockquote>
<p>We see that from the above it always holds that <span
class="math inline">\(X\)</span> satisfies (ii). It does not, however,
always hold that <span class="math inline">\(X\)</span> is <span
class="math inline">\(\mathcal{G}\)</span>-measurable. Given this fact
it is not trivial that a random variable <span
class="math inline">\(E[X\ \vert\ \mathcal{G}]\)</span> even exists.
This nontriviality is fortunatly resolved by the Radon-Nikodym
theorem.</p>
<blockquote class="thm">
<p><strong>Theorem B.28.</strong> <em>(Existance and uniqueness of
Conditional expectation)</em> Let <span
class="math inline">\((\Omega,\mathcal{F},P)\)</span>, <span
class="math inline">\(X\)</span> and <span
class="math inline">\(\mathcal{G}\)</span> be given as in the definition
above. Then the following holds:</p>
<ul>
<li>There will always exist a random variable <span
class="math inline">\(Z\)</span> satisfying conditions (i)-(ii)
above.</li>
<li>The variable <span class="math inline">\(Z\)</span> is unique,
i.e. if both <span class="math inline">\(Y\)</span> and <span
class="math inline">\(Z\)</span> satisfy (i)-(ii) then <span
class="math inline">\(Y=Z\)</span> <span
class="math inline">\(P\)</span>-a.s.</li>
</ul>
</blockquote>
<p>This result ensures that we may condition on any sigma-algebra for
instance <span class="math inline">\(\mathcal{G}=\sigma(Y)\)</span> in
that case we (pure notation) write</p>
<p><span class="math display">\[
E[X\ \vert\ \sigma(Y)]=E[X\ \vert\
Y],\hspace{20pt}\sigma(Y)=\sigma\left(\left\{ Y\in A,\
A\in\mathbb{B}\right\}\right).
\]</span></p>
<p>In the above <span class="math inline">\(\sigma(Y)\)</span> is simply
the smallest sigma-algebra containing all the pre-images of <span
class="math inline">\(Y\)</span>, that is the smallest sigma-algebra
making <span class="math inline">\(Y\)</span> measurable! Giving this
foundation there are a few properties conditional expectation have which
is rather useful (for instance the tower property).</p>
<p>Below we assume: Let <span
class="math inline">\((\Omega,\mathcal{F},P)\)</span> be a probability
space and <span class="math inline">\(X,Y\)</span> be random variables
in <span class="math inline">\(L^1(\Omega,\mathcal{F},P)\)</span>.</p>
<blockquote class="prop">
<p><strong>Proposition B.29.</strong> <em>(Monotinicity/Linearity of
Conditional expectation)</em> The following holds:</p>
<p><span class="math display">\[X\le Y\ \Rightarrow\ E[X\ \vert\
\mathcal{G}]\le E[Y\ \vert\
\mathcal{G}],\hspace{20pt}P-\text{a.s.}\]</span> <span
class="math display">\[E[\alpha X + \beta Y\ \vert\ \mathcal{G}]=\alpha
E[X\ \vert\ \mathcal{G}]+ \beta E[Y\ \vert\
\mathcal{G}],\hspace{20pt}\forall
\alpha,\beta\in\mathbb{R}.\]</span></p>
</blockquote>
<blockquote class="prop">
<p><strong>Proposition B.30.</strong> <em>(Tower property)</em> Assume
that it holds that <span
class="math inline">\(\mathcal{H}\subseteq\mathcal{G}\subseteq\mathcal{F}\)</span>.
Then the following hold:</p>
<p><span class="math display">\[E[E[X\vert
\mathcal{G}]\vert\mathcal{H}]=E[X\vert \mathcal{H}],\]</span> <span
class="math display">\[E[X]=E[E[X\vert \mathcal{G}]].\]</span></p>
</blockquote>
<blockquote class="prop">
<p><strong>Proposition B.31.</strong> Assume <span
class="math inline">\(X\)</span> is <span
class="math inline">\(\mathcal{G}\)</span> and that both <span
class="math inline">\(X,Y\)</span> and <span
class="math inline">\(XY\)</span> are in <span
class="math inline">\(L^1\)</span> (only assuming <span
class="math inline">\(Y\)</span> is <span
class="math inline">\(\mathcal{F}\)</span>-measurable), then</p>
<p><span
class="math display">\[E[X\vert\mathcal{G}]=X,\hspace{20pt}P-\text{a.s.}\]</span>
<span
class="math display">\[E[XY\vert\mathcal{G}]=XE[Y\vert\mathcal{G}],\hspace{20pt}P-\text{a.s.}\]</span></p>
</blockquote>
<blockquote class="prop">
<p><strong>Proposition B.32.</strong> <em>(Jensen inequality)</em> Let
<span class="math inline">\(f:\mathbb{R}\to\mathbb{R}\)</span> be a
convex (measurable) function and assume <span
class="math inline">\(f(X)\)</span> is in <span
class="math inline">\(L^1\)</span>. Then</p>
<p><span class="math display">\[f(E[X\vert\mathcal{G}])\le
E[f(X)\vert\mathcal{G}],\hspace{20pt}P-\text{a.s.}\]</span></p>
</blockquote>
<p> </p>
</div>
<div id="filtrations" class="section level4">
<h4>Filtrations</h4>
<p>Let <span class="math inline">\((\Omega,\mathcal{F},P)\)</span> be a
probability space. We define a filtration as an increasing famility of
sub-sigma-algebras in the following definition.</p>
<blockquote class="def">
<p><strong>Definition B.16.</strong> <em>(Filtration)</em> Let <span
class="math inline">\(\mathbf{F}=(\mathcal{F}_t)_{t\ge 0}\)</span> be an
time indexed family of sub-sigma-algebras such that <span
class="math inline">\(F_s\subseteq F_t\)</span> for <span
class="math inline">\(s\le t\)</span> and <span
class="math inline">\(\mathcal{F}_t\subseteq \mathcal{F}\)</span> for
all <span class="math inline">\(t\ge 0\)</span>. We may given this
filtration define <span
class="math inline">\(\mathcal{F}_\infty\)</span> as <span
class="math inline">\(\sigma\left(\bigcup_{t\ge
0}\mathcal{F}_t\right)\)</span>.</p>
</blockquote>
<p>Filtrations is widely used in stochastic processes, as they allow for
the concept of knowledge/information. This is useful when considering
mean-values of future states but in an increasing information setting.
For this we introduce the term adapted processes.</p>
<blockquote class="def">
<p><strong>Definition B.17.</strong> <em>(Adapted process)</em> Let
<span class="math inline">\((\mathcal{F}_t)_{t\ge 0}\)</span> be a
filtration on the probability space <span
class="math inline">\((\mathcal{F}_t)_{t\ge 0}\)</span>. Furthermore,
let <span class="math inline">\((X_t)_{t\ge 0}\)</span> be a stochastic
process on the same space. We say that <span
class="math inline">\(X_t\)</span> is adapted to the filtration <span
class="math inline">\(\mathbf{F}\)</span> if</p>
<p><span class="math display">\[X_t\ \text{ is }\
\mathcal{F}_t-\text{measurable},\hspace{20pt}\forall t\ge
0.\]</span></p>
</blockquote>
<p>Obviously, we may introduce the <strong>natural filtration</strong>
<span class="math inline">\(\mathcal{F}^X_t\)</span> given by the
tragetory of the process <span class="math inline">\(X_t\)</span>:</p>
<p><span class="math display">\[\mathcal{F}^X_t=\sigma(\{X_s,\ s\le
t\}).\]</span></p>
<p>Indeed, <span class="math inline">\(X_t\)</span> is adapted to this
filtration.</p>
<p> </p>
</div>
<div id="martingales" class="section level4">
<h4>Martingales</h4>
<blockquote class="def">
<p><strong>Definition C.1.</strong> Let <span
class="math inline">\(M_t\)</span> be a stochastic process defined on a
background space <span
class="math inline">\((\Omega,\mathcal{F},P)\)</span>. Let <span
class="math inline">\((\mathcal{F}_t)_{t\ge 0}\)</span> be a filtration.
If <span class="math inline">\(M_t\)</span> is adapted to the filtration
<span class="math inline">\(\mathcal{F}_t\)</span>, <span
class="math inline">\(E\vert M_t\vert &lt;\infty\)</span> and</p>
<p><span class="math display">\[E[M_t\vert
\mathcal{F}_s]=M_s,\hspace{20pt}P-\text{a.s.}\]</span></p>
<p>holds for any <span class="math inline">\(t&gt;s\)</span> we say that
<span class="math inline">\(M_t\)</span> is a martingale (<span
class="math inline">\(\mathbf{F}\)</span>-martingale). If the above has
<span class="math inline">\(\le\)</span> or <span
class="math inline">\(\ge\)</span> we say that <span
class="math inline">\(M_t\)</span> is either a
<strong>submartingale</strong> or <strong>supermartingale</strong>
respectively.</p>
</blockquote>
<p>Naturally, this defintions may easily be extended to discrete models
and we have the trivial equality:</p>
<p><span class="math display">\[E[M_t-M_s\ \vert\
\mathcal{F}_s]=0.\]</span></p>
<p>Martingales is useful, when proofing probalistic statements as the
posses tractable properties. A useful technique often include the
construction of the martingale</p>
<p><span class="math display">\[M_t=E[X\ \vert\
\mathcal{F}_t].\]</span></p>
<p> </p>
</div>
<div id="discrete-time-models" class="section level4">
<h4>Discrete time models</h4>
</div>
<div id="one-period-time-models" class="section level4">
<h4>One-period time models</h4>
<p>The study of this course is the <strong>European call</strong> option
(and <em>put</em> option). This financial derivative is an agreement
between two parties where the holder of the option has the right to
<em>“exercise”</em> the derivative, at a future time <span
class="math inline">\(t=T\)</span>. Exercising means buying an asset at
a certain agreed opon price-strike <span
class="math inline">\(K\)</span>. In the case of the put-option: the
holder has the right (but not obligation) to sell the asset at the
strike price <span class="math inline">\(K\)</span>. As such the
derivative has the payoff</p>
<p><span class="math display">\[\text{Call}\
\text{option:}\hspace{10pt}\Phi(S_T)=(S_T-K)^+,\hspace{20pt}\text{Put}\
\text{option:}\hspace{10pt}\Phi(S_T)=(K-S_T)^+.\]</span></p>
<p>Our objective is to understand when an arbitrage exist and to find
the fair price of these derivative. The strategy in pricing is finding a
replicating portfolio with the same payoff as the option (with
probability one) and then price the derivative accordingly.</p>
<div id="model-description" class="section level5">
<h5>Model description</h5>
<p>In the one-period model we consider the simplest possible market. We
have two distinct times <span class="math inline">\(t=0\)</span> (today)
and <span class="math inline">\(t=1\)</span> (tomorrow) and we may buy
any portfolio as a mixture of bonds and one stock. We denote the bonds
price by <span class="math inline">\(B_t\)</span> and the stocks price
by <span class="math inline">\(S_t\)</span> and we assume the
following:</p>
<p><span class="math display">\[
B_0=1,\ B_1=1+R,\hspace{20pt}S_0=s,\ S_1=\left\{\begin{matrix}s\cdot u,
&amp; with\ probability\ p_u.\\s\cdot d, &amp; with\ probability\
p_d.\end{matrix}\right.
\]</span></p>
<p>We may introduce <span class="math inline">\(Z\)</span> as the random
variable</p>
<p><span class="math display">\[
Z=u\cdot (I)+d\cdot (1-I),
\]</span></p>
<p>for an bernoulli variable <span class="math inline">\(I\)</span> with
succes probability <span class="math inline">\(p_u\)</span>. Naturally,
we assume <span class="math inline">\(d\le (1+R)\le u\)</span> (this is
imperative to ensure no arbitrage as we will see).</p>
</div>
<div id="portfolios-and-arbirtage" class="section level5">
<h5>Portfolios and arbirtage</h5>
<p>We study any portfolio on the <span
class="math inline">\((B,S)\)</span> market as a vector <span
class="math inline">\(h=(x,y)\)</span> where <span
class="math inline">\(x\)</span> is the amount of bonds and <span
class="math inline">\(y\)</span> is the amount of stock held in the
portfolio. Notice that we allow for shorting, that is <span
class="math inline">\(x&lt;0\)</span> or <span
class="math inline">\(y&lt;0\)</span>. As such, we have that <span
class="math inline">\(h\in \mathbb{R}^2\)</span>. In this we have made
some unrealistic, but attractable assumptions included in the
assumptions:</p>
<ul>
<li>We allow short positions and fractional holding, i.e. <span
class="math inline">\(h\in \mathbb{R}^2\)</span>,</li>
<li>We assume no spread between ask and bids,</li>
<li>No transaction costs and</li>
<li>A completely liquid market i.e. we may borrow and buy as much stock
and bonds as wanted.</li>
</ul>
<p>Given that we have chosen a portfolio <span
class="math inline">\(h\)</span> we may introduce the value process.</p>
<blockquote class="def">
<p><strong>Definition 2.1.</strong> The <strong>value process</strong>
of the porfolio <span class="math inline">\(h\in\mathbb{R}^2\)</span> is
the stochastic process</p>
<p><span class="math display">\[V^h_t=xB_t+yS_t,\ t=0,1.\]</span></p>
</blockquote>
<p>Given this notation we may define what an arbitrage is.</p>
<blockquote class="def">
<p><strong>Definition 2.2.</strong> An <strong>arbitrage</strong> is a
portfolio <span class="math inline">\(h\)</span> with the properties: 1)
<span class="math inline">\(V^h_0=0\)</span>, 2) <span
class="math inline">\(P(V^h_1\ge 0)=1\)</span> and 3) <span
class="math inline">\(P(V^h_1&gt;0)&gt;0\)</span>.</p>
</blockquote>
<p>That is <span class="math inline">\(h\)</span> is an deterministic
money-machine where we at least never loose any money. Granted the bonds
give a determinictic non-negative return, but an arbitrage does not
require any money out of pocket. With the notion of an arbitrage we will
show the first proposition regarding the choice of <span
class="math inline">\(R,u,d\)</span> as defined above.</p>
<blockquote class="prop">
<p><strong>Proposition 2.3.</strong> The one-period binomial model is
arbitrage free if and only if the following inequality hold:</p>
<p><span class="math display">\[d\le (1+R)\le u.\tag{2.1}\]</span></p>
</blockquote>
<details>
<summary>
<strong>Proof.</strong>
</summary>
<p>The statement is proofed by contradiction. Assume that <span
class="math inline">\(d&gt;1+R\)</span> holds. Then by definition <span
class="math inline">\(u&gt;d&gt;1+R\)</span>. Notice that any portfolio
satisfying <span class="math inline">\(V_0^h=0\)</span> must satisfy</p>
<p><span class="math display">\[0=xB_0+yS_0=x+ys\iff x=-ys\]</span></p>
<p>That is for some choice <span class="math inline">\(y\)</span> the
only arbitrage candidate is the portfolio <span
class="math inline">\(h=(-ys,y)\)</span>. Calculating the value at time
<span class="math inline">\(t=1\)</span> we have</p>
<p><span class="math display">\[V_1^h=-ys\cdot(1+R)+y\cdot s\cdot
Z=ys(Z-1-R)\]</span></p>
<p>However since <span class="math inline">\(Z\ge d\)</span> we have
<span class="math inline">\(Z-(1+R)\ge 0\)</span> and therefore an
arbitrage (for <span class="math inline">\(y&gt;0\)</span>). The other
inequality <span class="math inline">\(1+R&gt;u\)</span> follows analog
steps. Simply choose some <span class="math inline">\(y&lt;0\)</span>
and the result follows. <span
class="math inline">\(\blacksquare\)</span></p>
</details>
<p>From inequality (2.1) we see that since <span
class="math inline">\(1+R\)</span> is between <span
class="math inline">\(u\)</span> and <span
class="math inline">\(d\)</span> we may find a pair <span
class="math inline">\(q_d,q_u\ge 0\)</span> with <span
class="math inline">\(q_d+q_u=1\)</span> such that</p>
<p><span class="math display">\[1+R=q_u\cdot u+q_d\cdot d.\]</span></p>
<p>This yields the important risk neutral valuation formula as summed op
in the following definition</p>
<blockquote class="def">
<p><strong>Definition 2.4.</strong> A probability measure <span
class="math inline">\(Q\)</span> is called a <strong>martingale
meausre</strong> if the following condition holds:</p>
<p><span class="math display">\[S_0=\frac{1}{1+R}E^Q[S_1].\]</span></p>
</blockquote>
<p>The above measure <span class="math inline">\(Q\)</span> is the
measure <span class="math inline">\(Q(Z=d)=q_d\)</span> and <span
class="math inline">\(Q(Z=u)=q_u\)</span> for the binomial model. This
does in fact yield the risk neautral valuation formula:</p>
<p><span class="math display">\[\begin{align*}
S_0&amp;=\frac{1}{1+R}E^Q[S_1]=\frac{1}{1+R}(Q(Z=d)\cdot d\cdot
s+Q(Z=u)\cdot u\cdot s)\\
&amp;=s\frac{1}{1+R}(q_d\cdot d+q_u\cdot u)=s,
\end{align*}\]</span></p>
<p>where we simply use <span class="math inline">\(1+R=q_d\cdot
d+q_u\cdot u\)</span>. We call this the risk neautral valuation formula
because it in some sense gives an expected discounted value of the
future stock price. We end this endavour with reformulating the
arbitrage proposition and determining the values of the <span
class="math inline">\(Q\)</span>-measure.</p>
<blockquote class="prop">
<p><strong>Proposition 2.5.</strong> The one-period binomial model is
arbitrage free if and only if there exists a martingale measure <span
class="math inline">\(Q\)</span>.</p>
</blockquote>
<blockquote class="prop">
<p><strong>Proposition 2.6.</strong> The one-period binomial model has
martingale probabilities given by:</p>
<p><span
class="math display">\[\left\{\begin{matrix}q_u=\frac{(1+R)-d}{u-d},\\
q_u=\frac{u-(1+R)}{u-d}.\end{matrix}\right.\]</span></p>
</blockquote>
</div>
<div id="contingent-claims" class="section level5">
<h5>Contingent Claims</h5>
<p>This chapter revolves around the financial derivative and we start by
stating the definition of the financial derivative.</p>
<blockquote class="def">
<p><strong>Definition 2.7.</strong> A <strong>contingent claim</strong>
(financial derivative) is <em>any</em> stochastic variable <span
class="math inline">\(X\)</span> of the form <span
class="math inline">\(\Phi(Z)\)</span>, where <span
class="math inline">\(Z\)</span> is the stochastic varible driving the
stock price process.</p>
</blockquote>
<p>We may also call the function <span
class="math inline">\(\Phi\)</span> the <strong>contract
function</strong> as it states how the contract is resolved once the
stochastic variable <span class="math inline">\(Z\)</span> has been
realised. Our objective is now to study, what a buyer of said contract
would have to pay at any given time <span
class="math inline">\(t\)</span>. We call the fair price of <span
class="math inline">\(X\)</span> at time <span
class="math inline">\(t\)</span>: <span
class="math inline">\(\Pi_t[X]\)</span>. As such it is easy to see that
the fair price at the time of maturity <span
class="math inline">\(T\)</span> is simply the payout <span
class="math inline">\(X\)</span> i.e. <span
class="math inline">\(\Pi_T[X]=X\)</span>. Our strategy is to find a
replicating portfolio <span class="math inline">\(h\)</span> and
determine the price of said portfolio.</p>
<blockquote class="def">
<p><strong>Definition 2.8.</strong> A contingent claim <span
class="math inline">\(X\)</span> can be <strong>replicated</strong>, or
said to be <strong>reachable</strong> if there exist a portfolio <span
class="math inline">\(h\)</span> such that</p>
<p><span class="math display">\[
V_1^h=X,
\]</span></p>
<p>with probability one. In that case, we say that the portfolio <span
class="math inline">\(h\)</span> is a <strong>hedging</strong> portfolio
or a <strong>replicationg</strong> portfolio. If all claims can be
replicated we say that the market is <strong>complete</strong>.</p>
</blockquote>
<p>Our pricing strategy is then to determine the value process of the
replicating portfolio and then by the first pricing principle below we
say that the price is imply the value of the replicating portfolio.</p>
<p><strong>Pricing principle 1.</strong> If a clain <span
class="math inline">\(X\)</span> is reachable with replicating portfolio
<span class="math inline">\(h\)</span>, then the only reasonable price
process for <span class="math inline">\(X\)</span> is given by</p>
<p><span class="math display">\[
\Pi_t[X]=V_t^h.
\]</span></p>
<p>Notice, that this assumes that a replicating portfolio exist and even
so we have a uniqueness statement to solve. We end this section by
writing two important results.</p>
<blockquote class="prop">
<p><strong>Proposition 2.9.</strong> Suppose that a claim <span
class="math inline">\(X\)</span> is reachable with replicating portfolio
<span class="math inline">\(h\)</span>. Then any price at time <span
class="math inline">\(t\ge 0\)</span> of the claim <span
class="math inline">\(X\)</span> other than the value process of <span
class="math inline">\(h\)</span> will lead to an arbitrage on the
extended market <span class="math inline">\((B,S,X)\)</span>.</p>
</blockquote>
<blockquote class="prop">
<p><strong>Proposition 2.10.</strong> If the one-period binomial model
is free of arbitrage, then it is also complete.</p>
</blockquote>
<p>The hedging portfolio in the one-period binomial model is given by
the portfolio <span class="math inline">\((x,y)\)</span> below</p>
<p><span class="math display">\[
x=\frac{1}{1+R}\cdot\frac{u\Phi(d)-d\Phi(u)}{u-d},\hspace{20pt}y=\frac{1}{s}\cdot\frac{\Phi(u)-\Phi(d)}{u-d}.
\]</span></p>
</div>
<div id="risk-neutral-valuation" class="section level5">
<h5>Risk Neutral Valuation</h5>
<p>We see that since the one-period model is complete we can price any
contingent claim and we see that</p>
<p><span class="math display">\[\begin{align*}
\Pi_0[X]&amp;=\frac{1}{1+R}\cdot\frac{u\Phi(d)-d\Phi(u)}{u-d}+s\frac{1}{s}\cdot\frac{\Phi(u)-\Phi(d)}{u-d}\\
&amp;=\frac{1}{1+R}\left\{\frac{u\Phi(d)-d\Phi(u)}{u-d}+(1+R)\frac{\Phi(u)-\Phi(d)}{u-d}\right\}\\
&amp;=\frac{1}{1+R}\left\{\frac{(1+R)-d}{u-d}\Phi(u)+\frac{u-(1+R)}{u-d}\Phi(d)\right\}\\
&amp;=\frac{1}{1+R}E^Q[X].
\end{align*}\]</span></p>
<p>i.e. the price at time <span class="math inline">\(t=0\)</span>
should simply be the expected discounted payout according to the
martingale measure. This leads to the important pricing proposition:</p>
<blockquote class="prop">
<p><strong>Proposition 2.11.</strong> If the one-period binomial model
is free of arbitrage, then the arbitrage free price of a contingent
claim <span class="math inline">\(X\)</span> is given by</p>
<p><span class="math display">\[
\Pi_0[X]=\frac{1}{1+R}E^Q[X].\tag{2.4}
\]</span></p>
<p>Here the martingale measure <span class="math inline">\(Q\)</span> is
uniquely determined by the relation</p>
<p><span class="math display">\[
S_0=\frac{1}{1+R}E^Q[S_1],\tag{2.5}
\]</span></p>
<p>and the explicit expressions for <span
class="math inline">\(q_u\)</span> and <span
class="math inline">\(q_d\)</span> are given in proposition 2.6.
Furthermore the claim <span class="math inline">\(X\)</span> can be
replicated using the portfolio</p>
<p><span class="math display">\[\begin{align*}
x&amp;=\frac{1}{1+R}\cdot\frac{u\Phi(d)-d\Phi(u)}{u-d},\tag{2.6}\\
y&amp;=\frac{1}{s}\cdot\frac{\Phi(u)-\Phi(d)}{u-d}.\tag{2.7}
\end{align*}\]</span></p>
</blockquote>
</div>
</div>
<div id="multi-period-model" class="section level4">
<h4>Multi-period model</h4>
<p>The one-period binomial model can easily be extended to a
multi-period model, by assuming that the bond and stock pricess evolve
by the processes:</p>
<p><span class="math display">\[
t\ge1:\ B_t=(1+R)B_{t-1}\hspace{20pt}\text{and}\hspace{20pt}B_0=1,
\]</span></p>
<p><span class="math display">\[
t\ge1:\ S_t=Z_{t-1}S_{t-1}\hspace{20pt}\text{and}\hspace{20pt}S_0=s,
\]</span></p>
<p>where we obviously have that <span
class="math inline">\(B_t=(1+R)^t\)</span> for <span
class="math inline">\(t\ge 0\)</span>. In the above <span
class="math inline">\(Z_t\)</span> is <span
class="math inline">\(u\)</span> with probability <span
class="math inline">\(p_u\)</span> and <span
class="math inline">\(d\)</span> with probability <span
class="math inline">\(p_d\)</span>. In this context, we need to define a
portfolio in terms of a strategy.</p>
<blockquote class="def">
<p><strong>Definition 2.13.</strong> A <strong>portfolio
strategy</strong> is a stochastic process on <span
class="math inline">\(\{1,...,T\}\)</span></p>
<p><span class="math display">\[
h=\left\{h_t=(x_t,y_t);\ t=1,...,T\right\}
\]</span></p>
<p>such that <span class="math inline">\(h_t\)</span> is a function of
<span class="math inline">\(S_0,S_1,...,S_{t-1}\)</span>. For a given
portfolio strategy <span class="math inline">\(h\)</span> we set <span
class="math inline">\(h_0=h_1\)</span> by convention. The associated
<strong>value process</strong> corresponding to the portfolio <span
class="math inline">\(h\)</span> is defined by</p>
<p><span class="math display">\[
V_t^h=x_t(1+R)+y_tS_t.
\]</span></p>
</blockquote>
<p>Given this notation we may define what an arbitrage is, but first we
introduce the notion of a self-financing portfolio. A self-financing
portfolio in an intuative sense is a portfolio that is not withdrawn
from or deposited into.</p>
<blockquote class="def">
<p><strong>Definition 2.14.</strong> A portfolio strategy <span
class="math inline">\(h\)</span> is said to be
<strong>self-financing</strong> if the following condition holds for all
<span class="math inline">\(t=0,...,T-1\)</span>:</p>
<p><span class="math display">\[
x_t(1+R)+y_tS_t=x_{t+1}+y_{t+1}S_t.
\]</span></p>
</blockquote>
<p>The above equation says that the portfolio purchased at time <span
class="math inline">\(t\)</span> and helt until <span
class="math inline">\(t+1\)</span> <span
class="math inline">\((x_{t+1},y_{t+1})\)</span> can only be financed by
the market value of the portfolio held from <span
class="math inline">\([t-1,t)\)</span> i.e. <span
class="math inline">\((x_{t},y_{t})\)</span>. We now define an
arbitrage.</p>
<blockquote class="def">
<p><strong>Definition 2.15.</strong> An <strong>arbitrage</strong> is a
self-financing portfolio <span class="math inline">\(h\)</span> with the
properties: 1) <span class="math inline">\(V^h_0=0\)</span>, 2) <span
class="math inline">\(P(V^h_T\ge 0)=1\)</span> and 3) <span
class="math inline">\(P(V^h_T&gt;0)&gt;0\)</span>.</p>
</blockquote>
<p>The multiperiod binomial model has an just like the oneperiod model a
result regarding when an arbitrage exists.</p>
<blockquote class="lem">
<p><strong>Lemma 2.16.</strong> If <span class="math inline">\(d\le
(1+R)\le u\)</span> then the multiperiod model is arbitrage-free.</p>
</blockquote>
<p>As one can see, the multiperiod model is rather similar to the one
period model. We wil in the following summarise equivalent statements
for the multiperiod model as the ones in the oneperiod model.</p>
<blockquote class="def">
<p><strong>Definition 2.17.</strong> The martingale probabilities <span
class="math inline">\(q_u\)</span> and <span
class="math inline">\(q_d\)</span> are defined as the probabilities for
which the relation below holds.</p>
<p><span class="math display">\[
s=\frac{1}{1+R}E^Q[S_{t+1}\ \vert\ S_t].
\]</span></p>
</blockquote>
<blockquote class="prop">
<p><strong>Proposition 2.18.</strong> The martingale probabilities <span
class="math inline">\(q_u\)</span> and <span
class="math inline">\(q_d\)</span> are given by</p>
<p><span class="math display">\[
\left\{\begin{matrix}q_u=\frac{(1+R)-d}{u-d},\\
q_u=\frac{u-(1+R)}{u-d}.\end{matrix}\right.
\]</span></p>
</blockquote>
<blockquote class="def">
<p><strong>Definition 2.19.</strong> A <strong>contingent claim</strong>
is a stochastic variable <span class="math inline">\(X\)</span> of the
form</p>
<p><span class="math display">\[
X=\Phi(S_T),
\]</span></p>
<p>where the <strong>contract function</strong> <span
class="math inline">\(\mathbf{\Phi}\)</span> is some given real valued
function.</p>
</blockquote>
<blockquote class="def">
<p><strong>Definition 2.20.</strong> A given contingent claim <span
class="math inline">\(X\)</span> is said to be
<strong>reachable</strong> if there exists a self-financing portfolio
<span class="math inline">\(h\)</span> such that</p>
<p><span class="math display">\[
V_T^h=X,
\]</span></p>
<p>with probability one. In that case we say that the portfolio <span
class="math inline">\(h\)</span> is a <strong>hedging</strong> portfolio
or a <strong>replicating</strong> portfolio. If all claims can be
replicated we say that the market is <em>(dynamically)</em>
<strong>complete</strong>.</p>
</blockquote>
<p><strong>Pricing principle 2.</strong> If a claim <span
class="math inline">\(X\)</span> is reachable with replicating portfolio
<span class="math inline">\(h\)</span>, then the only reasonable price
process for <span class="math inline">\(X\)</span> os given by</p>
<p><span class="math display">\[
\Pi_t[X]=V_t^h,\ t=0,1,...,T.
\]</span></p>
<blockquote class="prop">
<p><strong>Proposition 2.21.</strong> Assume <span
class="math inline">\(X\)</span> is reachable by <span
class="math inline">\(h\)</span>, then any price other than <span
class="math inline">\(V_t^h\)</span> for some <span
class="math inline">\(t\ge 0\)</span> leads to an arbitrage
opportunity.</p>
</blockquote>
<blockquote class="prop">
<p><strong>Proposition 2.22.</strong> The multiperiod model is complete,
i.e. every claim can be replicated by a self-financing portfolio.</p>
</blockquote>
<blockquote class="prop">
<p><strong>Proposition 2.24.</strong> <strong>(Binomial
algorithm)</strong> Consider a <span
class="math inline">\(T\)</span>-claim <span
class="math inline">\(X=\Phi(S_T)\)</span>. Then this claim can be
replicated using af self-financing portfolio. If <span
class="math inline">\(V_t(k)\)</span> denotes the value of the portfolio
at the node <span class="math inline">\((t,k)\)</span> (<span
class="math inline">\(k\)</span> referring to <span
class="math inline">\(k\)</span> amount of up-moves for the stock), then
<span class="math inline">\(V_t(k)\)</span> can be computed recursively
by the scheme</p>
<p><span class="math display">\[
\left\{\begin{matrix}V_t(k)=\frac{1}{1+R}\left\{q_uV_{t+1}(k+1)+q_dV_{t+1}(k)\right\},\\
V_T(k)=\Phi(su^kd^{T-k}).\end{matrix}\right.
\]</span></p>
<p>where the martingale probabilities <span
class="math inline">\(q_u\)</span> and <span
class="math inline">\(q_d\)</span> are given by</p>
<p><span class="math display">\[
\left\{\begin{matrix}q_u=\frac{(1+R)-d}{u-d},\\
q_u=\frac{u-(1+R)}{u-d}.\end{matrix}\right.
\]</span></p>
<p>With the notation as above, the hedging portfolio is given by</p>
<p><span class="math display">\[
\left\{\begin{matrix}x_t(k)=\frac{1}{1+R}\cdot\frac{uV_t(k)-dV_t(k+1)}{u-d},\\
y_t(k)=\frac{1}{S_{t-1}}\cdot\frac{V_t(k+1)-V_t(k)}{u-d}.\end{matrix}\right.
\]</span></p>
<p>In particular, the arbitrage free price of the claim at <span
class="math inline">\(t=0\)</span> is given by <span
class="math inline">\(V_0(0)\)</span>.</p>
</blockquote>
<details>
<summary>
<strong>Example.</strong>
</summary>
<p><img src="FinKont_homework_files/figure-html/unnamed-chunk-4-1.png" width="40%" style="float:right; padding:10px" /></p>
<p>Consider <span class="math inline">\(R=0.04\)</span>, <span
class="math inline">\(s=100\)</span>, <span
class="math inline">\(u=1.1\)</span>, <span
class="math inline">\(d=0.9\)</span>, <span
class="math inline">\(p_u=0.6\)</span> and <span
class="math inline">\(p_d=0.4\)</span>. We consider a model of length
<span class="math inline">\(T=2\)</span> and we want to evaluate the
price of the european call option with srike <span
class="math inline">\(K=90\)</span> that is the contingent claim</p>
<p><span class="math display">\[
X=(S_T-K)^+,\hspace{20pt}\Phi(s)=(s-K)^+.
\]</span></p>
<p>For each time <span class="math inline">\(t\)</span> we know the
replicating portfolio, if we know the payoff the following period.
Therefore we start from the leaves of the tree and work towards the
root. Since the strike price is <span
class="math inline">\(K=90\)</span> the end result will be the following
payoffs:</p>
<p><span class="math display">\[\begin{align*}
u^2:\hspace{20pt}&amp;(121-90)^+=31\\
ud:\hspace{20pt}&amp;(99-90)^+=9\\
du:\hspace{20pt}&amp;(99-90)^+=9\\
d^2:\hspace{20pt}&amp;(81-90)^+=0
\end{align*}\]</span></p>
<p>Therefore by the risk neautral valuation formula with <span
class="math inline">\(q_u=\frac{(1+R)-d}{u-d}=0.7\)</span> and <span
class="math inline">\(q_d=\frac{u-(1+R)}{u-d}=0.3\)</span> we have that
the cost of the replicating portfolio at time <span
class="math inline">\(t=1\)</span> is respectively</p>
<p><span class="math display">\[\begin{align*}
u:\hspace{20pt}&amp;\frac{1}{1+R}\left\{31\cdot q_u + 9 \cdot
q_d\right\}\approx 23.46\\
d:\hspace{20pt}&amp;\frac{1}{1+R}\left\{9\cdot q_u + 0 \cdot
q_d\right\}\approx 6.06
\end{align*}\]</span></p>
<p>To replicate this payoff at time <span
class="math inline">\(t=1\)</span> we can use the risk neutral valuation
formula once more to find the base cost of the replicating portfolio
i.e. the price of <span class="math inline">\(X\)</span> at time <span
class="math inline">\(t=0\)</span></p>
<p><span class="math display">\[
\frac{1}{1+R}\left\{23.46\cdot q_u + 6.06 \cdot q_d\right\}\approx
17.54.
\]</span></p>
<p>Working from the root to the leaves we can now calculate the hedging
portfolio at time <span class="math inline">\(t=0,1\)</span> for each
path. For time <span class="math inline">\(t=0\)</span> we calculate</p>
<p><span class="math display">\[\begin{align*}
x=&amp;\frac{1}{1+R}\cdot \frac{u\cdot 6.06-d\cdot 23.46}{u-d}\approx
-69.46,\\
y=&amp;\frac{1}{s}\cdot\frac{23.46-6.06}{u-d}\approx0.87
\end{align*}\]</span></p>
<p>We see by calculations that this does indeed replicate the payoff at
time <span class="math inline">\(t=1\)</span>:</p>
<p><span class="math display">\[\begin{align*}
u:\hspace{20pt}&amp;V_1^h=(1+R)\cdot x + 110\cdot y\approx 23.46,\\
d:\hspace{20pt}&amp;V_1^h=(1+R)\cdot x + 90\cdot y\approx 6.06.
\end{align*}\]</span></p>
<p>We also see by calculation that the initial portfolio does cost the
expected 17.54 as</p>
<p><span class="math display">\[
x\cdot 1+y\cdot100=87-69.46=17.54.
\]</span></p>
<p>Following these steps at time <span
class="math inline">\(t=1\)</span> the portfolios <span
class="math inline">\((-86.54,1)\)</span> (for the up-scenario) and
<span class="math inline">\((-38.94,0.5)\)</span> (for the
down-scenario) would arise. Notice when calculating <span
class="math inline">\(y\)</span> one has to use the current price <span
class="math inline">\(S_1=S_0\cdot Z\)</span> not <span
class="math inline">\(S_0\)</span>. One should also check by similar
calculations as above, that these portfolios does indeed replicate the
payoff of the contingent claim <span class="math inline">\(X\)</span>.
<span class="math inline">\(\square\)</span></p>
</details>
<blockquote class="prop">
<p><strong>Proposition 2.25.</strong> The arbitrage free price at <span
class="math inline">\(t=0\)</span> of a <span
class="math inline">\(T\)</span>-claim <span
class="math inline">\(X\)</span> is given by</p>
<p><span class="math display">\[
\Pi_0[X]=\frac{1}{(1+R)^T}E^Q[X]
\]</span></p>
<p>where <span class="math inline">\(Q\)</span> denotes the martingale
measure, or more explicitly</p>
<p><span class="math display">\[
\Pi_0[X]=\frac{1}{(1+R)^T}\sum_{k=0}^T\binom{T}{k}q_u^kq_d^{T-k}\Phi(su^kd^{T-k}).
\]</span></p>
</blockquote>
<details>
<summary>
<strong>Example.</strong>
</summary>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>R <span class="ot">&lt;-</span> <span class="fl">0.04</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>s <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>u <span class="ot">&lt;-</span> <span class="fl">1.1</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fl">0.9</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>p_u <span class="ot">&lt;-</span> <span class="fl">0.6</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>p_d <span class="ot">&lt;-</span> <span class="fl">0.4</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>q_u <span class="ot">&lt;-</span> (<span class="dv">1</span><span class="sc">+</span>R<span class="sc">-</span>d)<span class="sc">/</span>(u<span class="sc">-</span>d)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>q_d <span class="ot">&lt;-</span> (u<span class="dv">-1</span><span class="sc">-</span>R)<span class="sc">/</span>(u<span class="sc">-</span>d)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>cap_t <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co">#Test for K=90</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>K <span class="ot">&lt;-</span> <span class="dv">90</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>pi_0 <span class="ot">&lt;-</span> (<span class="dv">1</span><span class="sc">+</span>R)<span class="sc">**</span>(<span class="sc">-</span>cap_t)<span class="sc">*</span><span class="fu">sum</span>(</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">choose</span>(cap_t,<span class="dv">0</span><span class="sc">:</span>cap_t)<span class="sc">*</span>q_u<span class="sc">**</span>(<span class="dv">0</span><span class="sc">:</span>cap_t)<span class="sc">*</span>q_d<span class="sc">**</span>(cap_t <span class="sc">-</span> <span class="dv">0</span><span class="sc">:</span>cap_t)<span class="sc">*</span><span class="fu">pmax</span>(s<span class="sc">*</span>u<span class="sc">**</span>(<span class="dv">0</span><span class="sc">:</span>cap_t)<span class="sc">*</span>d<span class="sc">**</span>(cap_t <span class="sc">-</span> <span class="dv">0</span><span class="sc">:</span>cap_t)<span class="sc">-</span>K,<span class="dv">0</span>)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>) <span class="co"># = 17.53883</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>pi_0 <span class="ot">&lt;-</span> <span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="dv">0</span><span class="sc">:</span><span class="fu">ceiling</span>(s<span class="sc">*</span>u<span class="sc">**</span>cap_t), <span class="cf">function</span>(K){</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  (<span class="dv">1</span><span class="sc">+</span>R)<span class="sc">**</span>(<span class="sc">-</span>cap_t)<span class="sc">*</span><span class="fu">sum</span>(</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">choose</span>(cap_t,<span class="dv">0</span><span class="sc">:</span>cap_t)<span class="sc">*</span>q_u<span class="sc">**</span>(<span class="dv">0</span><span class="sc">:</span>cap_t)<span class="sc">*</span>q_d<span class="sc">**</span>(cap_t <span class="sc">-</span> <span class="dv">0</span><span class="sc">:</span>cap_t)<span class="sc">*</span><span class="fu">pmax</span>(s<span class="sc">*</span>u<span class="sc">**</span>(<span class="dv">0</span><span class="sc">:</span>cap_t)<span class="sc">*</span>d<span class="sc">**</span>(cap_t <span class="sc">-</span> <span class="dv">0</span><span class="sc">:</span>cap_t)<span class="sc">-</span>K,<span class="dv">0</span>)</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>}))</span></code></pre></div>
<p><img src="FinKont_homework_files/figure-html/unnamed-chunk-6-1.png" width="40%" style="float:right; padding:10px" /></p>
<p>We follow an analog example as the one after proposition 2.24. Let
<span class="math inline">\(K=90\)</span> and we see that</p>
<p><span class="math display">\[\begin{align*}
&amp;\Pi_0[X]\\
&amp;=\frac{1}{(1+0.04)^2}\sum_{k=0}^2\binom{2}{k}\cdot0.7^k\cdot0.3^{2-k}\cdot\Phi(100\cdot
1.1^k\cdot0.9^{2-k})\\
&amp;=0.9245562\cdot\left(\underbrace{1\cdot
1\cdot0.09\cdot0}_{k=0}+\underbrace{2\cdot 0.7\cdot0.
3\cdot 9}_{k=1}+\underbrace{1\cdot 0.49\cdot1\cdot31}_{k=2}\right)\\
&amp;=0.9245562\cdot\left(0+3.78+15.19\right)\\
&amp;=17.53883
\end{align*}\]</span></p>
<p>Since we know that <span class="math inline">\(K\)</span> must
meaningfully range in <span class="math inline">\([0,121]\)</span> we
could try to calculate the price of the contingent claim at time <span
class="math inline">\(t=0\)</span> for all integers in this interval. We
see that the price range between <span
class="math inline">\(S_0\)</span> and 0 as expected. One can also see
that the price changes slope at the prices 99 and 121 as the function is
linear in <span class="math inline">\(\Phi\)</span> and som realisations
loose any effect on the price when the strike is higher than the
outcome. <span class="math inline">\(\square\)</span></p>
</details>
<blockquote class="prop">
<p><strong>Proposition 2.26.</strong> The condition <span
class="math inline">\(d&lt;(1+R)&lt;u\)</span> is necessary and
sufficient condition for absence of arbitrage.</p>
</blockquote>
</div>
<div id="generelised-one-period-model" class="section level4">
<h4>Generelised one-period model</h4>
<p>In the previous we had the simpel model where we only had one
stochastic asset <span class="math inline">\(S\)</span> and only one
stochastic variable <span class="math inline">\(Z\)</span> determining
the future stock price. Now we will generelise this model by introducing
<span class="math inline">\(N\)</span> assets and introducing som
stochastic behaviour to the system.</p>
<div id="model-specification" class="section level5">
<h5>Model specification</h5>
<p>We consider the market consisting of a collection of stochastic
prices assets <span class="math inline">\(i=1,...,N\)</span> with <span
class="math inline">\(N\)</span>-dimensional price process.</p>
<p><span class="math display">\[
S_t=\begin{bmatrix} S_t^1\\
\vdots\\
S_t^N\end{bmatrix}
\]</span></p>
<p>We now assume that <span class="math inline">\(S_t\)</span> is
defined on a background space with finite sample space <span
class="math inline">\(\Omega = \{\omega_1,...,\omega_M\}\)</span> with
associated probabilities <span
class="math inline">\(p_j=P(\omega_j)\)</span>, <span
class="math inline">\(j=1,...,M\)</span>. We can then for eact time
<span class="math inline">\(t=1,...,T\)</span> define the <span
class="math inline">\(N\times M\)</span> matrix <span
class="math inline">\(D_t\)</span> as such</p>
<p><span class="math display">\[
D_t=\begin{bmatrix} S_t^1(\omega_1)&amp;\cdots &amp;S_t^1(\omega_M)\\
\vdots &amp;\ddots &amp; \vdots\\
S_t^N(\omega_1) &amp;\cdots&amp;S_t^M(\omega_M)\end{bmatrix}.
\]</span></p>
<p>We will assume that <span class="math inline">\(S_0^1&gt;0\)</span>
and <span class="math inline">\(S_1^1(\omega_j)&gt;0\)</span>, <span
class="math inline">\(j=1,...,M\)</span>.</p>
</div>
<div id="absence-of-arbitrage" class="section level5">
<h5>Absence of Arbitrage</h5>
<p>We now define a <strong>portfolio</strong> as an <span
class="math inline">\(N\)</span>-dimensional row vector</p>
<p><span class="math display">\[
h=\begin{bmatrix} h^1, \dots,h^N\end{bmatrix}
\]</span></p>
<p>representing the amount of assets held at time <span
class="math inline">\(t=0\)</span> and held until <span
class="math inline">\(t=1\)</span>. The <strong>value process</strong>
is then</p>
<p><span class="math display">\[
V^h_t=h\cdot S_t=\sum_{i=1}^N h^iS_t^i,\ t=0,1.
\]</span></p>
<p>For a given <span class="math inline">\(\omega_j\in\Omega\)</span> we
have the realisation</p>
<p><span class="math display">\[
V_t^h=hS_t(\omega_j)=hd_j=(hD)_j.
\]</span></p>
<blockquote class="def">
<p><strong>Definition 3.1.</strong> The portfolio <span
class="math inline">\(h\)</span> is an <strong>arbitrage
portfolio</strong> fil it satisfies the conditions: <span
class="math inline">\(V_0^h=0\)</span>, <span
class="math inline">\(P(V_1^h\ge 0)=1\)</span> and <span
class="math inline">\(P(V_1^h&gt;0)&gt;0\)</span>.</p>
</blockquote>
<blockquote class="lem">
<p><strong>Lemma 3.2.</strong> <strong>(Farkas’ Lemma)</strong> Suppose
that <span class="math inline">\(d_0,d_1,...,d_M\)</span> are column
vectors in <span class="math inline">\(\mathbb{R}^N\)</span>. Then
exactly one of the following problems possesses a solution.</p>
<ul>
<li><strong>Problem 1</strong>: There exist <span
class="math inline">\(\lambda_1,...,\lambda_M\ge0\)</span> such that
<span class="math inline">\(d_0=\sum_{j=1}^M\lambda_jd_j\)</span>.</li>
<li><strong>Problem 2</strong>: There exist <span
class="math inline">\(h\in\mathbb{R}^N\)</span> such that <span
class="math inline">\(h^\top d_0&lt;0\)</span> and <span
class="math inline">\(h^\top d_j\ge 0\)</span> for <span
class="math inline">\(j=1,...,M\)</span>.</li>
</ul>
</blockquote>
<p>We now investegate this system for any possible arbitrage portfolios.
However first we acknowledge that there exist a nominal price system
<span class="math inline">\(S_t\)</span> and a normalised price system
<span class="math inline">\(Z_t\)</span>. The latter we define as the
nominel pricess under the numeraire <span
class="math inline">\(S_t^1\)</span> that is</p>
<p><span class="math display">\[
Z_t=\begin{bmatrix} S_t^1/S_t^1\\
S_t^2/S_t^1\\
\vdots\\
S_t^N/S_t^1\end{bmatrix}=\begin{bmatrix} 1\\
S_t^2/S_t^1\\
\vdots\\
S_t^N/S_t^1\end{bmatrix}.
\]</span></p>
<p>The reason for introducing the normalized price system is that we can
without much effort translate results in this system to the nominal
system and the normalised system is easier to analize. For this,
however, we need af few results.</p>
<blockquote class="lem">
<p><strong>Lemma 3.3.</strong> With notation as above, the following
hold.</p>
<ol style="list-style-type: decimal">
<li>The <span class="math inline">\(Z_t\)</span> value process i related
to the <span class="math inline">\(S_t\)</span> value process by <span
class="math display">\[
  V_t^{h,Z}=hZ_t=\frac{1}{S_t^1}V_t^h.
  \]</span></li>
<li>A portfolio is an arbitrage in the <span
class="math inline">\(S_t\)</span> system if and only if there is an
arbitrage in the <span class="math inline">\(Z_t\)</span> system.</li>
<li>In the <span class="math inline">\(Z_t\)</span> price system, the
numeraie asset <span class="math inline">\(Z^1\)</span> has unit
constant prices i.e. <span class="math inline">\(Z_t^1=1\)</span> for
all <span class="math inline">\(t\ge 0\)</span>.</li>
</ol>
</blockquote>
<p>One of the reason that the normalised system is attractable is that
the numeraire asset is constant i.e. risk free in the normalised system.
Let us formulate our first main result.</p>
<blockquote class="prop">
<p><strong>Proposition 3.4.</strong> The market is arbitrage free if and
only iff there exists strictly positive real numbers <span
class="math inline">\(q_1,...,q_M\ge 0\)</span> with <span
class="math inline">\(q_1+\cdots + q_M=1\)</span> (probability vector)
such that the following vector equality holds</p>
<p><span class="math display">\[
\begin{bmatrix} Z_0^1\\
\vdots\\
Z_N^1\end{bmatrix}=\begin{bmatrix} Z_1^1(\omega_1)\\
\vdots\\
Z_1^N(\omega_1)\end{bmatrix}q_1+\cdots +\begin{bmatrix}
Z_1^1(\omega_M)\\
\vdots\\
Z_1^N(\omega_M)\end{bmatrix}q_M.\tag{3.3}
\]</span></p>
</blockquote>
<details>
<summary>
<strong>Proof.</strong>
</summary>
</details>
</div>
<div id="martingale-measures" class="section level5">
<h5>Martingale Measures</h5>
<blockquote class="def">
<p><strong>Definition 3.5.</strong> Given the objective probability
measure <span class="math inline">\(P\)</span> on <span
class="math inline">\((\Omega,\mathcal{F},P)\)</span>, we say that
another probability measure <span class="math inline">\(Q\)</span>
defined on <span class="math inline">\(\Omega\)</span> is
<strong>equivalent</strong> to <span class="math inline">\(P\)</span>
if</p>
<p><span class="math display">\[
\forall A\in\mathcal{F}:P(A)=0\iff Q(A)=0,
\]</span></p>
<p>or equivalently</p>
<p><span class="math display">\[
\forall A\in\mathcal{F}:P(A)=1\iff Q(A)=1.
\]</span></p>
</blockquote>
<blockquote class="def">
<p><strong>Definition 3.7.</strong> Consider the market model above and
set <span class="math inline">\(S^1\)</span> as the numeraire asset. We
say that a probability measure <span class="math inline">\(Q\)</span>
defined on <span class="math inline">\(\Omega\)</span> is a
<strong>martingale measure</strong> if it satisfies the following
conditions:</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(Q\)</span> is equivalent to <span
class="math inline">\(P\)</span>, i.e. <span class="math inline">\(Q\sim
P\)</span>.</li>
<li>For every <span class="math inline">\(i=1,...,N\)</span>, the
normalized asset price process <span class="math display">\[
  Z_t^i=\frac{S_t^i}{S_t^1},
  \]</span> is martingale under the measure <span
class="math inline">\(Q\)</span>.</li>
</ol>
</blockquote>
<blockquote class="thm">
<p><strong>Theorem 3.8.</strong> <strong>(First Fundamental
Theorem)</strong> Given a fixed numeraire, ther market is free of
arbitrage possibilities if and only if there exists a martingale measure
<span class="math inline">\(Q\)</span>.</p>
</blockquote>
<p>By assuming that the numeraire asset is risk free (i.e. does not
depend on <span class="math inline">\(\omega\)</span>) then by scaling
we can derive the short interest rate as</p>
<p><span class="math display">\[
1+R=\frac{S_1^1}{S_0^1}.
\]</span></p>
<p>With this in mind we can formulate theorem 3.8 in its more widely
used form.</p>
<blockquote class="thm">
<p><strong>Theorem 3.9.</strong> <strong>(First Fundamental
Theorem)</strong> Assume that there exist a risk free asset, and denote
the corresponding risk free interest rate by <span
class="math inline">\(R\)</span>. Then the market is arbitrage free if
and only if there exist a measure <span class="math inline">\(Q\sim
P\)</span> such that</p>
<p><span class="math display">\[
S_0^i=\frac{1}{1+R}E^Q[S_1^i],\hspace{20pt}\text{for all}\
i=1,...,N.\tag{3.9}
\]</span></p>
</blockquote>
</div>
<div id="martingale-pricing" class="section level5">
<h5>Martingale Pricing</h5>
<p>Moving forward we will assume that there exist a risk free asset and
we will denote it by <span class="math inline">\(B_t\)</span> (<span
class="math inline">\(B_t=S^1_t/S^1_0\)</span>).</p>
<blockquote class="def">
<p><strong>Definition 3.10.</strong> A <strong>contingent claim</strong>
is any random variable <span class="math inline">\(X\)</span>, defined
on the sample space <span class="math inline">\(\Omega\)</span>.</p>
</blockquote>
<p>To ensure no arbitrage in the extended market containing the <span
class="math inline">\(N\)</span> assets and the contingent claim we can
apply the first fundamental pricing theorem on the extended market.</p>
<blockquote class="prop">
<p><strong>Proposition 3.11.</strong> Consider a given claim <span
class="math inline">\(X\)</span>. In order to avoid arbitrage, <span
class="math inline">\(X\)</span> must then be priced according to the
formula</p>
<p><span class="math display">\[
\Pi_0[X]=\frac{1}{1+R}E^Q[X],\tag{3.10}
\]</span></p>
<p>where <span class="math inline">\(Q\)</span> is a martingale measure
for the underlying market <span
class="math inline">\((\Pi,S^1,...,S^N)\)</span>.</p>
</blockquote>
</div>
<div id="completeness" class="section level5">
<h5>Completeness</h5>
<p>Given that a market is arbitrage-free we may run into a uniqueness
issue when determining the price of a contingent claim. If a martingale
measure exist we will very much like it to be unique as this will ensure
that the price from the risk neutral valuation formula is unique. To
this we need the market to be complete.</p>
<blockquote class="def">
<p><strong>Definition 3.12.</strong> Consider a contingent claim <span
class="math inline">\(X\)</span>. If there exists a portfolio <span
class="math inline">\(h\)</span>, based on the underlying assets, such
that</p>
<p><span class="math display">\[
V_1^h=X,\ \text{with probability 1}\tag{3.11}
\]</span></p>
<p>i.e.</p>
<p><span class="math display">\[
V_1^h(\omega_j)=X(\omega_j),\ j=1,...,M,\tag{3.12}
\]</span></p>
<p>then we say that <span class="math inline">\(X\)</span> is
<strong>replicated</strong>, or <strong>hedged</strong> by <span
class="math inline">\(h\)</span>. Such a portfolio <span
class="math inline">\(h\)</span> is called a replicating, or hedging
portfolio. If every contingent claim can be replicated, we say that the
market is <strong>complete</strong>.</p>
</blockquote>
<p>We can now formulate a proposition on when the market is complete in
terms of the matrix <span class="math inline">\(D\)</span>.</p>
<blockquote class="prop">
<p><strong>Proposition 3.13.</strong> The market is complete if and only
if the rows of the matrix <span class="math inline">\(D\)</span> span
<span class="math inline">\(\mathbb{R}^M\)</span>, i.e. if and only if
<span class="math inline">\(D\)</span> has rank <span
class="math inline">\(M\)</span>.</p>
</blockquote>
<p>Now we formulate the second fundamental pricing theorem in terms of
the martingale measure <span class="math inline">\(Q\)</span>.</p>
<blockquote class="prop">
<p><strong>Proposition 3.14.</strong> <strong>(Second Fundamental
Theorem)</strong> Assume that the model is arbitrage free i.e. <span
class="math inline">\(Q\)</span> exist. Then the market is unique if and
only if the martingale measure is unique.</p>
</blockquote>
</div>
<div id="stochastic-discount-factors" class="section level5">
<h5>Stochastic Discount Factors</h5>
<blockquote class="def">
<p><strong>Definition 3.16.</strong> The random variable <span
class="math inline">\(L\)</span> on <span
class="math inline">\(\Omega\)</span> is defined by</p>
<p><span class="math display">\[
L(\omega_i)=\frac{q_i}{p_i},\hspace{20pt} i=1,...,M.
\]</span></p>
</blockquote>
<blockquote class="def">
<p><strong>Definition 3.17.</strong> Assume the absence of arbitrage,
and fix a martingale measure <span class="math inline">\(Q\)</span>.
With notation as above, the <strong>stochastic discount factor</strong>
(or “state price deflator”) is the random variable <span
class="math inline">\(\Lambda\)</span> on <span
class="math inline">\(\Omega\)</span> by</p>
<p><span class="math display">\[
\mathbf{M}(\omega)=\frac{1}{1+R}\cdot L(\omega).\tag{3.19}
\]</span></p>
</blockquote>
<blockquote class="prop">
<p><strong>Proposition 3.18.</strong> The arbitrage free price of any
claim <span class="math inline">\(X\)</span> is given by the formula</p>
<p><span class="math display">\[
\Pi_0[X]=E^P[\mathbf{M}\cdot X]
\]</span></p>
<p>where <span class="math inline">\(\mathbf{M}\)</span> is a stochastic
discount factor.</p>
</blockquote>
<p> </p>
</div>
</div>
</div>
<div id="exercises" class="section level3">
<h3>Exercises</h3>
<p><strong>Probability exercises</strong></p>
<p>Let <span class="math inline">\((W(t))_{t\ge}\)</span> be a Brownian
motion (Bjork, Definition 4.1).</p>
<p><strong>Exercise 1.</strong> Show that the following processes also
are Brownian motions.</p>
<ol style="list-style-type: lower-roman">
<li><span class="math inline">\((-W(t))_{t\ge 0}\)</span>
(symmetry)</li>
<li>For any <span class="math inline">\(s\ge 0\)</span>, <span
class="math inline">\((W(t+s)-W(s))_{t\ge 0}\)</span>
(time-homogeneity).</li>
<li>For every <span class="math inline">\(c&gt;0\)</span>, <span
class="math inline">\((cW(t/c^2))_{t\ge 0}\)</span> (scaling).</li>
</ol>
<details>
<summary>
<strong>Solution (i).</strong>
</summary>
<p>By assumption <span class="math inline">\(W\)</span> is a Brownian
motion and so it follows that</p>
<p><span class="math display">\[-W_0=-1\cdot0=0\]</span></p>
<p>Furthermore, for <span class="math inline">\(r&lt;s\le t&lt;
u\)</span> it holds that <span class="math inline">\(W_u-W_t\)</span>
and <span class="math inline">\(W_s-W_r\)</span> is independent. By
seperate transformations the independence property is preserved and
<span class="math inline">\(-(W_u-W_t)\)</span> and <span
class="math inline">\(-(W_s-W_r)\)</span> is independent. Next, for a
normal distributed random variable <span
class="math inline">\(N\sim\mathcal{N}(\mu,\sigma^2)\)</span> it holds,
that for a scaler <span class="math inline">\(c\in\mathbb{R}\)</span> we
have <span class="math inline">\(c N\sim\mathcal{N}(c\mu,c^2\sigma
^2)\)</span>. Then obviously;</p>
<p><span
class="math display">\[-(W_t)=(-1)W_t\stackrel{d}{=}\mathcal{N}((-1)\cdot0,(-1)^2(t-s))\stackrel{d}{=}\mathcal{N}(
0,t-s).\]</span></p>
<p>Lastly, let <span class="math inline">\(\omega \in \Omega\)</span>
and consider the sample path <span class="math inline">\(s\mapsto
(-W_s)(\omega)\)</span>. Clearly for two continuous functions <span
class="math inline">\(f\)</span> and <span
class="math inline">\(g\)</span> it holds that <span
class="math inline">\((g\circ f)\)</span> is continuous. Then with <span
class="math inline">\(g(f)=-f\)</span> and <span
class="math inline">\(f(t)=W_t(\omega)&quot;/&gt;\)</span> it follows
that <span class="math inline">\((-W_t)=(g\circ W)(t)\)</span> is also
continuous.</p>
</details>
<details>
<summary>
<strong>Solution (ii).</strong>
</summary>
<p>Much like the previous exercise we define a new process and show the
properties hold. Let <span class="math inline">\(s\ge 0\)</span> be
chosen arbitrary. Now define <span
class="math inline">\(X_t=W(t+s)-W(s)\)</span>.</p>
<p>First, we let <span class="math inline">\(t=0\)</span> and see</p>
<p><span
class="math display">\[X_0=W(0+s)-W(s)=W(s)-W(s)=0.\]</span></p>
<p>Secondly, we have that for <span
class="math inline">\(r&lt;u\)</span>:</p>
<p><span
class="math display">\[X_u-X_r=W(u+s)-W(s)-(W(r+s)-W(s))=W(u+s)-W(r+s)\sim
\mathcal{N}(0,u+s-(r+s))=\mathcal{N}(0,u-r).\]</span></p>
<p>and since for <span class="math inline">\(r&lt;u\le k&lt;l\)</span>
the translation <span class="math inline">\(r+s&lt;u+s\le
k+s&lt;l+s\)</span> still holds and <span
class="math inline">\(X_l-X_k=W(l+s)-W(k+s)\)</span> and <span
class="math inline">\(X_u-X_r=W(u+s)-W(k+s)\)</span> are independent.
Finally since <span class="math inline">\(W_t(\omega)\)</span> is
continuous in <span class="math inline">\(t\)</span> hence the
translation <span class="math inline">\(W_{t+s}\)</span> is continouos.
Adding a constant yields a function that is also continuous, hence <span
class="math inline">\(X_t\)</span> is continuous.</p>
</details>
<details>
<summary>
<strong>Solution (iii).</strong>
</summary>
<p>Let <span class="math inline">\(c&gt;0\)</span> be given. We show
that</p>
<p><span
class="math display">\[X_t=cW\left(\frac{t}{c^2}\right)\]</span></p>
<p>is a Brownian motion. We simply show the four properties. Let <span
class="math inline">\(t=0\)</span> and notice</p>
<p><span
class="math display">\[X_0=cW\left(\frac{0}{c^2}\right)=cW(0)=0.\]</span></p>
<p>The second property follows from seperate transformation and that for
<span class="math inline">\(r&lt;u\le s&lt;t\)</span> we consider</p>
<p><span
class="math display">\[X_u-X_r=c\left(W\left(\frac{u}{c^2}\right)-W\left(\frac{r}{c^2}\right)\right)\hspace{20pt}\text{and}\hspace{20pt}X_t-X_s=c\left(W\left(\frac{t}{c^2}\right)-W\left(\frac{s}{c^2}\right)\right)\]</span></p>
<p>and since <span class="math inline">\(c,r,u,t,s&gt;0\)</span> we have
the same order for the scaled version of <span
class="math inline">\(r,u,t,s\)</span> and hence we have two independent
RV scaled by <span class="math inline">\(c\)</span>. Then by seperate
transformations the variables is still independent. Next for the third
property:</p>
<p><span
class="math display">\[X_t-X_s=c\left(W\left(\frac{t}{c^2}\right)-W\left(\frac{s}{c^2}\right)\right)\sim\mathcal{N}\left(c\cdot
0,c^2\left(\frac{t}{c^2}-\frac{s}{c^2}\right)\right)=\mathcal{N}(0,t-s).\]</span></p>
<p>Where we use the properties of scaling a normal distributed random
variable i.e. for <span class="math inline">\(c&gt;0\)</span> and <span
class="math inline">\(N\sim\mathcal{N}(\mu,\sigma ^2)\)</span> it
follows that <span class="math inline">\(c
N\sim\mathcal{N}(c\mu,c^2\sigma ^2)\)</span>. Finally, the forth
property follows since <span class="math inline">\(g(f)=cf\)</span> is
continuous and <span class="math inline">\(h(t)=t/c^2\)</span> is
continuous, then for any continuous function <span
class="math inline">\(f(s)\)</span> it follows that <span
class="math inline">\((g \circ f\circ h)=g(f(h(t)))\)</span> is
continuous.</p>
</details>
<p> </p>
<blockquote class="prop">
<strong>Proposition B.37.</strong> Let <span
class="math inline">\((\Omega,\mathcal{F},P)\)</span> be a given
probability space, let <span class="math inline">\(\mathcal{G}\)</span>
be a sub-sigma-algebra of <span
class="math inline">\(\mathcal{F}\)</span>, and let <span
class="math inline">\(X\)</span> be a square integrable random variable.
Consider the problem of minimizing <span
class="math display">\[E\left[(X-Z)^2\right]\]</span> where <span
class="math inline">\(Z\)</span> is allowed to vary over the class of
all square integrable <span class="math inline">\(\mathcal{G}\)</span>
measurable random variables. The optimal solution <span
class="math inline">\(\hat{Z}\)</span> is then given by. <span
class="math display">\[\hat{Z}=E[X\vert\mathcal{G}].\]</span>
</blockquote>
<p><strong>Exercise 2.</strong> <em>(Bjork, exercise B.11.)</em> Prove
proposition B.37 by going along the following lines.</p>
<ol style="list-style-type: lower-alpha">
<li>Prove that the “estimation error” <span
class="math inline">\(X-E[X\vert\mathcal{G}]\)</span> is orthogonal to
<span class="math inline">\(L^2(\Omega,\mathcal{G},P)\)</span> in the
sence that for any <span class="math inline">\(Z\in
L^2(\Omega,\mathcal{G},P)\)</span> we have <span
class="math display">\[E[Z\cdot(X-E[X\vert\mathcal{G}])]=0\]</span></li>
<li>Now prove the proposition by writing <span
class="math display">\[X-Z=(X-E[X\vert\mathcal{G}])+(E[X\vert\mathcal{G}]-Z)\]</span>
and use the result just proved.</li>
</ol>
<details>
<summary>
<strong>Solution (a).</strong>
</summary>
<p>Let <span class="math inline">\(X\in
L^2(\Omega,\mathcal{F},P)\)</span> be a random variable. Now consider an
arbitrary <span class="math inline">\(Z\in
L^2(\Omega,\mathcal{G},P)\)</span>. Recall that <span
class="math inline">\(\mathcal{G}\subset \mathcal{F}\)</span> and so
<span class="math inline">\(X\)</span> is also in <span
class="math inline">\(Z\in L^2(\Omega,\mathcal{G},P)\)</span>, as it is
bothe square integrable and <span
class="math inline">\(\mathcal{G}\)</span>-measurable. Then</p>
<p><span
class="math display">\[E\left[Z\cdot(X-E[X\vert\mathcal{G}])\right]=E\left[Z\cdot
X\right]-E\left[Z\cdot E[X\vert\mathcal{G}]\right].\]</span></p>
<p>Then by using the law of total expectation and secondly that <span
class="math inline">\(Z\)</span> is <span
class="math inline">\(\mathcal{G}\)</span>-measurable we have that</p>
<p><span class="math display">\[E\left[Z\cdot X\right]=E\left[E[Z\cdot
X\vert\mathcal{G}]\right]=E\left[Z\cdot E[
X\vert\mathcal{G}]\right].\]</span></p>
<p>Combining the two equations gives the desired result.</p>
</details>
<details>
<summary>
<strong>Solution (b).</strong>
</summary>
<p>Obviously, we have that</p>
<p><span
class="math display">\[X-Z=X-Z+E[X\vert\mathcal{G}]-E[X\vert\mathcal{G}]=(X-E[X\vert\mathcal{G}])+(E[X\vert\mathcal{G}]-Z).\]</span></p>
<p>Then squaring the terms gives</p>
<p><span
class="math display">\[(X-Z)^2=(X-E[X\vert\mathcal{G}])^2+(E[X\vert\mathcal{G}]-Z)^2+2(X-E[X\vert\mathcal{G}])(E[X\vert\mathcal{G}]-Z)\]</span></p>
<p>Taking expectation on each side and using linearity of the
expectation we have that</p>
<p><span
class="math display">\[E[(X-Z)^2]=E\left[(X-E[X\vert\mathcal{G}])^2\right]+E\left[(E[X\vert\mathcal{G}]-Z)^2\right]+2E\left[(X-E[X\vert\mathcal{G}])(E[X\vert\mathcal{G}]-Z)\right].\]</span></p>
<p>We can now use that <span
class="math inline">\(E[X\vert\mathcal{G}]-Z\)</span> is <span
class="math inline">\(\mathcal{G}\)</span>-measurable with the above
result on the last term.</p>
<p><span
class="math display">\[E[(X-Z)^2]=E\left[(X-E[X\vert\mathcal{G}])^2\right]+E\left[(E[X\vert\mathcal{G}]-Z)^2\right].\]</span></p>
<p>Now since <span class="math inline">\(X\)</span> is given the term
<span
class="math inline">\(E\left[(X-E[X\vert\mathcal{G}])^2\right]\)</span>
is simply a constant not depending on the choice og <span
class="math inline">\(Z\)</span>. The optimal choice of <span
class="math inline">\(Z\)</span> is then <span
class="math inline">\(E[X\vert\mathcal{G}]\)</span> since this minimizes
the second term. The statement is then proved.</p>
</details>
<p> </p>
<p><strong>Exercise 3.</strong> Discuss the following theory/results of
Moment generating functions (Laplace transform).</p>
<p>Let <span class="math inline">\(X\)</span> be a random variable with
distribution function <span class="math inline">\(F(x)=P(X\le
x)\)</span> and <span class="math inline">\(Y\)</span> be a random
variable with distribution function <span
class="math inline">\(G(y)=P(Y\le y)\)</span>.</p>
<blockquote class="def">
<p><strong>Definition.</strong> The moment generating function or
Laplace transform of <span class="math inline">\(X\)</span> is</p>
<p><span class="math display">\[\psi_X(\lambda)=E\left[e^{\lambda
X}\right]=\int_{-\infty}^\infty e^{\lambda x}dF(x)\]</span></p>
provided the expectation is finite for <span
class="math inline">\(\vert\lambda\vert&lt;h\)</span> for some <span
class="math inline">\(h&gt;0\)</span>.
</blockquote>
<p>The MGF uniquely determine the distribution of a random variable, due
to the following result.</p>
<blockquote class="thm">
<strong>Theorem 1.</strong> <em>(Uniqueness)</em> If <span
class="math inline">\(\psi_X(\lambda)=\psi_Y(\lambda)\)</span> when
<span class="math inline">\(\vert\lambda\vert&lt;h\)</span> for some
<span class="math inline">\(h&gt;0\)</span>, then <span
class="math inline">\(X\)</span> and <span
class="math inline">\(Y\)</span> has the same distribution, that is,
<span class="math inline">\(F=G\)</span>.
</blockquote>
<p>There is also the following result of independence for Moment
generating functions.</p>
<blockquote class="thm">
<p><strong>Theorem 1.</strong> <em>(Independence)</em> If</p>
<p><span
class="math display">\[E\left[e^{\lambda_1X+\lambda_2Y}\right]=\psi_X(\lambda_1)\psi_Y(\lambda_2)\]</span></p>
for <span class="math inline">\(\vert\lambda_i\vert&lt;h\)</span> for
<span class="math inline">\(i=1,2\)</span> for some <span
class="math inline">\(h&gt;0\)</span>, then <span
class="math inline">\(X\)</span> and <span
class="math inline">\(Y\)</span> are independent random variables.
</blockquote>
<p><strong>Example.</strong> Recall that the Moment generating function
of a normal (Gaussian) distribution is given by</p>
<p><span class="math display">\[\psi_X(\lambda)=E\left[e^{\lambda
X}\right]=\exp\left(\lambda \mu +
\frac{\lambda^2}{2}\sigma^2\right)\]</span></p>
<p>where <span class="math inline">\(X\)</span> is normally distributed
with mean <span class="math inline">\(\mu\)</span> and variance <span
class="math inline">\(\sigma^2\)</span> and <span
class="math inline">\(\lambda\in\mathbb{R}\)</span> is a constant. Since
a Brownian motion <span class="math inline">\(W(t)\)</span> is normally
distributed with zero mean and variance <span
class="math inline">\(t\)</span>, we have that</p>
<p><span class="math display">\[E[\exp(\lambda
W(t))]=\exp\left(\frac{\lambda^2}{2}t\right).\]</span></p>
<details>
<summary>
<strong>Discussion.</strong>
</summary>
</details>
<p> </p>
<p><strong>Exercise 4.</strong> <em>(Bjork, exercise C.8.(a-c))</em> Let
<span class="math inline">\(W\)</span> be a Brownian motion. Notice that
for the natural filtration <span
class="math inline">\(\mathcal{F}_s=\sigma(W_t\vert t\le s)\)</span>
<span class="math inline">\(W_t-W_s\)</span> is independent of <span
class="math inline">\(\mathcal{F}_s\)</span></p>
<ol style="list-style-type: lower-alpha">
<li>Show that <span class="math inline">\(W_t\)</span> is a
martingale.</li>
<li>Show that <span class="math inline">\(W^2_t-t\)</span> is a
martingale.</li>
<li>Show that <span class="math inline">\(\exp(\lambda
W_t-\frac{\lambda^2}{2}t)\)</span> is a martingale.</li>
</ol>
<details>
<summary>
<strong>Solution (a).</strong>
</summary>
<p>We show that for the natural filtration that <span
class="math inline">\(W_t\)</span> is a martingale. This include showing
integrability and the martingale property. For the first we note that
for a normal distributed random variable with mean 0 we have</p>
<p><span class="math display">\[E[\vert N\vert]=\int_{-\infty}^\infty
\vert x\vert dF_N(x)=2\int_{0}^\infty xdF_N(x)\]</span></p>
<p>since the distribution is symmetric. Substituting the distribution
function <span class="math inline">\(\Phi(x)=P(N\le x)\)</span> in we
see that</p>
<p><span class="math display">\[E[\vert N\vert]=2\int_{0}^\infty
xd\Phi(x)=2\int_{0}^\infty
x\frac{1}{\sqrt{2\pi\sigma^2}}e^{-x^2/(2\sigma^2)}dx=(*)\]</span></p>
<p>by substituting <span
class="math inline">\(u=x^2/(2\sigma^2)\)</span> (<span
class="math inline">\(x=\sqrt{2\sigma^2u}\)</span>) we have that</p>
<p><span
class="math display">\[\frac{dx}{du}=\frac{1}{2}\sqrt{2\sigma^2u}2\sigma^2=(\sigma^2)^{3/2}\sqrt{2}u\iff
dx=(\sigma^2)^{3/2}\sqrt{2}u\ du\]</span></p>
<p>hence</p>
<p><span
class="math display">\[(*)=\frac{2}{\sqrt{2\pi\sigma^2}}\int_0^{\infty}\sqrt{2\sigma^2u}e^{-u}(\sigma^2)^{3/2}\sqrt{2}u\
du=\frac{2\sqrt{2\sigma^2}(\sigma^2)^{3/2}\sqrt{2}}{\sqrt{2\pi\sigma^2}}\int_0^{\infty}\sqrt{u}e^{-u}u\
du.\]</span></p>
<p>This then simplify to</p>
<p><span
class="math display">\[(*)=\frac{(2\sigma^2)^{3/2}}{\sqrt{\pi}}\int_0^{\infty}u^{3/2}e^{-u}\
du=(2\sigma^2)^{1/2}\sqrt{\frac{2\sigma^2}{\pi}}\int_0^{\infty}u^{3/2}e^{-u}\
du=\sqrt{\frac{2\sigma^2}{\pi}}&lt;\infty.\]</span></p>
<p>(Obviously the above is not derived correctly, but the end expression
is valid, source: <a
href="https://arxiv.org/pdf/1402.3559.pdf">link</a>) However since</p>
<p><span
class="math display">\[W_t=W_t-0=W_t-W_0\sim\mathcal{N}(0,t)\]</span></p>
<p>we have that <span class="math inline">\(E\vert
W_t\vert&lt;\infty\)</span> as desired.</p>
<p>Next, we have that</p>
<p><span class="math display">\[E[W_t\vert
\mathcal{F}_s]=E[W_t-W_s\vert\mathcal{F}_s]+W_s=0+W_s=W_s.\]</span></p>
<p>In the above we used that <span
class="math inline">\(W_t-W_s\)</span> is <span
class="math inline">\(\mathcal{F}_s\)</span>-measurable with mean 0.
Then it follows that <span class="math inline">\(W_t\)</span> is a
martingale.</p>
</details>
<details>
<summary>
<strong>Solution (b).</strong>
</summary>
<p>Let <span class="math inline">\(M_t=W_t^2-t\)</span>. First, we
observe that two measurable functions composed is still a measurable
function. Hence we know that <span class="math inline">\(M_t\)</span> is
measurable wrt. the filtration since <span
class="math inline">\(W_t\)</span> is measurable and <span
class="math inline">\(w\mapsto w^2+t\)</span> is measurable. Secondly,
we have that</p>
<p><span class="math display">\[E[\vert W_t^2-t\vert]\le E\vert
W_t^2\vert +E\vert t\vert=t+t=2t&lt;\infty\]</span></p>
<p>where we use the triangle inequality. Thirdly, for the martingale
property we have that for <span
class="math inline">\(t&gt;s\)</span>:</p>
<p><span class="math display">\[E[M_t\vert \mathcal{F}_s]=E[W_t^2-t\vert
\mathcal{F}_s]=E[W_t^2+W_s^2-2W_tW_s-W_s^2+2W_tW_s-t\vert
\mathcal{F}_s]\]</span></p>
<p>which by linearity and independence of increments to the filtration
gives</p>
<p><span class="math display">\[E[M_t\vert
\mathcal{F}_s]=E[(W_t-W_s)^2-W_s^2+2W_tW_s-t\vert
\mathcal{F}_s]=t-s-t+E[2W_tW_s-W_s^2\vert \mathcal{F}_s]\]</span></p>
<p>However since <span class="math inline">\(W_s\)</span> is measurable
wrt. the filtration at time <span class="math inline">\(s\)</span> the
above is</p>
<p><span class="math display">\[E[M_t\vert \mathcal{F}_s]=2W_sE[W_t\vert
\mathcal{F}_s]-W_s^2-s=2W_s^2-W_s^2-s=W_s^2-s=M_s.\]</span></p>
<p>Since from (a) we know that <span class="math inline">\(W_t\)</span>
is a martingale. Then we arrive at the desired result.</p>
</details>
<details>
<summary>
<strong>Solution (c).</strong>
</summary>
<p>Let <span class="math inline">\(M_t=\exp\left(\lambda
W_t-\frac{\lambda^2}{2}t\right)\)</span>. First, by composition of
measurable functions <span class="math inline">\(M_t\)</span> is <span
class="math inline">\(\mathcal{F}_t\)</span>-measurable. Secondly, we
have using the MGF for a normal distributed random variable:</p>
<p><span class="math display">\[E\vert M_t=E\left(\exp\left(\lambda
W_t-\frac{\lambda^2}{2}t\right)\right)\le E\left(\exp\left(\lambda
W_t\right)\right)=\exp\left(\frac{\lambda^2}{2}t\right)&lt;\infty.\]</span></p>
<p>Thirdly, we consider</p>
<p><span
class="math display">\[E[M_t\vert\mathcal{F}_s]=E\left.\left[\left(\exp\left(\lambda
W_t-\frac{\lambda^2}{2}t\right)\right)\right\vert\mathcal{F}_s\right]=\exp\left(-\frac{\lambda^2}{2}t\right)E\left.\left[\left(\exp\left(\lambda
W_t\right)\right)\right\vert\mathcal{F}_s\right].\]</span></p>
<p>By adding and subtracting <span class="math inline">\(W_s\)</span> in
the exponent we get</p>
<p><span class="math display">\[\begin{align*}
E[M_t\vert\mathcal{F}_s]&amp;=\exp\left(-\frac{\lambda^2}{2}t\right)E\left.\left[\left(\exp\left(\lambda
(W_t-W_s)+\lambda W_s\right)\right)\right\vert\mathcal{F}_s\right]\\
&amp;=\exp\left(-\frac{\lambda^2}{2}t\right)\exp\left(\frac{\lambda^2}{2}(t-s)\right)E\left.\left[\left(\exp\left(\lambda
W_s\right)\right)\right\vert\mathcal{F}_s\right].
\end{align*}\]</span></p>
<p>Using that <span
class="math inline">\(E\left.\left[\left(\exp\left(\lambda
W_s\right)\right)\right\vert\mathcal{F}_s\right]=\exp\left(\lambda
W_s\right)\)</span> and combining the exponents gives the desired:</p>
<p><span
class="math display">\[E[M_t\vert\mathcal{F}_s]=\exp\left(\lambda
W_s-\frac{\lambda^2}{2}s\right)=M_s.\]</span></p>
</details>
</div>
</div>
<div id="week-2" class="section level2">
<h2>Week 2</h2>
<div id="material-1" class="section level3">
<h3>Material</h3>
<ul>
<li>Stochastic integrals and Ito formula (Chapter 4 and Appendix
C.2)</li>
<li>Stochastic differential equations (Chapter 5.1-4)</li>
</ul>
</div>
<div id="theory-1" class="section level3">
<h3>Theory</h3>
<div id="stochastic-integrals" class="section level4">
<h4>Stochastic Integrals</h4>
</div>
<div id="discrete-stochastic-integrals" class="section level4">
<h4>Discrete Stochastic Integrals</h4>
</div>
<div id="stochastic-differential-equations" class="section level4">
<h4>Stochastic Differential Equations</h4>
</div>
</div>
<div id="exercises-1" class="section level3">
<h3>Exercises</h3>
<p><strong>Exercise 4.1</strong> <em>(Bjork)</em></p>
</div>
</div>
<div id="week-3" class="section level2">
<h2>Week 3</h2>
<div id="material-2" class="section level3">
<h3>Material</h3>
<ul>
<li>Partial differential equations (Chapter 5.5)</li>
<li>Self-financing portfolios (Chapter 6)</li>
<li>Black-Scholes PDE (classic approach) and risk neutral valuation
(Chapter 7.1-5)</li>
</ul>
</div>
<div id="theory-2" class="section level3">
<h3>Theory</h3>
</div>
<div id="exercises-2" class="section level3">
<h3>Exercises</h3>
</div>
</div>
<div id="week-4" class="section level2">
<h2>Week 4</h2>
<div id="material-3" class="section level3">
<h3>Material</h3>
<ul>
<li>Black-Scholes formula (Chapter 7.6, see also Remark to Black-Scholes
formula)</li>
<li>Completeness and hedging (Chapter 8)</li>
<li>Put-call parity (Chapter 10.1)</li>
<li>The Greeks (Chapter 10.2)</li>
<li>Risk neutral valuation formula (Chapter 11.6)</li>
<li>Equivalent probability measures (Appendix A.11, B.6 and C.3)</li>
</ul>
</div>
<div id="theory-3" class="section level3">
<h3>Theory</h3>
</div>
<div id="exercises-3" class="section level3">
<h3>Exercises</h3>
</div>
</div>
<div id="week-5" class="section level2">
<h2>Week 5</h2>
<div id="material-4" class="section level3">
<h3>Material</h3>
<ul>
<li>Girsanov theorem (Chapter 12, see also Levy characterization of
Brownian motion and proof of Girsanov)</li>
<li>Martingale representation theorem (Chapter 12)</li>
</ul>
</div>
<div id="theory-4" class="section level3">
<h3>Theory</h3>
</div>
<div id="exercises-4" class="section level3">
<h3>Exercises</h3>
</div>
</div>
<div id="week-6" class="section level2">
<h2>Week 6</h2>
<div id="material-5" class="section level3">
<h3>Material</h3>
<ul>
<li>Black-Scholes model, martingale approach (Chapter 13)</li>
<li>Multidimensional models (Chapter 14)</li>
</ul>
</div>
<div id="theory-5" class="section level3">
<h3>Theory</h3>
</div>
<div id="exercises-5" class="section level3">
<h3>Exercises</h3>
</div>
</div>
<div id="week-7" class="section level2">
<h2>Week 7</h2>
<div id="material-6" class="section level3">
<h3>Material</h3>
<ul>
<li>Pricing and proof of fundamental pricing theorem I and II (Chapter
11)</li>
<li>Incomplete Markets (Chapter 9)</li>
</ul>
</div>
<div id="theory-6" class="section level3">
<h3>Theory</h3>
</div>
<div id="exercises-6" class="section level3">
<h3>Exercises</h3>
</div>
</div>
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiAiSG9tZXdvcmsgKEZpbktvbnQpIgphdXRob3I6ICJKb2FraW0gQmlseWsiCmRhdGU6ICJgciBTeXMuRGF0ZSgpYCIKaGVhZGVyLWluY2x1ZGVzOgogICAtIFx1c2VwYWNrYWdle3dyYXBmaWd9CiAgIC0gXHVzZXBhY2thZ2V7Z3JhcGhpY3N9Cm91dHB1dDoKICBodG1sX2RvY3VtZW50OgogICAgdG9jOiBubwogICAgY29kZV9mb2xkaW5nOiBoaWRlCiAgcGRmX2RvY3VtZW50OgogICAgdG9jOiB5ZXMKLS0tCgpgYGB7ciwgc2V0dXAsaW5jbHVkZT1GQUxTRX0KbGlicmFyeShrbml0cikKaWYgKGtuaXRyOjppc19sYXRleF9vdXRwdXQoKSkgewogIGtuaXRfaG9va3Mkc2V0KHdyYXBmID0gZnVuY3Rpb24oYmVmb3JlLCBvcHRpb25zLCBlbnZpcikgewogIGlmICghYmVmb3JlKSB7CiAgICBvdXRwdXQgPC0gdmVjdG9yKG1vZGUgPSAiY2hhcmFjdGVyIiwgbGVuZ3RoID0gb3B0aW9ucyRmaWcubnVtICsgMSkKCiAgICBmb3IgKGkgaW4gMTpvcHRpb25zJGZpZy5udW0pIHsKICAgICAgb3V0cHV0W2ldIDwtIHNwcmludGYoIlxcaW5jbHVkZWdyYXBoaWNzeyVzfSIsIGZpZ19wYXRoKG51bWJlciA9IGkpKQogICAgfQoKICAgIG91dHB1dFtpKzFdIDwtICJcXGVuZHt3cmFwZmlndXJlfSIKICAgIG91dHB1dCA8LSBjKCJcXGJlZ2lue3dyYXBmaWd1cmV9e1J9ezAuNVxcdGV4dHdpZHRofSIsb3V0cHV0KQogICAgaWYgKGxlbmd0aChvdXRwdXQpPj0gMykgewogICAgICByZXR1cm4ocGFzdGUob3V0cHV0LCBjb2xsYXBzZSA9ICIiKSkKICAgIH0KICB9Cn0pCiAga25pdHI6Om9wdHNfY2h1bmskc2V0KAogICAgZmlnLnNob3cgPSAnaGlkZScsCiAgICBlY2hvID0gRkFMU0UKICApCn0gZWxzZSB7CiAga25pdHI6OmtuaXRfaG9va3Mkc2V0KHdyYXBmID0gZnVuY3Rpb24oYmVmb3JlLCBvcHRpb25zLCBlbnZpcikge30pCiAga25pdHI6Om9wdHNfY2h1bmskc2V0KAogICAgb3V0LmV4dHJhID0gJ3N0eWxlPSJmbG9hdDpyaWdodDsgcGFkZGluZzoxMHB4IicsCiAgICBvdXQud2lkdGg9ICI0MCUiCiAgKQp9CmBgYAoKYGBge3IsIGluY2x1ZGU9RkFMU0UsIHJlc3VsdHMgPSAnaGlkZSd9CmxpYnJhcnkoZ2dwbG90MikKbGlicmFyeShkcGx5cikKI3JtYXJrZG93bjo6cmVuZGVyKGlucHV0ID0gIkZpbktvbnRfaG9tZXdvcmsuUm1kIiwgb3V0cHV0X2Zvcm1hdCA9ICJwZGZfZG9jdW1lbnQiKQpgYGAKCgojIEludHJvZHVjdGlvbgoKIyBXZWVrcyB7LnRhYnNldH0KCiMjIFdlZWsgMQoKIyMjIE1hdGVyaWFsCgogICogQnJvd25pYW4gbW90aW9uIChDaGFwdGVyIDQuMSkKICAqIENvbmRpdGlvbmFsIGV4cGVjdGF0aW9uIChBcHBlbmRpeCBCLjUpIAogICogRmlsdHJhdGlvbiAoQXBwZW5kaXggQi4zIGFuZCBDaGFwdGVyIDQuMikKICAqIE1hcnRpbmdhbGVzIChBcHBlbmRpeCBDLjEgYW5kIENoYXB0ZXIgNC40KQogICogSW50cm9kdWN0aW9uIChDaGFwdGVyIDEpCiAgKiBEaXNjcmV0ZSB0aW1lIG1vZGVscyAoQ2hhcHRlciAyIGFuZCAzKQoKIyMjIFRoZW9yeQoKVGhpcyB3ZWVrIHJldm9sdmVzIGFyb3VuZCB0aGUgdGhlb3J5IG9mIHRoZSBCcm93bmlhbiBtb3Rpb24gYW5kIG1hcnRpbmdhbGUgcHJvY2Vzc2VzLiBPdGhlciBtYWluIHRvcGljcyBhcmUgdGhlIGJpbm9taWFsIG1vZGVsIGFuZCBhbiBpbnRyb2R1Y3Rpb24gdG8gZmluYW5jaWFsIGRlcml2YXRpdmVzLiBGaW5hbmNpYWwgZGVyaXZhdGl2ZXMgaXMgY29udGluZ2VudCBvbiB0aGUgb3V0Y29tZSBvZiBhIHN0b2NoYXN0aWMgcHJvY2VzcyBhdCBzb21lIGZ1dHVyZSB0aW1lICR0PVQkIGFuZCBvZnRlbiBpcyBhIGZ1bmN0aW9uICRcUGhpJCBvZiBzb21lIGFzc2V0cyBwcmljZSAkU190JC4gQXMgc3VjaCB0aGUgZGVyaXZhdGl2ZSB3aWxsIGdpdmUgYSBzdG9jaGFzdGljIHBheW91dCwgYXQgdGltZSAkdD1UJCBvZiB0aGUgc2l6ZSAkWF9UPVxQaGkoU19UKSQuIE5hdHVyYWxseSB3ZSB3YW50IHRvIHNheSBzb21ldGhpbmcgYWJvdXQgdGhlICpmYWlyKiBwcmljZSBvZiB0aGUgZGVyaXZhdGl2ZSBpbiB0aGUgZm9ybSBvZgoKJCRcUGlfdChYX1QpPVxtYXRoYmJ7RX1cbGVmdFtcUGhpKFNfVClcIFx2ZXJ0XCBcbWF0aGNhbHtGfV90XHJpZ2h0XSwkJAoKd2hlcmUgJFxtYXRoY2Fse0Z9X3Rcc3Vic2V0XG1hdGhjYWx7Rn0kIGlzIHRoZSBhdmFpbGFibGUgaW5mb3JtYXRpb24gYXQgdGltZSAkdCQuIFdlIHdpbGwgYnkgZGVmdWFsdCBpbnRlcHJldCB0aGUgdGltZXMgJHQ9MCQgYXMgKnRvZGF5KiBhbmQgJHQ9VCQgYXMgKnRvbW9ycm93Ki4gVGhpcyBpbmRlZWQgcmVxdWlyZSBzb21lIGZ1bmRhbWVudGFsIHVuZGVyc3RhbmRpbmcgb2YgdGhlIGJlaGF2aW91ciBvZiB0aGUgYXNzZXQgcHJpY2UgJFNfdCQuIFRoaXMgbGVhZCB1cyBvdmVyIHRvIGRpc2N1c3NpbmcgdGhlIHByb2Nlc3MgaW4gY2VudGVyIG9mIHRoZSAqQmxhY2stU2Nob2xlcyogbW9kZWw6IHRoZSBCcm93bmlhbiBtb3Rpb24uCgombmJzcDsKCiMjIyMgVGhlIEJyb3duaWFuIG1vdGlvbgoKPGJsb2NrcXVvdGUgY2xhc3MgPSAiZGVmIj4KKipEZWZpbml0aW9uIDQuMS4qKiAqKEJyb3duaWFuIG1vdGlvbikqIEEgc3RvY2hhc3RpYyBwcm9jZXNzICRXJCBpcyBjYWxsZWQgYSAqKkJyb3duaWFuIG1vdGlvbioqIG9yICoqV2llbmVyIHByb2Nlc3MqKiBpZiB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgaG9sZAoKIDEuICRXXzA9MCQuCiAyLiBUaGUgcHJvY2VzcyAkVyQgaGFzIGluZGVwZW5kZW50IGluY3JlbWVudHMsIGkuZS4gaWYgJHI8c1xsZSB0PCB1JCB0aGVuICRXX3UtV190JCBhbmQgJFdfcy1XX3IkIGFyZSBpbmRlcGVuZGVudCByYW5kb20gdmFyaWFibGVzLgogMy4gRm9yICRzPHQkIHRoZSByYW5kb20gdmFyaWFibGUgJFdfdC1XX3MkIGhhcyB0aGUgR2F1c3NpYW4gZGlzdHJpYnV0aW9uICRcbWF0aGNhbHtOfSgwLHQtcykkLgogNC4gJFckIGhhcyBjb250aW51b3VzIHRyYWplY3RvcmllcyBpLmUuICRzXG1hcHN0byBXKHM7XG9tZWdhKSQgaSBjb250aW51b3VzIGZvciBhbGwgJFxvbWVnYSBcaW5cT21lZ2EkLgo8L2Jsb2NrcXVvdGU+CgpgYGB7cn0KI0V4YW1wbGUgb2YgdHJhamVjdG9yeSBmb3IgQk0Kc2V0LnNlZWQoMSkKdCA8LSAwOjEwMDAKTiA8LSBybm9ybSgKICBuID0gbGVuZ3RoKHQpLTEsICNpbml0aWFsIHZhbHVlID0gMAogIG1lYW4gPSAwLCAjaW5jZW1lbnRzIG1lYW4gPSAwCiAgc2QgPSBzcXJ0KHRbMjpsZW5ndGgodCldIC0gdFsxOihsZW5ndGgodCktMSldKSAjaW5jcmVtZW50IHNkID0gc3FydCh0LXMpCikKVyA8LSBjKDAsY3Vtc3VtKE4pKQpgYGAKYGBge3IsZWNobz1GQUxTRSxpbmNsdWRlPVRSVUUsd3JhcGYgPSBUUlVFfQpkYXRhLmZyYW1lKHQgPSB0LCBXID0gVykgJT4lCiAgZ2dwbG90KCkgKwogIGdlb21fbGluZShhZXMoeD10LHk9VykpICsKICBsYWJzKHRpdGxlID0gIlJlYWxpc2F0aW9uIG9mIGEgQnJvd25pYW4gbW90aW9uIikgKwogIHRoZW1lX2J3KCkgKwogIHRoZW1lKGF4aXMudGV4dCA9IGVsZW1lbnRfdGV4dChzaXplID0gMTUpLAogICAgICAgIHRpdGxlID0gZWxlbWVudF90ZXh0KHNpemUgPSAxOCkpCmBgYAoKQXMgb25lIGNhbiBzZWUgZnJvbSB0aGUgc2ltdWxhdGVkIHNhbXBsZSBwYXRoIG9uIHRoZSByaWdodCwgdGhlIEJyb3duaWFuIG1vdGlvbiBpcyByYXRoZXIgaXJyYXRpYy4gSW4gZmFjdCwgdGhlIHByb2Nlc3MgdmFyaWVzIGluZmluaXRlbHkgb24gYW55IGludGVydmFsIHdpdGggbGVuZ3RoIGdyZWF0ZXIgdGhhbiAwLiBUaGlzIGdpdmVzIHNvbWUgb2YgdGhlIGNoYXJhY3RlcmlzdGljcyBvZiB0aGUgcHJvY2VzcyBpbmNsdWRpbmcgdGhhdDogJFckIGlzIGNvbnRpbnVvdXMgYW5kICRXJCBpcyBub24tZGlmZmVyZW50aWFsIGV2ZXJ5d2hlcmUuIFRoaXMgaXJyYXRpYyBiZWhhdmlvdXIgaXMgc3VtbWVkIHVwIGluIHRoZSB0aGVvcmVtLgoKCjxibG9ja3F1b3RlIGNsYXNzID0gInRobSI+CgoqKlRoZW9yZW0gNC4yLioqIEEgQnJvd25pYW4gbW90aW9ucyB0cmFqZWN0b3J5ICR0XG1hcHN0byBXX3QkIGlzIHdpdGggcHJvYmFiaWxpdHkgb25lIG5vd2hlcmUgZGlmZmVyZW50aWFsLCBhbmQgaXQgaGFzIGxvY2FsbHkgaW5maW5pdGUgdG90YWwgdmFyaWF0aW9uLgoKPC9ibG9ja3F1b3RlPgoKVGhpcyBtYXkgc2VlbSBub3QgdGhhdCBob3JyaWZ5aW5nIHNpbmNlIHdlIGNhbiBvYnNlcnZlIHRoZSBwcm9jZXNzIGF0IGFueSB0aW1lIGFuZCBjb25jbHVkZSBhbiBpbmNyZW1lbnQgJFdfe3QrXERlbHRhIHR9LVdfdCQgZm9yIGFueSAkXERlbHRhIHQ+MCQgYnV0IGFueSBpbnRlZ3JhbCBjb25zdHJ1Y3RlZCB3aXRoICRXX3QkIGFzIGludGVncmF0b3IgYmVjb21lcyBub25zZW5zaWJsZS4gV2Ugd2lsbCBiZSBzdHVkeWluZyBwcm9jZXNzZXMgb24gdGhlIGZvcm0KCiQkU197dCtcRGVsdGEgdH0tU190PVxtdSh0LFNfdClcRGVsdGEgdCtcc2lnbWEodCxTX3QpXERlbHRhIFdfdCxcaHNwYWNlezIwcHR9XERlbHRhIFdfdD1XX3t0K1xEZWx0YSB0fS1XX3QuJCQKCndoZXJlICRXX3QkIGlzIGEgc3RhbmRhcmQgQnJvd25pYW4gbW90aW9uIGFuZCAkXG11KHQsU190KSQgaXMgbG9jYWxseSBkZXRlcm1pbmlzdGljICh2ZWxvY2l0eSksIHRoYXQgaXMgJFxtdSh0LFNfdCkkIGlzIGRldGVybWluaXN0aWMgb24gYSBzbWFsbCB0aW1lIGludGVydmFsLiBPbmUgY291bGQgY29uc2lkZXIgdGhlIGR5bmFtaWNzIG9mIHRoZSBwcm9jZXNzICRTX3QkIGJ5IHN0dWR5aW5nIHRoZSBlcXVhdGlvbiBiZWxvdyBhcyAkXERlbHRhIHRcdG8gMF8rJAoKJCRcZnJhY3tTX3t0K1xEZWx0YSB0fS1TX3R9e1xEZWx0YSB0fT1cbXUodCxTX3QpK1xzaWdtYSh0LFNfdClcZnJhY3tXX3t0K1xEZWx0YSB0fS1XX3R9e1xEZWx0YSB0fS4kJAoKVGhlIGxpbWl0IGhvd2V2ZXIgaXMgaW1wb3NzaWJsZSB0byBkZXRlcm1pbmUgYXMgJFdfdCQgaXMgbm9uLWRpZmZlcmVudGlhYmxlIGFuZCBhcyBzdWNoICRkU190JCBpcyBub3Qgd2VsbC1kZWZpbmVkLiBGcm9tIExpdlN0b2sgd2Uga25vdyB0aGF0IHRoZSBkeW5hbWljcyBvZiAkU190JCBpcyBnaXZlbiBieSBsZXR0aW5nICRcRGVsdGEgdCQgdGVuZCB0byAwIHdpdGhvdXQgZGl2aWRpbmcgYnkgaXQsIHRoYXQgaXMKCiQkCmRTX3Q9XG11KHQsU190KVwgZHQrXHNpZ21hKHQsU190KVwgZFdfdC4KJCQKCkdpdmluZyB0aGF0ICRTXzAkIGlzIG9ic2VydmFibGUgd2UgY291bGQgaW50ZXByZXQgdGhlIGR5bmFtaWNzIG9uIHRoZSBpbnRlZ3JhbCBmb3JtCgokJApTX3Q9U18wK1xpbnRfMF50XG11KHMsU19zKVwgZHMrXGludF8wXnRcc2lnbWEocyxTX3MpXCBkV19zLAokJAoKd2hlcmUgdGhlIGFib3ZlIGludGVncmFscyBpcyBSaWVtYW5uLVN0aWVsdGplcyBpbnRlZ3JhbC4gVGhpcyBpcyBob3dldmVyIHN0aWxsIGF0IGRlYWQtZW5kLCBzaW5jZSBmcm9tIHRoZW9yZW0gNC4yIHdlIGtub3cgdGhhdCAkV190JCBoYXMgdW5ib3VuZGVkIHZhcmlhdGlvbiBvbiBhbnkgaW50ZXJ2YWwuIFNvICoqd2UgY2Fubm90IGRlZmluZSAkU190JCBmb3IgZWFjaCAkVyQtdHJhamVjdG9yeSBzZXBlcmF0ZWx5Kiogd2Ugd2lsbCBkZXNwaXRlIHRoaXMgZGVmaW5lIGFub3RoZXIgaW50ZWdyYWwgKHRoZSBJdG8gaW50ZWdyYWwpIHRoYXQgaW4gc29tZSBvdGhlciBzZW5zZSBnaXZlIGEgZ2xvYmFsIHNvbHV0aW9uIHRvIHRoaXMgaW50ZWdyYWwuIFRvIHRoaXMgd2Ugd2lsbCBiZSBjb25zaWRlcmluZyBhICRMXjIkLWRlZmluaXRpb24uCgombmJzcDsKCiMjIyMgQ29uZGl0aW9uYWwgZXhwZWN0YXRpb24KClRoZSB0aGVvcnkgb2YgY29uZGl0aW9uYWwgZXhwZWN0YXRpb24gaXMgd2VsbC1rbm93biBmcm9tIGNvdXJzZXMgb24gdGhlIGJhY2hlbG9yLiBCZWNhdXNlIG9mIHRoaXMgd2Ugd2lsbCBvbmx5IHN1bW1hcmlzZSB0aGUgbW9zdCBpbXBvcnRhbnQgcmVzdWx0cy4KCldlIGNvbnNpZGVyIGEgYmFja2dyb3VuZCBzcGFjZSAkKFxPbWVnYSxcbWF0aGNhbHtGfSxQKSQgYW5kIGEgc3ViLXNpZ21hIGFsZ2VicmEgJFxtYXRoY2Fse0d9XHN1YnNldGVxIFxtYXRoY2Fse0Z9JC4gV2UgYXNzdW1lIHRoYXQgc29tZSBzdG9jaGFzdGljIHZhcmlhYmxlIGlzICRcbWF0aGNhbHtGfSQtbWVhc3VyYWJsZSwgdGhhdCBpcyB0aGUgbWFwcGluZyAkWCA6IChcT21lZ2EsXG1hdGhjYWx7Rn0sUCkgXHRvIChcbWF0aGJie1J9LFxtYXRoYmJ7Qn0sbSkkIGlzICRcbWF0aGNhbHtGfS1cbWF0aGJie0J9JC1tZWFzdXJhYmxlIGkuZS4gJFxmb3JhbGwgQlxpblxtYXRoYmJ7Qn0gOiBce1hcaW4gQlx9XGluXG1hdGhjYWx7Rn0kLiBGb3Igc29tZSByYW5kb20gdmFyaWFibGUgJFokIGRlZmluZWQgb24gdGhlIHN1YnNwYWNlICQoXE9tZWdhLFxtYXRoY2Fse0d9LFApJCwgd2Ugc2F5IHRoYXQgJFokIGlzIHRoZSBjb25kaXRpb25hbCBleHBlY3RhdGlvbiBvZiAkWCQgZ2l2ZW4gJFxtYXRoY2Fse0d9JCBpZgoKJCQKXGZvcmFsbCBHXGluXG1hdGhjYWx7R30gOiBcaW50X0cgWihcb21lZ2EpXCBkUChcb21lZ2EpPVxpbnRfRyBYKFxvbWVnYSlcIGRQKFxvbWVnYSkuCiQkCgpUaGlzIGZhY3QgaXMgc3VtbWVkIHVwIGluIHRoZSBkZWZpbml0aW9uIGJlbG93LgoKPGJsb2NrcXVvdGUgY2xhc3MgPSAiZGVmIj4KCioqRGVmaW5pdGlvbiBCLjI3LioqICooQ29uZGl0aW9uYWwgZXhwZWN0YXRpb24pKiBMZXQgJChcT21lZ2EsXG1hdGhjYWx7Rn0sUCkkIGJlIGEgcHJvYmFiaWxpdHkgc3BhY2UgYW5kICRYJCBhIHJhbmRvbSB2YXJpYWJsZSBpbiAkTF4xKFxPbWVnYSxcbWF0aGNhbHtGfSxQKSQgKCRcdmVydCBYXHZlcnQkIGlzIGludGVncmFibGUpLiBMZXQgZnVydGhlcm1vcmUgJFxtYXRoY2Fse0d9JCBiZSBhIHNpZ21hLWFsZ2VicmEgc3VjaCB0aGF0ICRcbWF0aGNhbHtHfVxzdWJzZXRlcSBcbWF0aGNhbHtGfSQuIElmICRaJCBpcyBhIHJhbmRvbSB2YXJpYWJsZSB3aXRoIHRoZSBwcm9wZXJ0aWVzIHRoYXQ6CgogIGkuICRaJCBpcyAkXG1hdGhjYWx7R30kLW1lYXN1cmFibGUuCiAgaWkuIEZvciBldmVyeSAkR1xpblxtYXRoY2Fse0d9JCBpdCBob2xkcyB0aGF0CiAgJCRcaW50X0cgWihcb21lZ2EpXCBkUChcb21lZ2EpPVxpbnRfRyBYKFxvbWVnYSlcIGRQKFxvbWVnYSkuJCQKClRoZW4gd2Ugc2F5IHRoYXQgJFokIGlzIHRoZSAqY29uZGl0aW9uYWwgZXhwZWN0YXRpb24gb2YgJFgkIGdpdmVuIHRoZSBzaWdtYS1hbGdlYnJhICRcbWF0aGNhbHtHfSQqLiBJbiB0aGF0IGNhc2Ugd2UgZGVub3RlICRaJCBieSB0aGUgc3ltYm9sICRFW1hcIFx2ZXJ0XCBcbWF0aGNhbHtHfV0kLgoKPC9ibG9ja3F1b3RlPgoKV2Ugc2VlIHRoYXQgZnJvbSB0aGUgYWJvdmUgaXQgYWx3YXlzIGhvbGRzIHRoYXQgJFgkIHNhdGlzZmllcyAoaWkpLiBJdCBkb2VzIG5vdCwgaG93ZXZlciwgYWx3YXlzIGhvbGQgdGhhdCAkWCQgaXMgJFxtYXRoY2Fse0d9JC1tZWFzdXJhYmxlLiBHaXZlbiB0aGlzIGZhY3QgaXQgaXMgbm90IHRyaXZpYWwgdGhhdCBhIHJhbmRvbSB2YXJpYWJsZSAkRVtYXCBcdmVydFwgXG1hdGhjYWx7R31dJCBldmVuIGV4aXN0cy4gVGhpcyBub250cml2aWFsaXR5IGlzIGZvcnR1bmF0bHkgcmVzb2x2ZWQgYnkgdGhlIFJhZG9uLU5pa29keW0gdGhlb3JlbS4KCjxibG9ja3F1b3RlIGNsYXNzID0gInRobSI+CgoqKlRoZW9yZW0gQi4yOC4qKiAqKEV4aXN0YW5jZSBhbmQgdW5pcXVlbmVzcyBvZiBDb25kaXRpb25hbCBleHBlY3RhdGlvbikqIExldCAkKFxPbWVnYSxcbWF0aGNhbHtGfSxQKSQsICRYJCBhbmQgJFxtYXRoY2Fse0d9JCBiZSBnaXZlbiBhcyBpbiB0aGUgZGVmaW5pdGlvbiBhYm92ZS4gVGhlbiB0aGUgZm9sbG93aW5nIGhvbGRzOgoKICAqIFRoZXJlIHdpbGwgYWx3YXlzIGV4aXN0IGEgcmFuZG9tIHZhcmlhYmxlICRaJCBzYXRpc2Z5aW5nIGNvbmRpdGlvbnMgKGkpLShpaSkgYWJvdmUuCiAgKiBUaGUgdmFyaWFibGUgJFokIGlzIHVuaXF1ZSwgaS5lLiBpZiBib3RoICRZJCBhbmQgJFokIHNhdGlzZnkgKGkpLShpaSkgdGhlbiAkWT1aJCAkUCQtYS5zLgoKPC9ibG9ja3F1b3RlPgoKVGhpcyByZXN1bHQgZW5zdXJlcyB0aGF0IHdlIG1heSBjb25kaXRpb24gb24gYW55IHNpZ21hLWFsZ2VicmEgZm9yIGluc3RhbmNlICRcbWF0aGNhbHtHfT1cc2lnbWEoWSkkIGluIHRoYXQgY2FzZSB3ZSAocHVyZSBub3RhdGlvbikgd3JpdGUKCiQkCkVbWFwgXHZlcnRcIFxzaWdtYShZKV09RVtYXCBcdmVydFwgWV0sXGhzcGFjZXsyMHB0fVxzaWdtYShZKT1cc2lnbWFcbGVmdChcbGVmdFx7IFlcaW4gQSxcIEFcaW5cbWF0aGJie0J9XHJpZ2h0XH1ccmlnaHQpLgokJAoKSW4gdGhlIGFib3ZlICRcc2lnbWEoWSkkIGlzIHNpbXBseSB0aGUgc21hbGxlc3Qgc2lnbWEtYWxnZWJyYSBjb250YWluaW5nIGFsbCB0aGUgcHJlLWltYWdlcyBvZiAkWSQsIHRoYXQgaXMgdGhlIHNtYWxsZXN0IHNpZ21hLWFsZ2VicmEgbWFraW5nICRZJCBtZWFzdXJhYmxlISBHaXZpbmcgdGhpcyBmb3VuZGF0aW9uIHRoZXJlIGFyZSBhIGZldyBwcm9wZXJ0aWVzIGNvbmRpdGlvbmFsIGV4cGVjdGF0aW9uIGhhdmUgd2hpY2ggaXMgcmF0aGVyIHVzZWZ1bCAoZm9yIGluc3RhbmNlIHRoZSB0b3dlciBwcm9wZXJ0eSkuCgpCZWxvdyB3ZSBhc3N1bWU6IExldCAkKFxPbWVnYSxcbWF0aGNhbHtGfSxQKSQgYmUgYSBwcm9iYWJpbGl0eSBzcGFjZSBhbmQgJFgsWSQgYmUgcmFuZG9tIHZhcmlhYmxlcyBpbiAkTF4xKFxPbWVnYSxcbWF0aGNhbHtGfSxQKSQuCgo8YmxvY2txdW90ZSBjbGFzcyA9ICJwcm9wIj4KCioqUHJvcG9zaXRpb24gQi4yOS4qKiAqKE1vbm90aW5pY2l0eS9MaW5lYXJpdHkgb2YgQ29uZGl0aW9uYWwgZXhwZWN0YXRpb24pKiBUaGUgZm9sbG93aW5nIGhvbGRzOgoKJCRYXGxlIFlcIFxSaWdodGFycm93XCBFW1hcIFx2ZXJ0XCBcbWF0aGNhbHtHfV1cbGUgRVtZXCBcdmVydFwgXG1hdGhjYWx7R31dLFxoc3BhY2V7MjBwdH1QLVx0ZXh0e2Eucy59JCQKJCRFW1xhbHBoYSBYICsgXGJldGEgWVwgXHZlcnRcIFxtYXRoY2Fse0d9XT1cYWxwaGEgRVtYXCBcdmVydFwgXG1hdGhjYWx7R31dKyBcYmV0YSBFW1lcIFx2ZXJ0XCBcbWF0aGNhbHtHfV0sXGhzcGFjZXsyMHB0fVxmb3JhbGwgXGFscGhhLFxiZXRhXGluXG1hdGhiYntSfS4kJAoKPC9ibG9ja3F1b3RlPgoKPGJsb2NrcXVvdGUgY2xhc3MgPSAicHJvcCI+CgoqKlByb3Bvc2l0aW9uIEIuMzAuKiogKihUb3dlciBwcm9wZXJ0eSkqIEFzc3VtZSB0aGF0IGl0IGhvbGRzIHRoYXQgJFxtYXRoY2Fse0h9XHN1YnNldGVxXG1hdGhjYWx7R31cc3Vic2V0ZXFcbWF0aGNhbHtGfSQuIFRoZW4gdGhlIGZvbGxvd2luZyBob2xkOgoKJCRFW0VbWFx2ZXJ0IFxtYXRoY2Fse0d9XVx2ZXJ0XG1hdGhjYWx7SH1dPUVbWFx2ZXJ0IFxtYXRoY2Fse0h9XSwkJAokJEVbWF09RVtFW1hcdmVydCBcbWF0aGNhbHtHfV1dLiQkCgo8L2Jsb2NrcXVvdGU+Cgo8YmxvY2txdW90ZSBjbGFzcyA9ICJwcm9wIj4KCioqUHJvcG9zaXRpb24gQi4zMS4qKiBBc3N1bWUgJFgkIGlzICRcbWF0aGNhbHtHfSQgYW5kIHRoYXQgYm90aCAkWCxZJCBhbmQgJFhZJCBhcmUgaW4gJExeMSQgKG9ubHkgYXNzdW1pbmcgJFkkIGlzICRcbWF0aGNhbHtGfSQtbWVhc3VyYWJsZSksIHRoZW4KCiQkRVtYXHZlcnRcbWF0aGNhbHtHfV09WCxcaHNwYWNlezIwcHR9UC1cdGV4dHthLnMufSQkCiQkRVtYWVx2ZXJ0XG1hdGhjYWx7R31dPVhFW1lcdmVydFxtYXRoY2Fse0d9XSxcaHNwYWNlezIwcHR9UC1cdGV4dHthLnMufSQkCgo8L2Jsb2NrcXVvdGU+Cgo8YmxvY2txdW90ZSBjbGFzcyA9ICJwcm9wIj4KCioqUHJvcG9zaXRpb24gQi4zMi4qKiAqKEplbnNlbiBpbmVxdWFsaXR5KSogTGV0ICRmOlxtYXRoYmJ7Un1cdG9cbWF0aGJie1J9JCBiZSBhIGNvbnZleCAobWVhc3VyYWJsZSkgZnVuY3Rpb24gYW5kIGFzc3VtZSAkZihYKSQgaXMgaW4gJExeMSQuIFRoZW4KCiQkZihFW1hcdmVydFxtYXRoY2Fse0d9XSlcbGUgRVtmKFgpXHZlcnRcbWF0aGNhbHtHfV0sXGhzcGFjZXsyMHB0fVAtXHRleHR7YS5zLn0kJAoKPC9ibG9ja3F1b3RlPgoKJm5ic3A7CgojIyMjIEZpbHRyYXRpb25zCgpMZXQgJChcT21lZ2EsXG1hdGhjYWx7Rn0sUCkkIGJlIGEgcHJvYmFiaWxpdHkgc3BhY2UuIFdlIGRlZmluZSBhIGZpbHRyYXRpb24gYXMgYW4gaW5jcmVhc2luZyBmYW1pbGl0eSBvZiBzdWItc2lnbWEtYWxnZWJyYXMgaW4gdGhlIGZvbGxvd2luZyBkZWZpbml0aW9uLgoKPGJsb2NrcXVvdGUgY2xhc3MgPSAiZGVmIj4KCioqRGVmaW5pdGlvbiBCLjE2LioqICooRmlsdHJhdGlvbikqIExldCAkXG1hdGhiZntGfT0oXG1hdGhjYWx7Rn1fdClfe3RcZ2UgMH0kIGJlIGFuIHRpbWUgaW5kZXhlZCBmYW1pbHkgb2Ygc3ViLXNpZ21hLWFsZ2VicmFzIHN1Y2ggdGhhdCAkRl9zXHN1YnNldGVxIEZfdCQgZm9yICRzXGxlIHQkIGFuZCAkXG1hdGhjYWx7Rn1fdFxzdWJzZXRlcSBcbWF0aGNhbHtGfSQgZm9yIGFsbCAkdFxnZSAwJC4gV2UgbWF5IGdpdmVuIHRoaXMgZmlsdHJhdGlvbiBkZWZpbmUgJFxtYXRoY2Fse0Z9X1xpbmZ0eSQgYXMgJFxzaWdtYVxsZWZ0KFxiaWdjdXBfe3RcZ2UgMH1cbWF0aGNhbHtGfV90XHJpZ2h0KSQuCgo8L2Jsb2NrcXVvdGU+CgpGaWx0cmF0aW9ucyBpcyB3aWRlbHkgdXNlZCBpbiBzdG9jaGFzdGljIHByb2Nlc3NlcywgYXMgdGhleSBhbGxvdyBmb3IgdGhlIGNvbmNlcHQgb2Yga25vd2xlZGdlL2luZm9ybWF0aW9uLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGNvbnNpZGVyaW5nIG1lYW4tdmFsdWVzIG9mIGZ1dHVyZSBzdGF0ZXMgYnV0IGluIGFuIGluY3JlYXNpbmcgaW5mb3JtYXRpb24gc2V0dGluZy4gRm9yIHRoaXMgd2UgaW50cm9kdWNlIHRoZSB0ZXJtIGFkYXB0ZWQgcHJvY2Vzc2VzLgoKPGJsb2NrcXVvdGUgY2xhc3MgPSAiZGVmIj4KCioqRGVmaW5pdGlvbiBCLjE3LioqICooQWRhcHRlZCBwcm9jZXNzKSogTGV0ICQoXG1hdGhjYWx7Rn1fdClfe3RcZ2UgMH0kIGJlIGEgZmlsdHJhdGlvbiBvbiB0aGUgcHJvYmFiaWxpdHkgc3BhY2UgJChcbWF0aGNhbHtGfV90KV97dFxnZSAwfSQuIEZ1cnRoZXJtb3JlLCBsZXQgJChYX3QpX3t0XGdlIDB9JCBiZSBhIHN0b2NoYXN0aWMgcHJvY2VzcyBvbiB0aGUgc2FtZSBzcGFjZS4gV2Ugc2F5IHRoYXQgJFhfdCQgaXMgYWRhcHRlZCB0byB0aGUgZmlsdHJhdGlvbiAkXG1hdGhiZntGfSQgaWYKCiQkWF90XCBcdGV4dHsgaXMgfVwgXG1hdGhjYWx7Rn1fdC1cdGV4dHttZWFzdXJhYmxlfSxcaHNwYWNlezIwcHR9XGZvcmFsbCB0XGdlIDAuJCQKCjwvYmxvY2txdW90ZT4KCk9idmlvdXNseSwgd2UgbWF5IGludHJvZHVjZSB0aGUgKipuYXR1cmFsIGZpbHRyYXRpb24qKiAkXG1hdGhjYWx7Rn1eWF90JCBnaXZlbiBieSB0aGUgdHJhZ2V0b3J5IG9mIHRoZSBwcm9jZXNzICRYX3QkOgoKJCRcbWF0aGNhbHtGfV5YX3Q9XHNpZ21hKFx7WF9zLFwgc1xsZSB0XH0pLiQkCgpJbmRlZWQsICRYX3QkIGlzIGFkYXB0ZWQgdG8gdGhpcyBmaWx0cmF0aW9uLgoKJm5ic3A7CgojIyMjIE1hcnRpbmdhbGVzCgo8YmxvY2txdW90ZSBjbGFzcyA9ICJkZWYiPgoKKipEZWZpbml0aW9uIEMuMS4qKiBMZXQgJE1fdCQgYmUgYSBzdG9jaGFzdGljIHByb2Nlc3MgZGVmaW5lZCBvbiBhIGJhY2tncm91bmQgc3BhY2UgJChcT21lZ2EsXG1hdGhjYWx7Rn0sUCkkLiBMZXQgJChcbWF0aGNhbHtGfV90KV97dFxnZSAwfSQgYmUgYSBmaWx0cmF0aW9uLiBJZiAkTV90JCBpcyBhZGFwdGVkIHRvIHRoZSBmaWx0cmF0aW9uICRcbWF0aGNhbHtGfV90JCwgJEVcdmVydCBNX3RcdmVydCA8XGluZnR5JCBhbmQKCiQkRVtNX3RcdmVydCBcbWF0aGNhbHtGfV9zXT1NX3MsXGhzcGFjZXsyMHB0fVAtXHRleHR7YS5zLn0kJAoKaG9sZHMgZm9yIGFueSAkdD5zJCB3ZSBzYXkgdGhhdCAkTV90JCBpcyBhIG1hcnRpbmdhbGUgKCRcbWF0aGJme0Z9JC1tYXJ0aW5nYWxlKS4gSWYgdGhlIGFib3ZlIGhhcyAkXGxlJCBvciAkXGdlJCB3ZSBzYXkgdGhhdCAkTV90JCBpcyBlaXRoZXIgYSAqKnN1Ym1hcnRpbmdhbGUqKiBvciAqKnN1cGVybWFydGluZ2FsZSoqIHJlc3BlY3RpdmVseS4KCjwvYmxvY2txdW90ZT4KCk5hdHVyYWxseSwgdGhpcyBkZWZpbnRpb25zIG1heSBlYXNpbHkgYmUgZXh0ZW5kZWQgdG8gZGlzY3JldGUgbW9kZWxzIGFuZCB3ZSBoYXZlIHRoZSB0cml2aWFsIGVxdWFsaXR5OgoKJCRFW01fdC1NX3NcIFx2ZXJ0XCBcbWF0aGNhbHtGfV9zXT0wLiQkCgpNYXJ0aW5nYWxlcyBpcyB1c2VmdWwsIHdoZW4gcHJvb2ZpbmcgcHJvYmFsaXN0aWMgc3RhdGVtZW50cyBhcyB0aGUgcG9zc2VzIHRyYWN0YWJsZSBwcm9wZXJ0aWVzLiBBIHVzZWZ1bCB0ZWNobmlxdWUgb2Z0ZW4gaW5jbHVkZSB0aGUgY29uc3RydWN0aW9uIG9mIHRoZSBtYXJ0aW5nYWxlCgokJE1fdD1FW1hcIFx2ZXJ0XCBcbWF0aGNhbHtGfV90XS4kJAoKJm5ic3A7CgojIyMjIERpc2NyZXRlIHRpbWUgbW9kZWxzCgojIyMjIE9uZS1wZXJpb2QgdGltZSBtb2RlbHMKClRoZSBzdHVkeSBvZiB0aGlzIGNvdXJzZSBpcyB0aGUgKipFdXJvcGVhbiBjYWxsKiogb3B0aW9uIChhbmQgKnB1dCogb3B0aW9uKS4gVGhpcyBmaW5hbmNpYWwgZGVyaXZhdGl2ZSBpcyBhbiBhZ3JlZW1lbnQgYmV0d2VlbiB0d28gcGFydGllcyB3aGVyZSB0aGUgaG9sZGVyIG9mIHRoZSBvcHRpb24gaGFzIHRoZSByaWdodCB0byAqImV4ZXJjaXNlIiogdGhlIGRlcml2YXRpdmUsIGF0IGEgZnV0dXJlIHRpbWUgJHQ9VCQuIEV4ZXJjaXNpbmcgbWVhbnMgYnV5aW5nIGFuIGFzc2V0IGF0IGEgY2VydGFpbiBhZ3JlZWQgb3BvbiBwcmljZS1zdHJpa2UgJEskLiBJbiB0aGUgY2FzZSBvZiB0aGUgcHV0LW9wdGlvbjogdGhlIGhvbGRlciBoYXMgdGhlIHJpZ2h0IChidXQgbm90IG9ibGlnYXRpb24pIHRvIHNlbGwgdGhlIGFzc2V0IGF0IHRoZSBzdHJpa2UgcHJpY2UgJEskLiBBcyBzdWNoIHRoZSBkZXJpdmF0aXZlIGhhcyB0aGUgcGF5b2ZmCgokJFx0ZXh0e0NhbGx9XCBcdGV4dHtvcHRpb246fVxoc3BhY2V7MTBwdH1cUGhpKFNfVCk9KFNfVC1LKV4rLFxoc3BhY2V7MjBwdH1cdGV4dHtQdXR9XCBcdGV4dHtvcHRpb246fVxoc3BhY2V7MTBwdH1cUGhpKFNfVCk9KEstU19UKV4rLiQkCgpPdXIgb2JqZWN0aXZlIGlzIHRvIHVuZGVyc3RhbmQgd2hlbiBhbiBhcmJpdHJhZ2UgZXhpc3QgYW5kIHRvIGZpbmQgdGhlIGZhaXIgcHJpY2Ugb2YgdGhlc2UgZGVyaXZhdGl2ZS4gVGhlIHN0cmF0ZWd5IGluIHByaWNpbmcgaXMgZmluZGluZyBhIHJlcGxpY2F0aW5nIHBvcnRmb2xpbyB3aXRoIHRoZSBzYW1lIHBheW9mZiBhcyB0aGUgb3B0aW9uICh3aXRoIHByb2JhYmlsaXR5IG9uZSkgYW5kIHRoZW4gcHJpY2UgdGhlIGRlcml2YXRpdmUgYWNjb3JkaW5nbHkuCgojIyMjIyBNb2RlbCBkZXNjcmlwdGlvbgoKSW4gdGhlIG9uZS1wZXJpb2QgbW9kZWwgd2UgY29uc2lkZXIgdGhlIHNpbXBsZXN0IHBvc3NpYmxlIG1hcmtldC4gV2UgaGF2ZSB0d28gZGlzdGluY3QgdGltZXMgJHQ9MCQgKHRvZGF5KSBhbmQgJHQ9MSQgKHRvbW9ycm93KSBhbmQgd2UgbWF5IGJ1eSBhbnkgcG9ydGZvbGlvIGFzIGEgbWl4dHVyZSBvZiBib25kcyBhbmQgb25lIHN0b2NrLiBXZSBkZW5vdGUgdGhlIGJvbmRzIHByaWNlIGJ5ICRCX3QkIGFuZCB0aGUgc3RvY2tzIHByaWNlIGJ5ICRTX3QkIGFuZCB3ZSBhc3N1bWUgdGhlIGZvbGxvd2luZzoKCiQkCkJfMD0xLFwgQl8xPTErUixcaHNwYWNlezIwcHR9U18wPXMsXCBTXzE9XGxlZnRce1xiZWdpbnttYXRyaXh9c1xjZG90IHUsICYgd2l0aFwgcHJvYmFiaWxpdHlcIHBfdS5cXHNcY2RvdCBkLCAmIHdpdGhcIHByb2JhYmlsaXR5XCBwX2QuXGVuZHttYXRyaXh9XHJpZ2h0LgokJAoKV2UgbWF5IGludHJvZHVjZSAkWiQgYXMgdGhlIHJhbmRvbSB2YXJpYWJsZQoKJCQKWj11XGNkb3QgKEkpK2RcY2RvdCAoMS1JKSwKJCQKCmZvciBhbiBiZXJub3VsbGkgdmFyaWFibGUgJEkkIHdpdGggc3VjY2VzIHByb2JhYmlsaXR5ICRwX3UkLiBOYXR1cmFsbHksIHdlIGFzc3VtZSAkZFxsZSAoMStSKVxsZSB1JCAodGhpcyBpcyBpbXBlcmF0aXZlIHRvIGVuc3VyZSBubyBhcmJpdHJhZ2UgYXMgd2Ugd2lsbCBzZWUpLgoKIyMjIyMgUG9ydGZvbGlvcyBhbmQgYXJiaXJ0YWdlCgpXZSBzdHVkeSBhbnkgcG9ydGZvbGlvIG9uIHRoZSAkKEIsUykkIG1hcmtldCBhcyBhIHZlY3RvciAkaD0oeCx5KSQgd2hlcmUgJHgkIGlzIHRoZSBhbW91bnQgb2YgYm9uZHMgYW5kICR5JCBpcyB0aGUgYW1vdW50IG9mIHN0b2NrIGhlbGQgaW4gdGhlIHBvcnRmb2xpby4gTm90aWNlIHRoYXQgd2UgYWxsb3cgZm9yIHNob3J0aW5nLCB0aGF0IGlzICR4PDAkIG9yICR5PDAkLiBBcyBzdWNoLCB3ZSBoYXZlIHRoYXQgJGhcaW4gXG1hdGhiYntSfV4yJC4gSW4gdGhpcyB3ZSBoYXZlIG1hZGUgc29tZSB1bnJlYWxpc3RpYywgYnV0IGF0dHJhY3RhYmxlIGFzc3VtcHRpb25zIGluY2x1ZGVkIGluIHRoZSBhc3N1bXB0aW9uczoKCiAgKiBXZSBhbGxvdyBzaG9ydCBwb3NpdGlvbnMgYW5kIGZyYWN0aW9uYWwgaG9sZGluZywgaS5lLiAkaFxpbiBcbWF0aGJie1J9XjIkLAogICogV2UgYXNzdW1lIG5vIHNwcmVhZCBiZXR3ZWVuIGFzayBhbmQgYmlkcywKICAqIE5vIHRyYW5zYWN0aW9uIGNvc3RzIGFuZAogICogQSBjb21wbGV0ZWx5IGxpcXVpZCBtYXJrZXQgaS5lLiB3ZSBtYXkgYm9ycm93IGFuZCBidXkgYXMgbXVjaCBzdG9jayBhbmQgYm9uZHMgYXMgd2FudGVkLgoKR2l2ZW4gdGhhdCB3ZSBoYXZlIGNob3NlbiBhIHBvcnRmb2xpbyAkaCQgd2UgbWF5IGludHJvZHVjZSB0aGUgdmFsdWUgcHJvY2Vzcy4KCjxibG9ja3F1b3RlIGNsYXNzID0gImRlZiI+CgoqKkRlZmluaXRpb24gMi4xLioqIFRoZSAqKnZhbHVlIHByb2Nlc3MqKiBvZiB0aGUgcG9yZm9saW8gJGhcaW5cbWF0aGJie1J9XjIkIGlzIHRoZSBzdG9jaGFzdGljIHByb2Nlc3MKCiQkVl5oX3Q9eEJfdCt5U190LFwgdD0wLDEuJCQKCjwvYmxvY2txdW90ZT4KCkdpdmVuIHRoaXMgbm90YXRpb24gd2UgbWF5IGRlZmluZSB3aGF0IGFuIGFyYml0cmFnZSBpcy4KCjxibG9ja3F1b3RlIGNsYXNzID0gImRlZiI+CgoqKkRlZmluaXRpb24gMi4yLioqIEFuICoqYXJiaXRyYWdlKiogaXMgYSBwb3J0Zm9saW8gJGgkIHdpdGggdGhlIHByb3BlcnRpZXM6IDEpICRWXmhfMD0wJCwgMikgJFAoVl5oXzFcZ2UgMCk9MSQgYW5kIDMpICRQKFZeaF8xPjApPjAkLgoKPC9ibG9ja3F1b3RlPgoKVGhhdCBpcyAkaCQgaXMgYW4gZGV0ZXJtaW5pc3RpYyBtb25leS1tYWNoaW5lIHdoZXJlIHdlIGF0IGxlYXN0IG5ldmVyIGxvb3NlIGFueSBtb25leS4gR3JhbnRlZCB0aGUgYm9uZHMgZ2l2ZSBhIGRldGVybWluaWN0aWMgbm9uLW5lZ2F0aXZlIHJldHVybiwgYnV0IGFuIGFyYml0cmFnZSBkb2VzIG5vdCByZXF1aXJlIGFueSBtb25leSBvdXQgb2YgcG9ja2V0LiBXaXRoIHRoZSBub3Rpb24gb2YgYW4gYXJiaXRyYWdlIHdlIHdpbGwgc2hvdyB0aGUgZmlyc3QgcHJvcG9zaXRpb24gcmVnYXJkaW5nIHRoZSBjaG9pY2Ugb2YgJFIsdSxkJCBhcyBkZWZpbmVkIGFib3ZlLgoKPGJsb2NrcXVvdGUgY2xhc3MgPSAicHJvcCI+CgoqKlByb3Bvc2l0aW9uIDIuMy4qKiBUaGUgb25lLXBlcmlvZCBiaW5vbWlhbCBtb2RlbCBpcyBhcmJpdHJhZ2UgZnJlZSBpZiBhbmQgb25seSBpZiB0aGUgZm9sbG93aW5nIGluZXF1YWxpdHkgaG9sZDoKCiQkZFxsZSAoMStSKVxsZSB1Llx0YWd7Mi4xfSQkCgo8L2Jsb2NrcXVvdGU+Cgo8ZGV0YWlscz4KPHN1bW1hcnk+KipQcm9vZi4qKjwvc3VtbWFyeT4KClRoZSBzdGF0ZW1lbnQgaXMgcHJvb2ZlZCBieSBjb250cmFkaWN0aW9uLiBBc3N1bWUgdGhhdCAkZD4xK1IkIGhvbGRzLiBUaGVuIGJ5IGRlZmluaXRpb24gJHU+ZD4xK1IkLiBOb3RpY2UgdGhhdCBhbnkgcG9ydGZvbGlvIHNhdGlzZnlpbmcgJFZfMF5oPTAkIG11c3Qgc2F0aXNmeQoKJCQwPXhCXzAreVNfMD14K3lzXGlmZiB4PS15cyQkCgpUaGF0IGlzIGZvciBzb21lIGNob2ljZSAkeSQgdGhlIG9ubHkgYXJiaXRyYWdlIGNhbmRpZGF0ZSBpcyB0aGUgcG9ydGZvbGlvICRoPSgteXMseSkkLiBDYWxjdWxhdGluZyB0aGUgdmFsdWUgYXQgdGltZSAkdD0xJCB3ZSBoYXZlCgokJFZfMV5oPS15c1xjZG90KDErUikreVxjZG90IHNcY2RvdCBaPXlzKFotMS1SKSQkCgpIb3dldmVyIHNpbmNlICRaXGdlIGQkIHdlIGhhdmUgJFotKDErUilcZ2UgMCQgYW5kIHRoZXJlZm9yZSBhbiBhcmJpdHJhZ2UgKGZvciAkeT4wJCkuIFRoZSBvdGhlciBpbmVxdWFsaXR5ICQxK1I+dSQgZm9sbG93cyBhbmFsb2cgc3RlcHMuIFNpbXBseSBjaG9vc2Ugc29tZSAkeTwwJCBhbmQgdGhlIHJlc3VsdCBmb2xsb3dzLiAkXGJsYWNrc3F1YXJlJAoKPC9kZXRhaWxzPgoKRnJvbSBpbmVxdWFsaXR5ICgyLjEpIHdlIHNlZSB0aGF0IHNpbmNlICQxK1IkIGlzIGJldHdlZW4gJHUkIGFuZCAkZCQgd2UgbWF5IGZpbmQgYSBwYWlyICRxX2QscV91XGdlIDAkIHdpdGggJHFfZCtxX3U9MSQgc3VjaCB0aGF0CgokJDErUj1xX3VcY2RvdCB1K3FfZFxjZG90IGQuJCQKClRoaXMgeWllbGRzIHRoZSBpbXBvcnRhbnQgcmlzayBuZXV0cmFsIHZhbHVhdGlvbiBmb3JtdWxhIGFzIHN1bW1lZCBvcCBpbiB0aGUgZm9sbG93aW5nIGRlZmluaXRpb24KCjxibG9ja3F1b3RlIGNsYXNzID0gImRlZiI+CgoqKkRlZmluaXRpb24gMi40LioqIEEgcHJvYmFiaWxpdHkgbWVhc3VyZSAkUSQgaXMgY2FsbGVkIGEgKiptYXJ0aW5nYWxlIG1lYXVzcmUqKiBpZiB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbiBob2xkczoKCiQkU18wPVxmcmFjezF9ezErUn1FXlFbU18xXS4kJAoKPC9ibG9ja3F1b3RlPgoKVGhlIGFib3ZlIG1lYXN1cmUgJFEkIGlzIHRoZSBtZWFzdXJlICRRKFo9ZCk9cV9kJCBhbmQgJFEoWj11KT1xX3UkIGZvciB0aGUgYmlub21pYWwgbW9kZWwuIFRoaXMgZG9lcyBpbiBmYWN0IHlpZWxkIHRoZSByaXNrIG5lYXV0cmFsIHZhbHVhdGlvbiBmb3JtdWxhOgoKXGJlZ2lue2FsaWduKn0KU18wJj1cZnJhY3sxfXsxK1J9RV5RW1NfMV09XGZyYWN7MX17MStSfShRKFo9ZClcY2RvdCBkXGNkb3QgcytRKFo9dSlcY2RvdCB1XGNkb3QgcylcXAomPXNcZnJhY3sxfXsxK1J9KHFfZFxjZG90IGQrcV91XGNkb3QgdSk9cywKXGVuZHthbGlnbip9Cgp3aGVyZSB3ZSBzaW1wbHkgdXNlICQxK1I9cV9kXGNkb3QgZCtxX3VcY2RvdCB1JC4gV2UgY2FsbCB0aGlzIHRoZSByaXNrIG5lYXV0cmFsIHZhbHVhdGlvbiBmb3JtdWxhIGJlY2F1c2UgaXQgaW4gc29tZSBzZW5zZSBnaXZlcyBhbiBleHBlY3RlZCBkaXNjb3VudGVkIHZhbHVlIG9mIHRoZSBmdXR1cmUgc3RvY2sgcHJpY2UuIFdlIGVuZCB0aGlzIGVuZGF2b3VyIHdpdGggcmVmb3JtdWxhdGluZyB0aGUgYXJiaXRyYWdlIHByb3Bvc2l0aW9uIGFuZCBkZXRlcm1pbmluZyB0aGUgdmFsdWVzIG9mIHRoZSAkUSQtbWVhc3VyZS4KCjxibG9ja3F1b3RlIGNsYXNzID0gInByb3AiPgoKKipQcm9wb3NpdGlvbiAyLjUuKiogVGhlIG9uZS1wZXJpb2QgYmlub21pYWwgbW9kZWwgaXMgYXJiaXRyYWdlIGZyZWUgaWYgYW5kIG9ubHkgaWYgdGhlcmUgZXhpc3RzIGEgbWFydGluZ2FsZSBtZWFzdXJlICRRJC4KCjwvYmxvY2txdW90ZT4KCjxibG9ja3F1b3RlIGNsYXNzID0gInByb3AiPgoKKipQcm9wb3NpdGlvbiAyLjYuKiogVGhlIG9uZS1wZXJpb2QgYmlub21pYWwgbW9kZWwgaGFzIG1hcnRpbmdhbGUgcHJvYmFiaWxpdGllcyBnaXZlbiBieToKCiQkXGxlZnRce1xiZWdpbnttYXRyaXh9cV91PVxmcmFjeygxK1IpLWR9e3UtZH0sXFwgcV91PVxmcmFje3UtKDErUil9e3UtZH0uXGVuZHttYXRyaXh9XHJpZ2h0LiQkCgo8L2Jsb2NrcXVvdGU+CgojIyMjIyBDb250aW5nZW50IENsYWltcwoKVGhpcyBjaGFwdGVyIHJldm9sdmVzIGFyb3VuZCB0aGUgZmluYW5jaWFsIGRlcml2YXRpdmUgYW5kIHdlIHN0YXJ0IGJ5IHN0YXRpbmcgdGhlIGRlZmluaXRpb24gb2YgdGhlIGZpbmFuY2lhbCBkZXJpdmF0aXZlLgoKPGJsb2NrcXVvdGUgY2xhc3MgPSAiZGVmIj4KCioqRGVmaW5pdGlvbiAyLjcuKiogQSAqKmNvbnRpbmdlbnQgY2xhaW0qKiAoZmluYW5jaWFsIGRlcml2YXRpdmUpIGlzICphbnkqIHN0b2NoYXN0aWMgdmFyaWFibGUgJFgkIG9mIHRoZSBmb3JtICRcUGhpKFopJCwgd2hlcmUgJFokIGlzIHRoZSBzdG9jaGFzdGljIHZhcmlibGUgZHJpdmluZyB0aGUgc3RvY2sgcHJpY2UgcHJvY2Vzcy4KCjwvYmxvY2txdW90ZT4KCldlIG1heSBhbHNvIGNhbGwgdGhlIGZ1bmN0aW9uICRcUGhpJCB0aGUgKipjb250cmFjdCBmdW5jdGlvbioqIGFzIGl0IHN0YXRlcyBob3cgdGhlIGNvbnRyYWN0IGlzIHJlc29sdmVkIG9uY2UgdGhlIHN0b2NoYXN0aWMgdmFyaWFibGUgJFokIGhhcyBiZWVuIHJlYWxpc2VkLiBPdXIgb2JqZWN0aXZlIGlzIG5vdyB0byBzdHVkeSwgd2hhdCBhIGJ1eWVyIG9mIHNhaWQgY29udHJhY3Qgd291bGQgaGF2ZSB0byBwYXkgYXQgYW55IGdpdmVuIHRpbWUgJHQkLiBXZSBjYWxsIHRoZSBmYWlyIHByaWNlIG9mICRYJCBhdCB0aW1lICR0JDogJFxQaV90W1hdJC4gQXMgc3VjaCBpdCBpcyBlYXN5IHRvIHNlZSB0aGF0IHRoZSBmYWlyIHByaWNlIGF0IHRoZSB0aW1lIG9mIG1hdHVyaXR5ICRUJCBpcyBzaW1wbHkgdGhlIHBheW91dCAkWCQgaS5lLiAkXFBpX1RbWF09WCQuIE91ciBzdHJhdGVneSBpcyB0byBmaW5kIGEgcmVwbGljYXRpbmcgcG9ydGZvbGlvICRoJCBhbmQgZGV0ZXJtaW5lIHRoZSBwcmljZSBvZiBzYWlkIHBvcnRmb2xpby4KCjxibG9ja3F1b3RlIGNsYXNzID0gImRlZiI+CgoqKkRlZmluaXRpb24gMi44LioqIEEgY29udGluZ2VudCBjbGFpbSAkWCQgY2FuIGJlICoqcmVwbGljYXRlZCoqLCBvciBzYWlkIHRvIGJlICoqcmVhY2hhYmxlKiogaWYgdGhlcmUgZXhpc3QgYSBwb3J0Zm9saW8gJGgkIHN1Y2ggdGhhdAoKJCQKVl8xXmg9WCwKJCQKCndpdGggcHJvYmFiaWxpdHkgb25lLiBJbiB0aGF0IGNhc2UsIHdlIHNheSB0aGF0IHRoZSBwb3J0Zm9saW8gJGgkIGlzIGEgKipoZWRnaW5nKiogcG9ydGZvbGlvIG9yIGEgKipyZXBsaWNhdGlvbmcqKiBwb3J0Zm9saW8uIElmIGFsbCBjbGFpbXMgY2FuIGJlIHJlcGxpY2F0ZWQgd2Ugc2F5IHRoYXQgdGhlIG1hcmtldCBpcyAqKmNvbXBsZXRlKiouCgo8L2Jsb2NrcXVvdGU+CgpPdXIgcHJpY2luZyBzdHJhdGVneSBpcyB0aGVuIHRvIGRldGVybWluZSB0aGUgdmFsdWUgcHJvY2VzcyBvZiB0aGUgcmVwbGljYXRpbmcgcG9ydGZvbGlvIGFuZCB0aGVuIGJ5IHRoZSBmaXJzdCBwcmljaW5nIHByaW5jaXBsZSBiZWxvdyB3ZSBzYXkgdGhhdCB0aGUgcHJpY2UgaXMgaW1wbHkgdGhlIHZhbHVlIG9mIHRoZSByZXBsaWNhdGluZyBwb3J0Zm9saW8uCgoqKlByaWNpbmcgcHJpbmNpcGxlIDEuKiogSWYgYSBjbGFpbiAkWCQgaXMgcmVhY2hhYmxlIHdpdGggcmVwbGljYXRpbmcgcG9ydGZvbGlvICRoJCwgdGhlbiB0aGUgb25seSByZWFzb25hYmxlIHByaWNlIHByb2Nlc3MgZm9yICRYJCBpcyBnaXZlbiBieQoKJCQKXFBpX3RbWF09Vl90XmguCiQkCgpOb3RpY2UsIHRoYXQgdGhpcyBhc3N1bWVzIHRoYXQgYSByZXBsaWNhdGluZyBwb3J0Zm9saW8gZXhpc3QgYW5kIGV2ZW4gc28gd2UgaGF2ZSBhIHVuaXF1ZW5lc3Mgc3RhdGVtZW50IHRvIHNvbHZlLiBXZSBlbmQgdGhpcyBzZWN0aW9uIGJ5IHdyaXRpbmcgdHdvIGltcG9ydGFudCByZXN1bHRzLgoKPGJsb2NrcXVvdGUgY2xhc3MgPSAicHJvcCI+CgoqKlByb3Bvc2l0aW9uIDIuOS4qKiBTdXBwb3NlIHRoYXQgYSBjbGFpbSAkWCQgaXMgcmVhY2hhYmxlIHdpdGggcmVwbGljYXRpbmcgcG9ydGZvbGlvICRoJC4gVGhlbiBhbnkgcHJpY2UgYXQgdGltZSAkdFxnZSAwJCBvZiB0aGUgY2xhaW0gJFgkIG90aGVyIHRoYW4gdGhlIHZhbHVlIHByb2Nlc3Mgb2YgJGgkIHdpbGwgbGVhZCB0byBhbiBhcmJpdHJhZ2Ugb24gdGhlIGV4dGVuZGVkIG1hcmtldCAkKEIsUyxYKSQuCgo8L2Jsb2NrcXVvdGU+Cgo8YmxvY2txdW90ZSBjbGFzcyA9ICJwcm9wIj4KCioqUHJvcG9zaXRpb24gMi4xMC4qKiBJZiB0aGUgb25lLXBlcmlvZCBiaW5vbWlhbCBtb2RlbCBpcyBmcmVlIG9mIGFyYml0cmFnZSwgdGhlbiBpdCBpcyBhbHNvIGNvbXBsZXRlLgoKPC9ibG9ja3F1b3RlPgoKVGhlIGhlZGdpbmcgcG9ydGZvbGlvIGluIHRoZSBvbmUtcGVyaW9kIGJpbm9taWFsIG1vZGVsIGlzIGdpdmVuIGJ5IHRoZSBwb3J0Zm9saW8gJCh4LHkpJCBiZWxvdwoKJCQKeD1cZnJhY3sxfXsxK1J9XGNkb3RcZnJhY3t1XFBoaShkKS1kXFBoaSh1KX17dS1kfSxcaHNwYWNlezIwcHR9eT1cZnJhY3sxfXtzfVxjZG90XGZyYWN7XFBoaSh1KS1cUGhpKGQpfXt1LWR9LgokJAoKIyMjIyMgUmlzayBOZXV0cmFsIFZhbHVhdGlvbgoKV2Ugc2VlIHRoYXQgc2luY2UgdGhlIG9uZS1wZXJpb2QgbW9kZWwgaXMgY29tcGxldGUgd2UgY2FuIHByaWNlIGFueSBjb250aW5nZW50IGNsYWltIGFuZCB3ZSBzZWUgdGhhdAoKXGJlZ2lue2FsaWduKn0KXFBpXzBbWF0mPVxmcmFjezF9ezErUn1cY2RvdFxmcmFje3VcUGhpKGQpLWRcUGhpKHUpfXt1LWR9K3NcZnJhY3sxfXtzfVxjZG90XGZyYWN7XFBoaSh1KS1cUGhpKGQpfXt1LWR9XFwKJj1cZnJhY3sxfXsxK1J9XGxlZnRce1xmcmFje3VcUGhpKGQpLWRcUGhpKHUpfXt1LWR9KygxK1IpXGZyYWN7XFBoaSh1KS1cUGhpKGQpfXt1LWR9XHJpZ2h0XH1cXAomPVxmcmFjezF9ezErUn1cbGVmdFx7XGZyYWN7KDErUiktZH17dS1kfVxQaGkodSkrXGZyYWN7dS0oMStSKX17dS1kfVxQaGkoZClccmlnaHRcfVxcCiY9XGZyYWN7MX17MStSfUVeUVtYXS4KXGVuZHthbGlnbip9CgppLmUuIHRoZSBwcmljZSBhdCB0aW1lICR0PTAkIHNob3VsZCBzaW1wbHkgYmUgdGhlIGV4cGVjdGVkIGRpc2NvdW50ZWQgcGF5b3V0IGFjY29yZGluZyB0byB0aGUgbWFydGluZ2FsZSBtZWFzdXJlLiBUaGlzIGxlYWRzIHRvIHRoZSBpbXBvcnRhbnQgcHJpY2luZyBwcm9wb3NpdGlvbjoKCjxibG9ja3F1b3RlIGNsYXNzID0gInByb3AiPgoKKipQcm9wb3NpdGlvbiAyLjExLioqIElmIHRoZSBvbmUtcGVyaW9kIGJpbm9taWFsIG1vZGVsIGlzIGZyZWUgb2YgYXJiaXRyYWdlLCB0aGVuIHRoZSBhcmJpdHJhZ2UgZnJlZSBwcmljZSBvZiBhIGNvbnRpbmdlbnQgY2xhaW0gJFgkIGlzIGdpdmVuIGJ5CgokJApcUGlfMFtYXT1cZnJhY3sxfXsxK1J9RV5RW1hdLlx0YWd7Mi40fQokJAoKSGVyZSB0aGUgbWFydGluZ2FsZSBtZWFzdXJlICRRJCBpcyB1bmlxdWVseSBkZXRlcm1pbmVkIGJ5IHRoZSByZWxhdGlvbgoKJCQKU18wPVxmcmFjezF9ezErUn1FXlFbU18xXSxcdGFnezIuNX0KJCQKCmFuZCB0aGUgZXhwbGljaXQgZXhwcmVzc2lvbnMgZm9yICRxX3UkIGFuZCAkcV9kJCBhcmUgZ2l2ZW4gaW4gcHJvcG9zaXRpb24gMi42LiBGdXJ0aGVybW9yZSB0aGUgY2xhaW0gJFgkIGNhbiBiZSByZXBsaWNhdGVkIHVzaW5nIHRoZSBwb3J0Zm9saW8KClxiZWdpbnthbGlnbip9CngmPVxmcmFjezF9ezErUn1cY2RvdFxmcmFje3VcUGhpKGQpLWRcUGhpKHUpfXt1LWR9LFx0YWd7Mi42fVxcCnkmPVxmcmFjezF9e3N9XGNkb3RcZnJhY3tcUGhpKHUpLVxQaGkoZCl9e3UtZH0uXHRhZ3syLjd9ClxlbmR7YWxpZ24qfQoKPC9ibG9ja3F1b3RlPgoKIyMjIyBNdWx0aS1wZXJpb2QgbW9kZWwKClRoZSBvbmUtcGVyaW9kIGJpbm9taWFsIG1vZGVsIGNhbiBlYXNpbHkgYmUgZXh0ZW5kZWQgdG8gYSBtdWx0aS1wZXJpb2QgbW9kZWwsIGJ5IGFzc3VtaW5nIHRoYXQgdGhlIGJvbmQgYW5kIHN0b2NrIHByaWNlc3MgZXZvbHZlIGJ5IHRoZSBwcm9jZXNzZXM6CgokJAp0XGdlMTpcIEJfdD0oMStSKUJfe3QtMX1caHNwYWNlezIwcHR9XHRleHR7YW5kfVxoc3BhY2V7MjBwdH1CXzA9MSwKJCQKCiQkCnRcZ2UxOlwgU190PVpfe3QtMX1TX3t0LTF9XGhzcGFjZXsyMHB0fVx0ZXh0e2FuZH1caHNwYWNlezIwcHR9U18wPXMsCiQkCgp3aGVyZSB3ZSBvYnZpb3VzbHkgaGF2ZSB0aGF0ICRCX3Q9KDErUiledCQgZm9yICR0XGdlIDAkLiBJbiB0aGUgYWJvdmUgJFpfdCQgaXMgJHUkIHdpdGggcHJvYmFiaWxpdHkgJHBfdSQgYW5kICRkJCB3aXRoIHByb2JhYmlsaXR5ICRwX2QkLiBJbiB0aGlzIGNvbnRleHQsIHdlIG5lZWQgdG8gZGVmaW5lIGEgcG9ydGZvbGlvIGluIHRlcm1zIG9mIGEgc3RyYXRlZ3kuCgo8YmxvY2txdW90ZSBjbGFzcyA9ICJkZWYiPgoKKipEZWZpbml0aW9uIDIuMTMuKiogQSAqKnBvcnRmb2xpbyBzdHJhdGVneSoqIGlzIGEgc3RvY2hhc3RpYyBwcm9jZXNzIG9uICRcezEsLi4uLFRcfSQKCiQkCmg9XGxlZnRce2hfdD0oeF90LHlfdCk7XCB0PTEsLi4uLFRccmlnaHRcfQokJAoKc3VjaCB0aGF0ICRoX3QkIGlzIGEgZnVuY3Rpb24gb2YgJFNfMCxTXzEsLi4uLFNfe3QtMX0kLiBGb3IgYSBnaXZlbiBwb3J0Zm9saW8gc3RyYXRlZ3kgJGgkIHdlIHNldCAkaF8wPWhfMSQgYnkgY29udmVudGlvbi4gVGhlIGFzc29jaWF0ZWQgKip2YWx1ZSBwcm9jZXNzKiogY29ycmVzcG9uZGluZyB0byB0aGUgcG9ydGZvbGlvICRoJCBpcyBkZWZpbmVkIGJ5CgokJApWX3ReaD14X3QoMStSKSt5X3RTX3QuCiQkCgo8L2Jsb2NrcXVvdGU+CgpHaXZlbiB0aGlzIG5vdGF0aW9uIHdlIG1heSBkZWZpbmUgd2hhdCBhbiBhcmJpdHJhZ2UgaXMsIGJ1dCBmaXJzdCB3ZSBpbnRyb2R1Y2UgdGhlIG5vdGlvbiBvZiBhIHNlbGYtZmluYW5jaW5nIHBvcnRmb2xpby4gQSBzZWxmLWZpbmFuY2luZyBwb3J0Zm9saW8gaW4gYW4gaW50dWF0aXZlIHNlbnNlIGlzIGEgcG9ydGZvbGlvIHRoYXQgaXMgbm90IHdpdGhkcmF3biBmcm9tIG9yIGRlcG9zaXRlZCBpbnRvLgoKPGJsb2NrcXVvdGUgY2xhc3MgPSAiZGVmIj4KCioqRGVmaW5pdGlvbiAyLjE0LioqIEEgcG9ydGZvbGlvIHN0cmF0ZWd5ICRoJCBpcyBzYWlkIHRvIGJlICoqc2VsZi1maW5hbmNpbmcqKiBpZiB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbiBob2xkcyBmb3IgYWxsICR0PTAsLi4uLFQtMSQ6CgokJAp4X3QoMStSKSt5X3RTX3Q9eF97dCsxfSt5X3t0KzF9U190LgokJAoKPC9ibG9ja3F1b3RlPgoKVGhlIGFib3ZlIGVxdWF0aW9uIHNheXMgdGhhdCB0aGUgcG9ydGZvbGlvIHB1cmNoYXNlZCBhdCB0aW1lICR0JCBhbmQgaGVsdCB1bnRpbCAkdCsxJCAkKHhfe3QrMX0seV97dCsxfSkkIGNhbiBvbmx5IGJlIGZpbmFuY2VkIGJ5IHRoZSBtYXJrZXQgdmFsdWUgb2YgdGhlIHBvcnRmb2xpbyBoZWxkIGZyb20gJFt0LTEsdCkkIGkuZS4gJCh4X3t0fSx5X3t0fSkkLiBXZSBub3cgZGVmaW5lIGFuIGFyYml0cmFnZS4KCjxibG9ja3F1b3RlIGNsYXNzID0gImRlZiI+CgoqKkRlZmluaXRpb24gMi4xNS4qKiBBbiAqKmFyYml0cmFnZSoqIGlzIGEgc2VsZi1maW5hbmNpbmcgcG9ydGZvbGlvICRoJCB3aXRoIHRoZSBwcm9wZXJ0aWVzOiAxKSAkVl5oXzA9MCQsIDIpICRQKFZeaF9UXGdlIDApPTEkIGFuZCAzKSAkUChWXmhfVD4wKT4wJC4KCjwvYmxvY2txdW90ZT4KClRoZSBtdWx0aXBlcmlvZCBiaW5vbWlhbCBtb2RlbCBoYXMgYW4ganVzdCBsaWtlIHRoZSBvbmVwZXJpb2QgbW9kZWwgYSByZXN1bHQgcmVnYXJkaW5nIHdoZW4gYW4gYXJiaXRyYWdlIGV4aXN0cy4KCjxibG9ja3F1b3RlIGNsYXNzID0gImxlbSI+CgoqKkxlbW1hIDIuMTYuKiogSWYgJGRcbGUgKDErUilcbGUgdSQgdGhlbiB0aGUgbXVsdGlwZXJpb2QgbW9kZWwgaXMgYXJiaXRyYWdlLWZyZWUuCgo8L2Jsb2NrcXVvdGU+CgpBcyBvbmUgY2FuIHNlZSwgdGhlIG11bHRpcGVyaW9kIG1vZGVsIGlzIHJhdGhlciBzaW1pbGFyIHRvIHRoZSBvbmUgcGVyaW9kIG1vZGVsLiBXZSB3aWwgaW4gdGhlIGZvbGxvd2luZyBzdW1tYXJpc2UgZXF1aXZhbGVudCBzdGF0ZW1lbnRzIGZvciB0aGUgbXVsdGlwZXJpb2QgbW9kZWwgYXMgdGhlIG9uZXMgaW4gdGhlIG9uZXBlcmlvZCBtb2RlbC4gCgo8YmxvY2txdW90ZSBjbGFzcyA9ICJkZWYiPgoKKipEZWZpbml0aW9uIDIuMTcuKiogVGhlIG1hcnRpbmdhbGUgcHJvYmFiaWxpdGllcyAkcV91JCBhbmQgJHFfZCQgYXJlIGRlZmluZWQgYXMgdGhlIHByb2JhYmlsaXRpZXMgZm9yIHdoaWNoIHRoZSByZWxhdGlvbiBiZWxvdyBob2xkcy4KCiQkCnM9XGZyYWN7MX17MStSfUVeUVtTX3t0KzF9XCBcdmVydFwgU190XS4KJCQKCjwvYmxvY2txdW90ZT4KCjxibG9ja3F1b3RlIGNsYXNzID0gInByb3AiPgoKKipQcm9wb3NpdGlvbiAyLjE4LioqIFRoZSBtYXJ0aW5nYWxlIHByb2JhYmlsaXRpZXMgJHFfdSQgYW5kICRxX2QkIGFyZSBnaXZlbiBieQoKJCQKXGxlZnRce1xiZWdpbnttYXRyaXh9cV91PVxmcmFjeygxK1IpLWR9e3UtZH0sXFwgcV91PVxmcmFje3UtKDErUil9e3UtZH0uXGVuZHttYXRyaXh9XHJpZ2h0LgokJAoKPC9ibG9ja3F1b3RlPgoKPGJsb2NrcXVvdGUgY2xhc3MgPSAiZGVmIj4KCioqRGVmaW5pdGlvbiAyLjE5LioqIEEgKipjb250aW5nZW50IGNsYWltKiogaXMgYSBzdG9jaGFzdGljIHZhcmlhYmxlICRYJCBvZiB0aGUgZm9ybQoKJCQKWD1cUGhpKFNfVCksCiQkCgp3aGVyZSB0aGUgKipjb250cmFjdCBmdW5jdGlvbioqICRcbWF0aGJme1xQaGl9JCBpcyBzb21lIGdpdmVuIHJlYWwgdmFsdWVkIGZ1bmN0aW9uLgoKPC9ibG9ja3F1b3RlPgoKPGJsb2NrcXVvdGUgY2xhc3MgPSAiZGVmIj4KCioqRGVmaW5pdGlvbiAyLjIwLioqIEEgZ2l2ZW4gY29udGluZ2VudCBjbGFpbSAkWCQgaXMgc2FpZCB0byBiZSAqKnJlYWNoYWJsZSoqIGlmIHRoZXJlIGV4aXN0cyBhIHNlbGYtZmluYW5jaW5nIHBvcnRmb2xpbyAkaCQgc3VjaCB0aGF0CgokJApWX1ReaD1YLAokJAoKd2l0aCBwcm9iYWJpbGl0eSBvbmUuIEluIHRoYXQgY2FzZSB3ZSBzYXkgdGhhdCB0aGUgcG9ydGZvbGlvICRoJCBpcyBhICoqaGVkZ2luZyoqIHBvcnRmb2xpbyBvciBhICoqcmVwbGljYXRpbmcqKiBwb3J0Zm9saW8uIElmIGFsbCBjbGFpbXMgY2FuIGJlIHJlcGxpY2F0ZWQgd2Ugc2F5IHRoYXQgdGhlIG1hcmtldCBpcyAqKGR5bmFtaWNhbGx5KSogKipjb21wbGV0ZSoqLgoKPC9ibG9ja3F1b3RlPgoKKipQcmljaW5nIHByaW5jaXBsZSAyLioqIElmIGEgY2xhaW0gJFgkIGlzIHJlYWNoYWJsZSB3aXRoIHJlcGxpY2F0aW5nIHBvcnRmb2xpbyAkaCQsIHRoZW4gdGhlIG9ubHkgcmVhc29uYWJsZSBwcmljZSBwcm9jZXNzIGZvciAkWCQgb3MgZ2l2ZW4gYnkKCiQkClxQaV90W1hdPVZfdF5oLFwgdD0wLDEsLi4uLFQuCiQkCgo8YmxvY2txdW90ZSBjbGFzcyA9ICJwcm9wIj4KCioqUHJvcG9zaXRpb24gMi4yMS4qKiBBc3N1bWUgJFgkIGlzIHJlYWNoYWJsZSBieSAkaCQsIHRoZW4gYW55IHByaWNlIG90aGVyIHRoYW4gJFZfdF5oJCBmb3Igc29tZSAkdFxnZSAwJCBsZWFkcyB0byBhbiBhcmJpdHJhZ2Ugb3Bwb3J0dW5pdHkuCgo8L2Jsb2NrcXVvdGU+Cgo8YmxvY2txdW90ZSBjbGFzcyA9ICJwcm9wIj4KCioqUHJvcG9zaXRpb24gMi4yMi4qKiBUaGUgbXVsdGlwZXJpb2QgbW9kZWwgaXMgY29tcGxldGUsIGkuZS4gZXZlcnkgY2xhaW0gY2FuIGJlIHJlcGxpY2F0ZWQgYnkgYSBzZWxmLWZpbmFuY2luZyBwb3J0Zm9saW8uCgo8L2Jsb2NrcXVvdGU+Cgo8YmxvY2txdW90ZSBjbGFzcyA9ICJwcm9wIj4KCioqUHJvcG9zaXRpb24gMi4yNC4qKiAqKihCaW5vbWlhbCBhbGdvcml0aG0pKiogQ29uc2lkZXIgYSAkVCQtY2xhaW0gJFg9XFBoaShTX1QpJC4gVGhlbiB0aGlzIGNsYWltIGNhbiBiZSByZXBsaWNhdGVkIHVzaW5nIGFmIHNlbGYtZmluYW5jaW5nIHBvcnRmb2xpby4gSWYgJFZfdChrKSQgZGVub3RlcyB0aGUgdmFsdWUgb2YgdGhlIHBvcnRmb2xpbyBhdCB0aGUgbm9kZSAkKHQsaykkICgkayQgcmVmZXJyaW5nIHRvICRrJCBhbW91bnQgb2YgdXAtbW92ZXMgZm9yIHRoZSBzdG9jayksIHRoZW4gJFZfdChrKSQgY2FuIGJlIGNvbXB1dGVkIHJlY3Vyc2l2ZWx5IGJ5IHRoZSBzY2hlbWUKCiQkClxsZWZ0XHtcYmVnaW57bWF0cml4fVZfdChrKT1cZnJhY3sxfXsxK1J9XGxlZnRce3FfdVZfe3QrMX0oaysxKStxX2RWX3t0KzF9KGspXHJpZ2h0XH0sXFwgVl9UKGspPVxQaGkoc3Vea2Ree1Qta30pLlxlbmR7bWF0cml4fVxyaWdodC4KJCQKCndoZXJlIHRoZSBtYXJ0aW5nYWxlIHByb2JhYmlsaXRpZXMgJHFfdSQgYW5kICRxX2QkIGFyZSBnaXZlbiBieQoKJCQKXGxlZnRce1xiZWdpbnttYXRyaXh9cV91PVxmcmFjeygxK1IpLWR9e3UtZH0sXFwgcV91PVxmcmFje3UtKDErUil9e3UtZH0uXGVuZHttYXRyaXh9XHJpZ2h0LgokJAoKV2l0aCB0aGUgbm90YXRpb24gYXMgYWJvdmUsIHRoZSBoZWRnaW5nIHBvcnRmb2xpbyBpcyBnaXZlbiBieQoKJCQKXGxlZnRce1xiZWdpbnttYXRyaXh9eF90KGspPVxmcmFjezF9ezErUn1cY2RvdFxmcmFje3VWX3QoayktZFZfdChrKzEpfXt1LWR9LFxcIHlfdChrKT1cZnJhY3sxfXtTX3t0LTF9fVxjZG90XGZyYWN7Vl90KGsrMSktVl90KGspfXt1LWR9LlxlbmR7bWF0cml4fVxyaWdodC4KJCQKCkluIHBhcnRpY3VsYXIsIHRoZSBhcmJpdHJhZ2UgZnJlZSBwcmljZSBvZiB0aGUgY2xhaW0gYXQgJHQ9MCQgaXMgZ2l2ZW4gYnkgJFZfMCgwKSQuCgo8L2Jsb2NrcXVvdGU+Cgo8ZGV0YWlscz4KPHN1bW1hcnk+KipFeGFtcGxlLioqPC9zdW1tYXJ5PgoKYGBge3Rpa3osZWNobz1GQUxTRX0KXHRpa3pzdHlsZXtsZXZlbCAxfT1bbGV2ZWwgZGlzdGFuY2U9NGNtLCBzaWJsaW5nIGRpc3RhbmNlPTMuNWNtLC0+XQpcdGlrenN0eWxle2xldmVsIDJ9PVtsZXZlbCBkaXN0YW5jZT00Y20sIHNpYmxpbmcgZGlzdGFuY2U9MmNtLC0+XQoKXHRpa3pzdHlsZXtiYWd9ID0gW3RleHQgd2lkdGg9MmVtLCB0ZXh0IGNlbnRlcmVkXQpcdGlrenN0eWxle2VuZH0gPSBbXQoKXGJlZ2lue3Rpa3pwaWN0dXJlfVtncm93PXJpZ2h0LCBzbG9wZWRdClxub2RlW2JhZ10gezEwMH0KICAgIGNoaWxkIHsKICAgICAgICBub2RlW2JhZ10gezkwfSAgICAgICAgCiAgICAgICAgICAgIGNoaWxkIHsKICAgICAgICAgICAgICAgIG5vZGVbZW5kLCBsYWJlbD1yaWdodDoKICAgICAgICAgICAgICAgICAgICB7ODF9XSB7fQogICAgICAgICAgICAgICAgZWRnZSBmcm9tIHBhcmVudAogICAgICAgICAgICAgICAgbm9kZVthYm92ZV0ge30KICAgICAgICAgICAgICAgIG5vZGVbYmVsb3ddICB7JHBfZF4yJH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjaGlsZCB7CiAgICAgICAgICAgICAgICBub2RlW2VuZCwgbGFiZWw9cmlnaHQ6CiAgICAgICAgICAgICAgICAgICAgezk5fV0ge30KICAgICAgICAgICAgICAgIGVkZ2UgZnJvbSBwYXJlbnQKICAgICAgICAgICAgICAgIG5vZGVbYWJvdmVdIHt9CiAgICAgICAgICAgICAgICBub2RlW2JlbG93XSAgeyRwX2RwX3UkfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVkZ2UgZnJvbSBwYXJlbnQgCiAgICAgICAgICAgIG5vZGVbYWJvdmVdIHt9CiAgICAgICAgICAgIG5vZGVbYmVsb3ddICB7JHBfZCR9CiAgICB9CiAgICBjaGlsZCB7CiAgICAgICAgbm9kZVtiYWddIHsxMTB9ICAgICAgICAKICAgICAgICBjaGlsZCB7CiAgICAgICAgICAgICAgICBub2RlW2VuZCwgbGFiZWw9cmlnaHQ6CiAgICAgICAgICAgICAgICAgICAgezk5fV0ge30KICAgICAgICAgICAgICAgIGVkZ2UgZnJvbSBwYXJlbnQKICAgICAgICAgICAgICAgIG5vZGVbYWJvdmVdIHskcF9kcF91JH0KICAgICAgICAgICAgICAgIG5vZGVbYmVsb3ddICB7fQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNoaWxkIHsKICAgICAgICAgICAgICAgIG5vZGVbZW5kLCBsYWJlbD1yaWdodDoKICAgICAgICAgICAgICAgICAgICB7MTIxfV0ge30KICAgICAgICAgICAgICAgIGVkZ2UgZnJvbSBwYXJlbnQKICAgICAgICAgICAgICAgIG5vZGVbYWJvdmVdIHskcF91XjIkfQogICAgICAgICAgICAgICAgbm9kZVtiZWxvd10gIHt9CiAgICAgICAgICAgIH0KICAgICAgICBlZGdlIGZyb20gcGFyZW50ICAgICAgICAgCiAgICAgICAgICAgIG5vZGVbYWJvdmVdIHskcF91JH0KICAgICAgICAgICAgbm9kZVtiZWxvd10gIHt9CiAgICB9OwpcZW5ke3Rpa3pwaWN0dXJlfQpgYGAKCkNvbnNpZGVyICRSPTAuMDQkLCAkcz0xMDAkLCAkdT0xLjEkLCAkZD0wLjkkLCAkcF91PTAuNiQgYW5kICRwX2Q9MC40JC4gV2UgY29uc2lkZXIgYSBtb2RlbCBvZiBsZW5ndGggJFQ9MiQgYW5kIHdlIHdhbnQgdG8gZXZhbHVhdGUgdGhlIHByaWNlIG9mIHRoZSBldXJvcGVhbiBjYWxsIG9wdGlvbiB3aXRoIHNyaWtlICRLPTkwJCB0aGF0IGlzIHRoZSBjb250aW5nZW50IGNsYWltCgokJApYPShTX1QtSyleKyxcaHNwYWNlezIwcHR9XFBoaShzKT0ocy1LKV4rLgokJAoKRm9yIGVhY2ggdGltZSAkdCQgd2Uga25vdyB0aGUgcmVwbGljYXRpbmcgcG9ydGZvbGlvLCBpZiB3ZSBrbm93IHRoZSBwYXlvZmYgdGhlIGZvbGxvd2luZyBwZXJpb2QuIFRoZXJlZm9yZSB3ZSBzdGFydCBmcm9tIHRoZSBsZWF2ZXMgb2YgdGhlIHRyZWUgYW5kIHdvcmsgdG93YXJkcyB0aGUgcm9vdC4gU2luY2UgdGhlIHN0cmlrZSBwcmljZSBpcyAkSz05MCQgdGhlIGVuZCByZXN1bHQgd2lsbCBiZSB0aGUgZm9sbG93aW5nIHBheW9mZnM6CgpcYmVnaW57YWxpZ24qfQp1XjI6XGhzcGFjZXsyMHB0fSYoMTIxLTkwKV4rPTMxXFwKdWQ6XGhzcGFjZXsyMHB0fSYoOTktOTApXis9OVxcCmR1Olxoc3BhY2V7MjBwdH0mKDk5LTkwKV4rPTlcXApkXjI6XGhzcGFjZXsyMHB0fSYoODEtOTApXis9MApcZW5ke2FsaWduKn0KClRoZXJlZm9yZSBieSB0aGUgcmlzayBuZWF1dHJhbCB2YWx1YXRpb24gZm9ybXVsYSB3aXRoICRxX3U9XGZyYWN7KDErUiktZH17dS1kfT0wLjckIGFuZCAkcV9kPVxmcmFje3UtKDErUil9e3UtZH09MC4zJCB3ZSBoYXZlIHRoYXQgdGhlIGNvc3Qgb2YgdGhlIHJlcGxpY2F0aW5nIHBvcnRmb2xpbyBhdCB0aW1lICR0PTEkIGlzIHJlc3BlY3RpdmVseQoKXGJlZ2lue2FsaWduKn0KdTpcaHNwYWNlezIwcHR9JlxmcmFjezF9ezErUn1cbGVmdFx7MzFcY2RvdCBxX3UgKyA5IFxjZG90IHFfZFxyaWdodFx9XGFwcHJveCAyMy40NlxcCmQ6XGhzcGFjZXsyMHB0fSZcZnJhY3sxfXsxK1J9XGxlZnRcezlcY2RvdCBxX3UgKyAwIFxjZG90IHFfZFxyaWdodFx9XGFwcHJveCA2LjA2ClxlbmR7YWxpZ24qfQoKVG8gcmVwbGljYXRlIHRoaXMgcGF5b2ZmIGF0IHRpbWUgJHQ9MSQgd2UgY2FuIHVzZSB0aGUgcmlzayBuZXV0cmFsIHZhbHVhdGlvbiBmb3JtdWxhIG9uY2UgbW9yZSB0byBmaW5kIHRoZSBiYXNlIGNvc3Qgb2YgdGhlIHJlcGxpY2F0aW5nIHBvcnRmb2xpbyBpLmUuIHRoZSBwcmljZSBvZiAkWCQgYXQgdGltZSAkdD0wJAoKJCQKXGZyYWN7MX17MStSfVxsZWZ0XHsyMy40NlxjZG90IHFfdSArIDYuMDYgXGNkb3QgcV9kXHJpZ2h0XH1cYXBwcm94IDE3LjU0LgokJAoKV29ya2luZyBmcm9tIHRoZSByb290IHRvIHRoZSBsZWF2ZXMgd2UgY2FuIG5vdyBjYWxjdWxhdGUgdGhlIGhlZGdpbmcgcG9ydGZvbGlvIGF0IHRpbWUgJHQ9MCwxJCBmb3IgZWFjaCBwYXRoLiBGb3IgdGltZSAkdD0wJCB3ZSBjYWxjdWxhdGUKClxiZWdpbnthbGlnbip9Cng9JlxmcmFjezF9ezErUn1cY2RvdCBcZnJhY3t1XGNkb3QgNi4wNi1kXGNkb3QgMjMuNDZ9e3UtZH1cYXBwcm94IC02OS40NixcXAp5PSZcZnJhY3sxfXtzfVxjZG90XGZyYWN7MjMuNDYtNi4wNn17dS1kfVxhcHByb3gwLjg3ClxlbmR7YWxpZ24qfQoKV2Ugc2VlIGJ5IGNhbGN1bGF0aW9ucyB0aGF0IHRoaXMgZG9lcyBpbmRlZWQgcmVwbGljYXRlIHRoZSBwYXlvZmYgYXQgdGltZSAkdD0xJDoKClxiZWdpbnthbGlnbip9CnU6XGhzcGFjZXsyMHB0fSZWXzFeaD0oMStSKVxjZG90IHggKyAxMTBcY2RvdCB5XGFwcHJveCAyMy40NixcXApkOlxoc3BhY2V7MjBwdH0mVl8xXmg9KDErUilcY2RvdCB4ICsgOTBcY2RvdCB5XGFwcHJveCA2LjA2LgpcZW5ke2FsaWduKn0KCldlIGFsc28gc2VlIGJ5IGNhbGN1bGF0aW9uIHRoYXQgdGhlIGluaXRpYWwgcG9ydGZvbGlvIGRvZXMgY29zdCB0aGUgZXhwZWN0ZWQgMTcuNTQgYXMKCiQkCnhcY2RvdCAxK3lcY2RvdDEwMD04Ny02OS40Nj0xNy41NC4KJCQKCkZvbGxvd2luZyB0aGVzZSBzdGVwcyBhdCB0aW1lICR0PTEkIHRoZSBwb3J0Zm9saW9zICQoLTg2LjU0LDEpJCAoZm9yIHRoZSB1cC1zY2VuYXJpbykgYW5kICQoLTM4Ljk0LDAuNSkkIChmb3IgdGhlIGRvd24tc2NlbmFyaW8pIHdvdWxkIGFyaXNlLiBOb3RpY2Ugd2hlbiBjYWxjdWxhdGluZyAkeSQgb25lIGhhcyB0byB1c2UgdGhlIGN1cnJlbnQgcHJpY2UgJFNfMT1TXzBcY2RvdCBaJCBub3QgJFNfMCQuIE9uZSBzaG91bGQgYWxzbyBjaGVjayBieSBzaW1pbGFyIGNhbGN1bGF0aW9ucyBhcyBhYm92ZSwgdGhhdCB0aGVzZSBwb3J0Zm9saW9zIGRvZXMgaW5kZWVkIHJlcGxpY2F0ZSB0aGUgcGF5b2ZmIG9mIHRoZSBjb250aW5nZW50IGNsYWltICRYJC4gJFxzcXVhcmUkCgo8L2RldGFpbHM+Cgo8YmxvY2txdW90ZSBjbGFzcyA9ICJwcm9wIj4KCioqUHJvcG9zaXRpb24gMi4yNS4qKiBUaGUgYXJiaXRyYWdlIGZyZWUgcHJpY2UgYXQgJHQ9MCQgb2YgYSAkVCQtY2xhaW0gJFgkIGlzIGdpdmVuIGJ5CgokJApcUGlfMFtYXT1cZnJhY3sxfXsoMStSKV5UfUVeUVtYXQokJAoKd2hlcmUgJFEkIGRlbm90ZXMgdGhlIG1hcnRpbmdhbGUgbWVhc3VyZSwgb3IgbW9yZSBleHBsaWNpdGx5CgokJApcUGlfMFtYXT1cZnJhY3sxfXsoMStSKV5UfVxzdW1fe2s9MH1eVFxiaW5vbXtUfXtrfXFfdV5rcV9kXntULWt9XFBoaShzdV5rZF57VC1rfSkuCiQkCgo8L2Jsb2NrcXVvdGU+Cgo8ZGV0YWlscz4KPHN1bW1hcnk+KipFeGFtcGxlLioqPC9zdW1tYXJ5PgoKYGBge3J9ClIgPC0gMC4wNApzIDwtIDEwMAp1IDwtIDEuMQpkIDwtIDAuOQpwX3UgPC0gMC42CnBfZCA8LSAwLjQKcV91IDwtICgxK1ItZCkvKHUtZCkKcV9kIDwtICh1LTEtUikvKHUtZCkKY2FwX3QgPC0gMgoKI1Rlc3QgZm9yIEs9OTAKSyA8LSA5MApwaV8wIDwtICgxK1IpKiooLWNhcF90KSpzdW0oCiAgY2hvb3NlKGNhcF90LDA6Y2FwX3QpKnFfdSoqKDA6Y2FwX3QpKnFfZCoqKGNhcF90IC0gMDpjYXBfdCkqcG1heChzKnUqKigwOmNhcF90KSpkKiooY2FwX3QgLSAwOmNhcF90KS1LLDApCikgIyA9IDE3LjUzODgzCgpwaV8wIDwtIHVubGlzdChsYXBwbHkoMDpjZWlsaW5nKHMqdSoqY2FwX3QpLCBmdW5jdGlvbihLKXsKICAoMStSKSoqKC1jYXBfdCkqc3VtKAogICAgY2hvb3NlKGNhcF90LDA6Y2FwX3QpKnFfdSoqKDA6Y2FwX3QpKnFfZCoqKGNhcF90IC0gMDpjYXBfdCkqcG1heChzKnUqKigwOmNhcF90KSpkKiooY2FwX3QgLSAwOmNhcF90KS1LLDApCiAgKQp9KSkKYGBgCmBgYHtyLCBlY2hvID0gRkFMU0UsIHdyYXBmID0gVFJVRX0KbGlicmFyeShkcGx5cikKbGlicmFyeShnZ3Bsb3QyKQpkYXRhLmZyYW1lKEsgPSAwOmNlaWxpbmcocyp1KipjYXBfdCksCiAgICAgICAgICAgUGlfMCA9IHBpXzApICU+JQogIGdncGxvdCguKSArIGdlb21fbGluZShhZXMoeD1LLHk9UGlfMCkpICsKICBsYWJzKHRpdGxlID0gIlByaWNlIG9mIGV1cm9wZWFuIGNhbGwgb3B0aW9uIiwKICAgICAgIHggPSAiU3RyaWtlIiwgeSA9ICJQcmljZSIpICsKICB0aGVtZV9idygpICsKICB0aGVtZShheGlzLnRleHQgPSBlbGVtZW50X3RleHQoc2l6ZSA9IDE1KSwKICAgICAgICB0aXRsZSA9IGVsZW1lbnRfdGV4dChzaXplID0gMTgpKQpgYGAKCldlIGZvbGxvdyBhbiBhbmFsb2cgZXhhbXBsZSBhcyB0aGUgb25lIGFmdGVyIHByb3Bvc2l0aW9uIDIuMjQuIExldCAkSz05MCQgYW5kIHdlIHNlZSB0aGF0CgpcYmVnaW57YWxpZ24qfQomXFBpXzBbWF1cXAomPVxmcmFjezF9eygxKzAuMDQpXjJ9XHN1bV97az0wfV4yXGJpbm9tezJ9e2t9XGNkb3QwLjdea1xjZG90MC4zXnsyLWt9XGNkb3RcUGhpKDEwMFxjZG90IDEuMV5rXGNkb3QwLjleezIta30pXFwKJj0wLjkyNDU1NjJcY2RvdFxsZWZ0KFx1bmRlcmJyYWNlezFcY2RvdCAxXGNkb3QwLjA5XGNkb3QwfV97az0wfStcdW5kZXJicmFjZXsyXGNkb3QgMC43XGNkb3QwLgozXGNkb3QgOX1fe2s9MX0rXHVuZGVyYnJhY2V7MVxjZG90IDAuNDlcY2RvdDFcY2RvdDMxfV97az0yfVxyaWdodClcXAomPTAuOTI0NTU2MlxjZG90XGxlZnQoMCszLjc4KzE1LjE5XHJpZ2h0KVxcCiY9MTcuNTM4ODMKXGVuZHthbGlnbip9CgoKU2luY2Ugd2Uga25vdyB0aGF0ICRLJCBtdXN0IG1lYW5pbmdmdWxseSByYW5nZSBpbiAkWzAsMTIxXSQgd2UgY291bGQgdHJ5IHRvIGNhbGN1bGF0ZSB0aGUgcHJpY2Ugb2YgdGhlIGNvbnRpbmdlbnQgY2xhaW0gYXQgdGltZSAkdD0wJCBmb3IgYWxsIGludGVnZXJzIGluIHRoaXMgaW50ZXJ2YWwuIFdlIHNlZSB0aGF0IHRoZSBwcmljZSByYW5nZSBiZXR3ZWVuICRTXzAkIGFuZCAwIGFzIGV4cGVjdGVkLiBPbmUgY2FuIGFsc28gc2VlIHRoYXQgdGhlIHByaWNlIGNoYW5nZXMgc2xvcGUgYXQgdGhlIHByaWNlcyA5OSBhbmQgMTIxIGFzIHRoZSBmdW5jdGlvbiBpcyBsaW5lYXIgaW4gJFxQaGkkIGFuZCBzb20gcmVhbGlzYXRpb25zIGxvb3NlIGFueSBlZmZlY3Qgb24gdGhlIHByaWNlIHdoZW4gdGhlIHN0cmlrZSBpcyBoaWdoZXIgdGhhbiB0aGUgb3V0Y29tZS4gJFxzcXVhcmUkCgo8L2RldGFpbHM+Cgo8YmxvY2txdW90ZSBjbGFzcyA9ICJwcm9wIj4KCioqUHJvcG9zaXRpb24gMi4yNi4qKiBUaGUgY29uZGl0aW9uICRkPCgxK1IpPHUkIGlzIG5lY2Vzc2FyeSBhbmQgc3VmZmljaWVudCBjb25kaXRpb24gZm9yIGFic2VuY2Ugb2YgYXJiaXRyYWdlLgoKPC9ibG9ja3F1b3RlPgoKIyMjIyBHZW5lcmVsaXNlZCBvbmUtcGVyaW9kIG1vZGVsCgpJbiB0aGUgcHJldmlvdXMgd2UgaGFkIHRoZSBzaW1wZWwgbW9kZWwgd2hlcmUgd2Ugb25seSBoYWQgb25lIHN0b2NoYXN0aWMgYXNzZXQgJFMkIGFuZCBvbmx5IG9uZSBzdG9jaGFzdGljIHZhcmlhYmxlICRaJCBkZXRlcm1pbmluZyB0aGUgZnV0dXJlIHN0b2NrIHByaWNlLiBOb3cgd2Ugd2lsbCBnZW5lcmVsaXNlIHRoaXMgbW9kZWwgYnkgaW50cm9kdWNpbmcgJE4kIGFzc2V0cyBhbmQgaW50cm9kdWNpbmcgc29tIHN0b2NoYXN0aWMgYmVoYXZpb3VyIHRvIHRoZSBzeXN0ZW0uCgojIyMjIyBNb2RlbCBzcGVjaWZpY2F0aW9uCgpXZSBjb25zaWRlciB0aGUgbWFya2V0IGNvbnNpc3Rpbmcgb2YgYSBjb2xsZWN0aW9uIG9mIHN0b2NoYXN0aWMgcHJpY2VzIGFzc2V0cyAkaT0xLC4uLixOJCB3aXRoICROJC1kaW1lbnNpb25hbCBwcmljZSBwcm9jZXNzLgoKJCQKU190PVxiZWdpbntibWF0cml4fSBTX3ReMVxcClx2ZG90c1xcClNfdF5OXGVuZHtibWF0cml4fQokJAoKV2Ugbm93IGFzc3VtZSB0aGF0ICRTX3QkIGlzIGRlZmluZWQgb24gYSBiYWNrZ3JvdW5kIHNwYWNlIHdpdGggZmluaXRlIHNhbXBsZSBzcGFjZSAkXE9tZWdhID0gXHtcb21lZ2FfMSwuLi4sXG9tZWdhX01cfSQgd2l0aCBhc3NvY2lhdGVkIHByb2JhYmlsaXRpZXMgJHBfaj1QKFxvbWVnYV9qKSQsICRqPTEsLi4uLE0kLiBXZSBjYW4gdGhlbiBmb3IgZWFjdCB0aW1lICR0PTEsLi4uLFQkIGRlZmluZSB0aGUgJE5cdGltZXMgTSQgbWF0cml4ICREX3QkIGFzIHN1Y2gKCiQkCkRfdD1cYmVnaW57Ym1hdHJpeH0gU190XjEoXG9tZWdhXzEpJlxjZG90cyAmU190XjEoXG9tZWdhX00pXFwKXHZkb3RzICZcZGRvdHMgJiBcdmRvdHNcXApTX3ReTihcb21lZ2FfMSkgJlxjZG90cyZTX3ReTShcb21lZ2FfTSlcZW5ke2JtYXRyaXh9LgokJAoKV2Ugd2lsbCBhc3N1bWUgdGhhdCAkU18wXjE+MCQgYW5kICRTXzFeMShcb21lZ2Ffaik+MCQsICRqPTEsLi4uLE0kLgoKIyMjIyMgQWJzZW5jZSBvZiBBcmJpdHJhZ2UKCldlIG5vdyBkZWZpbmUgYSAqKnBvcnRmb2xpbyoqIGFzIGFuICROJC1kaW1lbnNpb25hbCByb3cgdmVjdG9yCgokJApoPVxiZWdpbntibWF0cml4fSBoXjEsIFxkb3RzLGheTlxlbmR7Ym1hdHJpeH0KJCQKCnJlcHJlc2VudGluZyB0aGUgYW1vdW50IG9mIGFzc2V0cyBoZWxkIGF0IHRpbWUgJHQ9MCQgYW5kIGhlbGQgdW50aWwgJHQ9MSQuIFRoZSAqKnZhbHVlIHByb2Nlc3MqKiBpcyB0aGVuCgokJApWXmhfdD1oXGNkb3QgU190PVxzdW1fe2k9MX1eTiBoXmlTX3ReaSxcIHQ9MCwxLgokJAoKRm9yIGEgZ2l2ZW4gJFxvbWVnYV9qXGluXE9tZWdhJCB3ZSBoYXZlIHRoZSByZWFsaXNhdGlvbgoKJCQKVl90Xmg9aFNfdChcb21lZ2Ffaik9aGRfaj0oaEQpX2ouCiQkCgo8YmxvY2txdW90ZSBjbGFzcyA9ICJkZWYiPgoKKipEZWZpbml0aW9uIDMuMS4qKiBUaGUgcG9ydGZvbGlvICRoJCBpcyBhbiAqKmFyYml0cmFnZSBwb3J0Zm9saW8qKiBmaWwgaXQgc2F0aXNmaWVzIHRoZSBjb25kaXRpb25zOiAkVl8wXmg9MCQsICRQKFZfMV5oXGdlIDApPTEkIGFuZCAkUChWXzFeaD4wKT4wJC4KCjwvYmxvY2txdW90ZT4KCjxibG9ja3F1b3RlIGNsYXNzID0gImxlbSI+CgoqKkxlbW1hIDMuMi4qKiAqKihGYXJrYXMnIExlbW1hKSoqIFN1cHBvc2UgdGhhdCAkZF8wLGRfMSwuLi4sZF9NJCBhcmUgY29sdW1uIHZlY3RvcnMgaW4gJFxtYXRoYmJ7Un1eTiQuIFRoZW4gZXhhY3RseSBvbmUgb2YgdGhlIGZvbGxvd2luZyBwcm9ibGVtcyBwb3NzZXNzZXMgYSBzb2x1dGlvbi4KCiAgKiAqKlByb2JsZW0gMSoqOiBUaGVyZSBleGlzdCAkXGxhbWJkYV8xLC4uLixcbGFtYmRhX01cZ2UwJCBzdWNoIHRoYXQgJGRfMD1cc3VtX3tqPTF9Xk1cbGFtYmRhX2pkX2okLgogICogKipQcm9ibGVtIDIqKjogVGhlcmUgZXhpc3QgJGhcaW5cbWF0aGJie1J9Xk4kIHN1Y2ggdGhhdCAkaF5cdG9wIGRfMDwwJCBhbmQgJGheXHRvcCBkX2pcZ2UgMCQgZm9yICRqPTEsLi4uLE0kLgoKPC9ibG9ja3F1b3RlPgoKV2Ugbm93IGludmVzdGVnYXRlIHRoaXMgc3lzdGVtIGZvciBhbnkgcG9zc2libGUgYXJiaXRyYWdlIHBvcnRmb2xpb3MuIEhvd2V2ZXIgZmlyc3Qgd2UgYWNrbm93bGVkZ2UgdGhhdCB0aGVyZSBleGlzdCBhIG5vbWluYWwgcHJpY2Ugc3lzdGVtICRTX3QkIGFuZCBhIG5vcm1hbGlzZWQgcHJpY2Ugc3lzdGVtICRaX3QkLiBUaGUgbGF0dGVyIHdlIGRlZmluZSBhcyB0aGUgbm9taW5lbCBwcmljZXNzIHVuZGVyIHRoZSBudW1lcmFpcmUgJFNfdF4xJCB0aGF0IGlzCgokJApaX3Q9XGJlZ2lue2JtYXRyaXh9IFNfdF4xL1NfdF4xXFwKU190XjIvU190XjFcXApcdmRvdHNcXApTX3ReTi9TX3ReMVxlbmR7Ym1hdHJpeH09XGJlZ2lue2JtYXRyaXh9IDFcXApTX3ReMi9TX3ReMVxcClx2ZG90c1xcClNfdF5OL1NfdF4xXGVuZHtibWF0cml4fS4KJCQKClRoZSByZWFzb24gZm9yIGludHJvZHVjaW5nIHRoZSBub3JtYWxpemVkIHByaWNlIHN5c3RlbSBpcyB0aGF0IHdlIGNhbiB3aXRob3V0IG11Y2ggZWZmb3J0IHRyYW5zbGF0ZSByZXN1bHRzIGluIHRoaXMgc3lzdGVtIHRvIHRoZSBub21pbmFsIHN5c3RlbSBhbmQgdGhlIG5vcm1hbGlzZWQgc3lzdGVtIGlzIGVhc2llciB0byBhbmFsaXplLiBGb3IgdGhpcywgaG93ZXZlciwgd2UgbmVlZCBhZiBmZXcgcmVzdWx0cy4KCjxibG9ja3F1b3RlIGNsYXNzID0gImxlbSI+CgoqKkxlbW1hIDMuMy4qKiBXaXRoIG5vdGF0aW9uIGFzIGFib3ZlLCB0aGUgZm9sbG93aW5nIGhvbGQuCgogIDEuIFRoZSAkWl90JCB2YWx1ZSBwcm9jZXNzIGkgcmVsYXRlZCB0byB0aGUgJFNfdCQgdmFsdWUgcHJvY2VzcyBieQogICQkCiAgVl90XntoLFp9PWhaX3Q9XGZyYWN7MX17U190XjF9Vl90XmguCiAgJCQKICAyLiBBIHBvcnRmb2xpbyBpcyBhbiBhcmJpdHJhZ2UgaW4gdGhlICRTX3QkIHN5c3RlbSBpZiBhbmQgb25seSBpZiB0aGVyZSBpcyBhbiBhcmJpdHJhZ2UgaW4gdGhlICRaX3QkIHN5c3RlbS4KICAzLiBJbiB0aGUgJFpfdCQgcHJpY2Ugc3lzdGVtLCB0aGUgbnVtZXJhaWUgYXNzZXQgJFpeMSQgaGFzIHVuaXQgY29uc3RhbnQgcHJpY2VzIGkuZS4gJFpfdF4xPTEkIGZvciBhbGwgJHRcZ2UgMCQuCgo8L2Jsb2NrcXVvdGU+CgpPbmUgb2YgdGhlIHJlYXNvbiB0aGF0IHRoZSBub3JtYWxpc2VkIHN5c3RlbSBpcyBhdHRyYWN0YWJsZSBpcyB0aGF0IHRoZSBudW1lcmFpcmUgYXNzZXQgaXMgY29uc3RhbnQgaS5lLiByaXNrIGZyZWUgaW4gdGhlIG5vcm1hbGlzZWQgc3lzdGVtLiBMZXQgdXMgZm9ybXVsYXRlIG91ciBmaXJzdCBtYWluIHJlc3VsdC4KCjxibG9ja3F1b3RlIGNsYXNzID0gInByb3AiPgoKKipQcm9wb3NpdGlvbiAzLjQuKiogVGhlIG1hcmtldCBpcyBhcmJpdHJhZ2UgZnJlZSBpZiBhbmQgb25seSBpZmYgdGhlcmUgZXhpc3RzIHN0cmljdGx5IHBvc2l0aXZlIHJlYWwgbnVtYmVycyAkcV8xLC4uLixxX01cZ2UgMCQgd2l0aCAkcV8xK1xjZG90cyArIHFfTT0xJCAocHJvYmFiaWxpdHkgdmVjdG9yKSBzdWNoIHRoYXQgdGhlIGZvbGxvd2luZyB2ZWN0b3IgZXF1YWxpdHkgaG9sZHMKCiQkClxiZWdpbntibWF0cml4fSBaXzBeMVxcClx2ZG90c1xcClpfTl4xXGVuZHtibWF0cml4fT1cYmVnaW57Ym1hdHJpeH0gWl8xXjEoXG9tZWdhXzEpXFwKXHZkb3RzXFwKWl8xXk4oXG9tZWdhXzEpXGVuZHtibWF0cml4fXFfMStcY2RvdHMgK1xiZWdpbntibWF0cml4fSBaXzFeMShcb21lZ2FfTSlcXApcdmRvdHNcXApaXzFeTihcb21lZ2FfTSlcZW5ke2JtYXRyaXh9cV9NLlx0YWd7My4zfQokJAoKPC9ibG9ja3F1b3RlPgoKPGRldGFpbHM+CjxzdW1tYXJ5PioqUHJvb2YuKio8L3N1bW1hcnk+Cgo8L2RldGFpbHM+CgojIyMjIyBNYXJ0aW5nYWxlIE1lYXN1cmVzCgo8YmxvY2txdW90ZSBjbGFzcyA9ICJkZWYiPgoKKipEZWZpbml0aW9uIDMuNS4qKiBHaXZlbiB0aGUgb2JqZWN0aXZlIHByb2JhYmlsaXR5IG1lYXN1cmUgJFAkIG9uICQoXE9tZWdhLFxtYXRoY2Fse0Z9LFApJCwgd2Ugc2F5IHRoYXQgYW5vdGhlciBwcm9iYWJpbGl0eSBtZWFzdXJlICRRJCBkZWZpbmVkIG9uICRcT21lZ2EkIGlzICAqKmVxdWl2YWxlbnQqKiB0byAkUCQgaWYKCiQkClxmb3JhbGwgQVxpblxtYXRoY2Fse0Z9OlAoQSk9MFxpZmYgUShBKT0wLAokJAoKb3IgZXF1aXZhbGVudGx5CgokJApcZm9yYWxsIEFcaW5cbWF0aGNhbHtGfTpQKEEpPTFcaWZmIFEoQSk9MS4KJCQKCjwvYmxvY2txdW90ZT4KCjxibG9ja3F1b3RlIGNsYXNzID0gImRlZiI+CgoqKkRlZmluaXRpb24gMy43LioqIENvbnNpZGVyIHRoZSBtYXJrZXQgbW9kZWwgYWJvdmUgYW5kIHNldCAkU14xJCBhcyB0aGUgbnVtZXJhaXJlIGFzc2V0LiBXZSBzYXkgdGhhdCBhIHByb2JhYmlsaXR5IG1lYXN1cmUgJFEkIGRlZmluZWQgb24gJFxPbWVnYSQgaXMgYSAqKm1hcnRpbmdhbGUgbWVhc3VyZSoqIGlmIGl0IHNhdGlzZmllcyB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CgogIDEuICRRJCBpcyBlcXVpdmFsZW50IHRvICRQJCwgaS5lLiAkUVxzaW0gUCQuCiAgMi4gRm9yIGV2ZXJ5ICRpPTEsLi4uLE4kLCB0aGUgbm9ybWFsaXplZCBhc3NldCBwcmljZSBwcm9jZXNzCiAgJCQKICBaX3ReaT1cZnJhY3tTX3ReaX17U190XjF9LAogICQkCiAgaXMgbWFydGluZ2FsZSB1bmRlciB0aGUgbWVhc3VyZSAkUSQuCgo8L2Jsb2NrcXVvdGU+Cgo8YmxvY2txdW90ZSBjbGFzcyA9ICJ0aG0iPgoKKipUaGVvcmVtIDMuOC4qKiAqKihGaXJzdCBGdW5kYW1lbnRhbCBUaGVvcmVtKSoqIEdpdmVuIGEgZml4ZWQgbnVtZXJhaXJlLCB0aGVyIG1hcmtldCBpcyBmcmVlIG9mIGFyYml0cmFnZSBwb3NzaWJpbGl0aWVzIGlmIGFuZCBvbmx5IGlmIHRoZXJlIGV4aXN0cyBhIG1hcnRpbmdhbGUgbWVhc3VyZSAkUSQuCgo8L2Jsb2NrcXVvdGU+CgpCeSBhc3N1bWluZyB0aGF0IHRoZSBudW1lcmFpcmUgYXNzZXQgaXMgcmlzayBmcmVlIChpLmUuIGRvZXMgbm90IGRlcGVuZCBvbiAkXG9tZWdhJCkgdGhlbiBieSBzY2FsaW5nIHdlIGNhbiBkZXJpdmUgdGhlIHNob3J0IGludGVyZXN0IHJhdGUgYXMKCiQkCjErUj1cZnJhY3tTXzFeMX17U18wXjF9LgokJAoKV2l0aCB0aGlzIGluIG1pbmQgd2UgY2FuIGZvcm11bGF0ZSB0aGVvcmVtIDMuOCBpbiBpdHMgbW9yZSB3aWRlbHkgdXNlZCBmb3JtLgoKPGJsb2NrcXVvdGUgY2xhc3MgPSAidGhtIj4KCioqVGhlb3JlbSAzLjkuKiogKiooRmlyc3QgRnVuZGFtZW50YWwgVGhlb3JlbSkqKiBBc3N1bWUgdGhhdCB0aGVyZSBleGlzdCBhIHJpc2sgZnJlZSBhc3NldCwgYW5kIGRlbm90ZSB0aGUgY29ycmVzcG9uZGluZyByaXNrIGZyZWUgaW50ZXJlc3QgcmF0ZSBieSAkUiQuIFRoZW4gdGhlIG1hcmtldCBpcyBhcmJpdHJhZ2UgZnJlZSBpZiBhbmQgb25seSBpZiB0aGVyZSBleGlzdCBhIG1lYXN1cmUgJFFcc2ltIFAkIHN1Y2ggdGhhdAoKJCQKU18wXmk9XGZyYWN7MX17MStSfUVeUVtTXzFeaV0sXGhzcGFjZXsyMHB0fVx0ZXh0e2ZvciBhbGx9XCBpPTEsLi4uLE4uXHRhZ3szLjl9CiQkCgo8L2Jsb2NrcXVvdGU+CgojIyMjIyBNYXJ0aW5nYWxlIFByaWNpbmcKCk1vdmluZyBmb3J3YXJkIHdlIHdpbGwgYXNzdW1lIHRoYXQgdGhlcmUgZXhpc3QgYSByaXNrIGZyZWUgYXNzZXQgYW5kIHdlIHdpbGwgZGVub3RlIGl0IGJ5ICRCX3QkICgkQl90PVNeMV90L1NeMV8wJCkuCgo8YmxvY2txdW90ZSBjbGFzcyA9ICJkZWYiPgoKKipEZWZpbml0aW9uIDMuMTAuKiogQSAqKmNvbnRpbmdlbnQgY2xhaW0qKiBpcyBhbnkgcmFuZG9tIHZhcmlhYmxlICRYJCwgZGVmaW5lZCBvbiB0aGUgc2FtcGxlIHNwYWNlICRcT21lZ2EkLgoKPC9ibG9ja3F1b3RlPgoKVG8gZW5zdXJlIG5vIGFyYml0cmFnZSBpbiB0aGUgZXh0ZW5kZWQgbWFya2V0IGNvbnRhaW5pbmcgdGhlICROJCBhc3NldHMgYW5kIHRoZSBjb250aW5nZW50IGNsYWltIHdlIGNhbiBhcHBseSB0aGUgZmlyc3QgZnVuZGFtZW50YWwgcHJpY2luZyB0aGVvcmVtIG9uIHRoZSBleHRlbmRlZCBtYXJrZXQuCgo8YmxvY2txdW90ZSBjbGFzcyA9ICJwcm9wIj4KCioqUHJvcG9zaXRpb24gMy4xMS4qKiBDb25zaWRlciBhIGdpdmVuIGNsYWltICRYJC4gSW4gb3JkZXIgdG8gYXZvaWQgYXJiaXRyYWdlLCAkWCQgbXVzdCB0aGVuIGJlIHByaWNlZCBhY2NvcmRpbmcgdG8gdGhlIGZvcm11bGEKCiQkClxQaV8wW1hdPVxmcmFjezF9ezErUn1FXlFbWF0sXHRhZ3szLjEwfQokJAoKd2hlcmUgJFEkIGlzIGEgbWFydGluZ2FsZSBtZWFzdXJlIGZvciB0aGUgdW5kZXJseWluZyBtYXJrZXQgJChcUGksU14xLC4uLixTXk4pJC4KCjwvYmxvY2txdW90ZT4KCiMjIyMjIENvbXBsZXRlbmVzcwoKR2l2ZW4gdGhhdCBhIG1hcmtldCBpcyBhcmJpdHJhZ2UtZnJlZSB3ZSBtYXkgcnVuIGludG8gYSB1bmlxdWVuZXNzIGlzc3VlIHdoZW4gZGV0ZXJtaW5pbmcgdGhlIHByaWNlIG9mIGEgY29udGluZ2VudCBjbGFpbS4gSWYgYSBtYXJ0aW5nYWxlIG1lYXN1cmUgZXhpc3Qgd2Ugd2lsbCB2ZXJ5IG11Y2ggbGlrZSBpdCB0byBiZSB1bmlxdWUgYXMgdGhpcyB3aWxsIGVuc3VyZSB0aGF0IHRoZSBwcmljZSBmcm9tIHRoZSByaXNrIG5ldXRyYWwgdmFsdWF0aW9uIGZvcm11bGEgaXMgdW5pcXVlLiBUbyB0aGlzIHdlIG5lZWQgdGhlIG1hcmtldCB0byBiZSBjb21wbGV0ZS4KCjxibG9ja3F1b3RlIGNsYXNzID0gImRlZiI+CgoqKkRlZmluaXRpb24gMy4xMi4qKiBDb25zaWRlciBhIGNvbnRpbmdlbnQgY2xhaW0gJFgkLiBJZiB0aGVyZSBleGlzdHMgYSBwb3J0Zm9saW8gJGgkLCBiYXNlZCBvbiB0aGUgdW5kZXJseWluZyBhc3NldHMsIHN1Y2ggdGhhdAoKJCQKVl8xXmg9WCxcIFx0ZXh0e3dpdGggcHJvYmFiaWxpdHkgMX1cdGFnezMuMTF9CiQkCgppLmUuCgokJApWXzFeaChcb21lZ2Ffaik9WChcb21lZ2FfaiksXCBqPTEsLi4uLE0sXHRhZ3szLjEyfQokJAoKdGhlbiB3ZSBzYXkgdGhhdCAkWCQgaXMgKipyZXBsaWNhdGVkKiosIG9yICoqaGVkZ2VkKiogYnkgJGgkLiBTdWNoIGEgcG9ydGZvbGlvICRoJCBpcyBjYWxsZWQgYSByZXBsaWNhdGluZywgb3IgaGVkZ2luZyBwb3J0Zm9saW8uIElmIGV2ZXJ5IGNvbnRpbmdlbnQgY2xhaW0gY2FuIGJlIHJlcGxpY2F0ZWQsIHdlIHNheSB0aGF0IHRoZSBtYXJrZXQgaXMgKipjb21wbGV0ZSoqLgoKPC9ibG9ja3F1b3RlPgoKV2UgY2FuIG5vdyBmb3JtdWxhdGUgYSBwcm9wb3NpdGlvbiBvbiB3aGVuIHRoZSBtYXJrZXQgaXMgY29tcGxldGUgaW4gdGVybXMgb2YgdGhlIG1hdHJpeCAkRCQuCgo8YmxvY2txdW90ZSBjbGFzcyA9ICJwcm9wIj4KCioqUHJvcG9zaXRpb24gMy4xMy4qKiBUaGUgbWFya2V0IGlzIGNvbXBsZXRlIGlmIGFuZCBvbmx5IGlmIHRoZSByb3dzIG9mIHRoZSBtYXRyaXggJEQkIHNwYW4gJFxtYXRoYmJ7Un1eTSQsIGkuZS4gaWYgYW5kIG9ubHkgaWYgJEQkIGhhcyByYW5rICRNJC4KCjwvYmxvY2txdW90ZT4KCk5vdyB3ZSBmb3JtdWxhdGUgdGhlIHNlY29uZCBmdW5kYW1lbnRhbCBwcmljaW5nIHRoZW9yZW0gaW4gdGVybXMgb2YgdGhlIG1hcnRpbmdhbGUgbWVhc3VyZSAkUSQuCgo8YmxvY2txdW90ZSBjbGFzcyA9ICJwcm9wIj4KCioqUHJvcG9zaXRpb24gMy4xNC4qKiAqKihTZWNvbmQgRnVuZGFtZW50YWwgVGhlb3JlbSkqKiBBc3N1bWUgdGhhdCB0aGUgbW9kZWwgaXMgYXJiaXRyYWdlIGZyZWUgaS5lLiAkUSQgZXhpc3QuIFRoZW4gdGhlIG1hcmtldCBpcyB1bmlxdWUgaWYgYW5kIG9ubHkgaWYgdGhlIG1hcnRpbmdhbGUgbWVhc3VyZSBpcyB1bmlxdWUuCgo8L2Jsb2NrcXVvdGU+CgojIyMjIyBTdG9jaGFzdGljIERpc2NvdW50IEZhY3RvcnMKCjxibG9ja3F1b3RlIGNsYXNzID0gImRlZiI+CgoqKkRlZmluaXRpb24gMy4xNi4qKiBUaGUgcmFuZG9tIHZhcmlhYmxlICRMJCBvbiAkXE9tZWdhJCBpcyBkZWZpbmVkIGJ5CgokJApMKFxvbWVnYV9pKT1cZnJhY3txX2l9e3BfaX0sXGhzcGFjZXsyMHB0fSBpPTEsLi4uLE0uCiQkCgo8L2Jsb2NrcXVvdGU+Cgo8YmxvY2txdW90ZSBjbGFzcyA9ICJkZWYiPgoKKipEZWZpbml0aW9uIDMuMTcuKiogQXNzdW1lIHRoZSBhYnNlbmNlIG9mIGFyYml0cmFnZSwgYW5kIGZpeCBhIG1hcnRpbmdhbGUgbWVhc3VyZSAkUSQuIFdpdGggbm90YXRpb24gYXMgYWJvdmUsIHRoZSAqKnN0b2NoYXN0aWMgZGlzY291bnQgZmFjdG9yKiogKG9yICJzdGF0ZSBwcmljZSBkZWZsYXRvciIpIGlzIHRoZSByYW5kb20gdmFyaWFibGUgJFxMYW1iZGEkIG9uICRcT21lZ2EkIGJ5CgokJApcbWF0aGJme019KFxvbWVnYSk9XGZyYWN7MX17MStSfVxjZG90IEwoXG9tZWdhKS5cdGFnezMuMTl9CiQkCgo8L2Jsb2NrcXVvdGU+Cgo8YmxvY2txdW90ZSBjbGFzcyA9ICJwcm9wIj4KCioqUHJvcG9zaXRpb24gMy4xOC4qKiBUaGUgYXJiaXRyYWdlIGZyZWUgcHJpY2Ugb2YgYW55IGNsYWltICRYJCBpcyBnaXZlbiBieSB0aGUgZm9ybXVsYQoKJCQKXFBpXzBbWF09RV5QW1xtYXRoYmZ7TX1cY2RvdCBYXQokJAoKd2hlcmUgJFxtYXRoYmZ7TX0kIGlzIGEgc3RvY2hhc3RpYyBkaXNjb3VudCBmYWN0b3IuCgo8L2Jsb2NrcXVvdGU+CgombmJzcDsKCiMjIyBFeGVyY2lzZXMKCioqUHJvYmFiaWxpdHkgZXhlcmNpc2VzKioKCkxldCAkKFcodCkpX3t0XGdlfSQgYmUgYSBCcm93bmlhbiBtb3Rpb24gKEJqb3JrLCBEZWZpbml0aW9uIDQuMSkuCgoqKkV4ZXJjaXNlIDEuKiogU2hvdyB0aGF0IHRoZSBmb2xsb3dpbmcgcHJvY2Vzc2VzIGFsc28gYXJlIEJyb3duaWFuIG1vdGlvbnMuCgogaS4gJCgtVyh0KSlfe3RcZ2UgMH0kIChzeW1tZXRyeSkKIGlpLiBGb3IgYW55ICRzXGdlIDAkLCAkKFcodCtzKS1XKHMpKV97dFxnZSAwfSQgKHRpbWUtaG9tb2dlbmVpdHkpLgogaWlpLiBGb3IgZXZlcnkgJGM+MCQsICQoY1codC9jXjIpKV97dFxnZSAwfSQgKHNjYWxpbmcpLgoKPGRldGFpbHM+CjxzdW1tYXJ5PioqU29sdXRpb24gKGkpLioqPC9zdW1tYXJ5PgoKQnkgYXNzdW1wdGlvbiAkVyQgaXMgYSBCcm93bmlhbiBtb3Rpb24gYW5kIHNvIGl0IGZvbGxvd3MgdGhhdAoKJCQtV18wPS0xXGNkb3QwPTAkJAoKRnVydGhlcm1vcmUsIGZvciAkcjxzXGxlIHQ8IHUkIGl0IGhvbGRzIHRoYXQgJFdfdS1XX3QkIGFuZCAkV19zLVdfciQgaXMgaW5kZXBlbmRlbnQuIEJ5IHNlcGVyYXRlIHRyYW5zZm9ybWF0aW9ucyB0aGUgaW5kZXBlbmRlbmNlIHByb3BlcnR5IGlzIHByZXNlcnZlZCBhbmQgJC0oV191LVdfdCkkIGFuZCAkLShXX3MtV19yKSQgaXMgaW5kZXBlbmRlbnQuIE5leHQsIGZvciBhIG5vcm1hbCBkaXN0cmlidXRlZCByYW5kb20gdmFyaWFibGUgJE5cc2ltXG1hdGhjYWx7Tn0oXG11LFxzaWdtYV4yKSQgaXQgaG9sZHMsIHRoYXQgZm9yIGEgc2NhbGVyICRjXGluXG1hdGhiYntSfSQgd2UgaGF2ZSAkYyBOXHNpbVxtYXRoY2Fse059KGNcbXUsY14yXHNpZ21hIF4yKSQuIFRoZW4gb2J2aW91c2x5OwoKJCQtKFdfdCk9KC0xKVdfdFxzdGFja3JlbHtkfXs9fVxtYXRoY2Fse059KCgtMSlcY2RvdDAsKC0xKV4yKHQtcykpXHN0YWNrcmVse2R9ez19XG1hdGhjYWx7Tn0oIDAsdC1zKS4kJAoKTGFzdGx5LCBsZXQgJFxvbWVnYSBcaW4gXE9tZWdhJCBhbmQgY29uc2lkZXIgdGhlIHNhbXBsZSBwYXRoICRzXG1hcHN0byAoLVdfcykoXG9tZWdhKSQuIENsZWFybHkgZm9yIHR3byBjb250aW51b3VzIGZ1bmN0aW9ucyAkZiQgYW5kICRnJCBpdCBob2xkcyB0aGF0ICQoZ1xjaXJjIGYpJCBpcyBjb250aW51b3VzLiBUaGVuIHdpdGggJGcoZik9LWYkIGFuZCAkZih0KT1XX3QoXG9tZWdhKSIvPiQgaXQgZm9sbG93cyB0aGF0ICQoLVdfdCk9KGdcY2lyYyBXKSh0KSQgaXMgYWxzbyBjb250aW51b3VzLgoKPC9kZXRhaWxzPgo8ZGV0YWlscz4KPHN1bW1hcnk+KipTb2x1dGlvbiAoaWkpLioqPC9zdW1tYXJ5PgoKTXVjaCBsaWtlIHRoZSBwcmV2aW91cyBleGVyY2lzZSB3ZSBkZWZpbmUgYSBuZXcgcHJvY2VzcyBhbmQgc2hvdyB0aGUgcHJvcGVydGllcyBob2xkLiBMZXQgJHNcZ2UgMCQgYmUgY2hvc2VuIGFyYml0cmFyeS4gTm93IGRlZmluZSAkWF90PVcodCtzKS1XKHMpJC4KCkZpcnN0LCB3ZSBsZXQgJHQ9MCQgYW5kIHNlZQoKJCRYXzA9VygwK3MpLVcocyk9VyhzKS1XKHMpPTAuJCQKClNlY29uZGx5LCB3ZSBoYXZlIHRoYXQgZm9yICRyPHUkOgoKJCRYX3UtWF9yPVcodStzKS1XKHMpLShXKHIrcyktVyhzKSk9Vyh1K3MpLVcocitzKVxzaW0gXG1hdGhjYWx7Tn0oMCx1K3MtKHIrcykpPVxtYXRoY2Fse059KDAsdS1yKS4kJAoKYW5kIHNpbmNlIGZvciAkcjx1XGxlIGs8bCQgdGhlIHRyYW5zbGF0aW9uICRyK3M8dStzXGxlIGsrczxsK3MkIHN0aWxsIGhvbGRzIGFuZCAkWF9sLVhfaz1XKGwrcyktVyhrK3MpJCBhbmQgJFhfdS1YX3I9Vyh1K3MpLVcoaytzKSQgYXJlIGluZGVwZW5kZW50LiBGaW5hbGx5IHNpbmNlICRXX3QoXG9tZWdhKSQgaXMgY29udGludW91cyBpbiAkdCQgaGVuY2UgdGhlIHRyYW5zbGF0aW9uICRXX3t0K3N9JCBpcyBjb250aW5vdW9zLiBBZGRpbmcgYSBjb25zdGFudCB5aWVsZHMgYSBmdW5jdGlvbiB0aGF0IGlzIGFsc28gY29udGludW91cywgaGVuY2UgJFhfdCQgaXMgY29udGludW91cy4KCjwvZGV0YWlscz4KPGRldGFpbHM+CjxzdW1tYXJ5PioqU29sdXRpb24gKGlpaSkuKio8L3N1bW1hcnk+CgpMZXQgJGM+MCQgYmUgZ2l2ZW4uIFdlIHNob3cgdGhhdAoKJCRYX3Q9Y1dcbGVmdChcZnJhY3t0fXtjXjJ9XHJpZ2h0KSQkCgppcyBhIEJyb3duaWFuIG1vdGlvbi4gV2Ugc2ltcGx5IHNob3cgdGhlIGZvdXIgcHJvcGVydGllcy4gTGV0ICR0PTAkIGFuZCBub3RpY2UKCiQkWF8wPWNXXGxlZnQoXGZyYWN7MH17Y14yfVxyaWdodCk9Y1coMCk9MC4kJAoKVGhlIHNlY29uZCBwcm9wZXJ0eSBmb2xsb3dzIGZyb20gc2VwZXJhdGUgdHJhbnNmb3JtYXRpb24gYW5kIHRoYXQgZm9yICRyPHVcbGUgczx0JCB3ZSBjb25zaWRlcgoKJCRYX3UtWF9yPWNcbGVmdChXXGxlZnQoXGZyYWN7dX17Y14yfVxyaWdodCktV1xsZWZ0KFxmcmFje3J9e2NeMn1ccmlnaHQpXHJpZ2h0KVxoc3BhY2V7MjBwdH1cdGV4dHthbmR9XGhzcGFjZXsyMHB0fVhfdC1YX3M9Y1xsZWZ0KFdcbGVmdChcZnJhY3t0fXtjXjJ9XHJpZ2h0KS1XXGxlZnQoXGZyYWN7c317Y14yfVxyaWdodClccmlnaHQpJCQKCmFuZCBzaW5jZSAkYyxyLHUsdCxzPjAkIHdlIGhhdmUgdGhlIHNhbWUgb3JkZXIgZm9yIHRoZSBzY2FsZWQgdmVyc2lvbiBvZiAkcix1LHQscyQgYW5kIGhlbmNlIHdlIGhhdmUgdHdvIGluZGVwZW5kZW50IFJWIHNjYWxlZCBieSAkYyQuIFRoZW4gYnkgc2VwZXJhdGUgdHJhbnNmb3JtYXRpb25zIHRoZSB2YXJpYWJsZXMgaXMgc3RpbGwgaW5kZXBlbmRlbnQuIE5leHQgZm9yIHRoZSB0aGlyZCBwcm9wZXJ0eToKCiQkWF90LVhfcz1jXGxlZnQoV1xsZWZ0KFxmcmFje3R9e2NeMn1ccmlnaHQpLVdcbGVmdChcZnJhY3tzfXtjXjJ9XHJpZ2h0KVxyaWdodClcc2ltXG1hdGhjYWx7Tn1cbGVmdChjXGNkb3QgMCxjXjJcbGVmdChcZnJhY3t0fXtjXjJ9LVxmcmFje3N9e2NeMn1ccmlnaHQpXHJpZ2h0KT1cbWF0aGNhbHtOfSgwLHQtcykuJCQKCldoZXJlIHdlIHVzZSB0aGUgcHJvcGVydGllcyBvZiBzY2FsaW5nIGEgbm9ybWFsIGRpc3RyaWJ1dGVkIHJhbmRvbSB2YXJpYWJsZSBpLmUuIGZvciAkYz4wJCBhbmQgJE5cc2ltXG1hdGhjYWx7Tn0oXG11LFxzaWdtYSBeMikkIGl0IGZvbGxvd3MgdGhhdCAkYyBOXHNpbVxtYXRoY2Fse059KGNcbXUsY14yXHNpZ21hIF4yKSQuIEZpbmFsbHksIHRoZSBmb3J0aCBwcm9wZXJ0eSBmb2xsb3dzIHNpbmNlICRnKGYpPWNmJCBpcyBjb250aW51b3VzIGFuZCAkaCh0KT10L2NeMiQgaXMgY29udGludW91cywgdGhlbiBmb3IgYW55IGNvbnRpbnVvdXMgZnVuY3Rpb24gJGYocykkIGl0IGZvbGxvd3MgdGhhdCAkKGcgXGNpcmMgZlxjaXJjIGgpPWcoZihoKHQpKSkkIGlzIGNvbnRpbnVvdXMuCgo8L2RldGFpbHM+CgombmJzcDsKCjxibG9ja3F1b3RlIGNsYXNzID0gInByb3AiPgoqKlByb3Bvc2l0aW9uIEIuMzcuKiogTGV0ICQoXE9tZWdhLFxtYXRoY2Fse0Z9LFApJCBiZSBhIGdpdmVuIHByb2JhYmlsaXR5IHNwYWNlLCBsZXQgJFxtYXRoY2Fse0d9JCBiZSBhIHN1Yi1zaWdtYS1hbGdlYnJhIG9mICRcbWF0aGNhbHtGfSQsIGFuZCBsZXQgJFgkIGJlIGEgc3F1YXJlIGludGVncmFibGUgcmFuZG9tIHZhcmlhYmxlLgpDb25zaWRlciB0aGUgcHJvYmxlbSBvZiBtaW5pbWl6aW5nCiQkRVxsZWZ0WyhYLVopXjJccmlnaHRdJCQKd2hlcmUgJFokIGlzIGFsbG93ZWQgdG8gdmFyeSBvdmVyIHRoZSBjbGFzcyBvZiBhbGwgc3F1YXJlIGludGVncmFibGUgJFxtYXRoY2Fse0d9JCBtZWFzdXJhYmxlIHJhbmRvbSB2YXJpYWJsZXMuIFRoZSBvcHRpbWFsIHNvbHV0aW9uICRcaGF0e1p9JCBpcyB0aGVuIGdpdmVuIGJ5LgokJFxoYXR7Wn09RVtYXHZlcnRcbWF0aGNhbHtHfV0uJCQKPC9ibG9ja3F1b3RlPgoKKipFeGVyY2lzZSAyLioqICooQmpvcmssIGV4ZXJjaXNlIEIuMTEuKSogUHJvdmUgcHJvcG9zaXRpb24gQi4zNyBieSBnb2luZyBhbG9uZyB0aGUgZm9sbG93aW5nIGxpbmVzLgoKICBhLiBQcm92ZSB0aGF0IHRoZSAiZXN0aW1hdGlvbiBlcnJvciIgJFgtRVtYXHZlcnRcbWF0aGNhbHtHfV0kIGlzIG9ydGhvZ29uYWwgdG8gJExeMihcT21lZ2EsXG1hdGhjYWx7R30sUCkkIGluIHRoZSBzZW5jZSB0aGF0IGZvciBhbnkgJFpcaW4gTF4yKFxPbWVnYSxcbWF0aGNhbHtHfSxQKSQgd2UgaGF2ZQogICQkRVtaXGNkb3QoWC1FW1hcdmVydFxtYXRoY2Fse0d9XSldPTAkJAogIGIuIE5vdyBwcm92ZSB0aGUgcHJvcG9zaXRpb24gYnkgd3JpdGluZwogICQkWC1aPShYLUVbWFx2ZXJ0XG1hdGhjYWx7R31dKSsoRVtYXHZlcnRcbWF0aGNhbHtHfV0tWikkJAogIGFuZCB1c2UgdGhlIHJlc3VsdCBqdXN0IHByb3ZlZC4KCjxkZXRhaWxzPgo8c3VtbWFyeT4qKlNvbHV0aW9uIChhKS4qKjwvc3VtbWFyeT4KCkxldCAkWFxpbiBMXjIoXE9tZWdhLFxtYXRoY2Fse0Z9LFApJCBiZSBhIHJhbmRvbSB2YXJpYWJsZS4gTm93IGNvbnNpZGVyIGFuIGFyYml0cmFyeSAkWlxpbiBMXjIoXE9tZWdhLFxtYXRoY2Fse0d9LFApJC4gUmVjYWxsIHRoYXQgJFxtYXRoY2Fse0d9XHN1YnNldCBcbWF0aGNhbHtGfSQgYW5kIHNvICRYJCBpcyBhbHNvIGluICRaXGluIExeMihcT21lZ2EsXG1hdGhjYWx7R30sUCkkLCBhcyBpdCBpcyBib3RoZSBzcXVhcmUgaW50ZWdyYWJsZSBhbmQgJFxtYXRoY2Fse0d9JC1tZWFzdXJhYmxlLiBUaGVuCgokJEVcbGVmdFtaXGNkb3QoWC1FW1hcdmVydFxtYXRoY2Fse0d9XSlccmlnaHRdPUVcbGVmdFtaXGNkb3QgWFxyaWdodF0tRVxsZWZ0W1pcY2RvdCBFW1hcdmVydFxtYXRoY2Fse0d9XVxyaWdodF0uJCQKClRoZW4gYnkgdXNpbmcgdGhlIGxhdyBvZiB0b3RhbCBleHBlY3RhdGlvbiBhbmQgc2Vjb25kbHkgdGhhdCAkWiQgaXMgJFxtYXRoY2Fse0d9JC1tZWFzdXJhYmxlIHdlIGhhdmUgdGhhdAoKJCRFXGxlZnRbWlxjZG90IFhccmlnaHRdPUVcbGVmdFtFW1pcY2RvdCBYXHZlcnRcbWF0aGNhbHtHfV1ccmlnaHRdPUVcbGVmdFtaXGNkb3QgRVsgWFx2ZXJ0XG1hdGhjYWx7R31dXHJpZ2h0XS4kJAoKQ29tYmluaW5nIHRoZSB0d28gZXF1YXRpb25zIGdpdmVzIHRoZSBkZXNpcmVkIHJlc3VsdC4KCjwvZGV0YWlscz4KPGRldGFpbHM+CjxzdW1tYXJ5PioqU29sdXRpb24gKGIpLioqPC9zdW1tYXJ5PgoKT2J2aW91c2x5LCB3ZSBoYXZlIHRoYXQKCiQkWC1aPVgtWitFW1hcdmVydFxtYXRoY2Fse0d9XS1FW1hcdmVydFxtYXRoY2Fse0d9XT0oWC1FW1hcdmVydFxtYXRoY2Fse0d9XSkrKEVbWFx2ZXJ0XG1hdGhjYWx7R31dLVopLiQkCgpUaGVuIHNxdWFyaW5nIHRoZSB0ZXJtcyBnaXZlcwoKJCQoWC1aKV4yPShYLUVbWFx2ZXJ0XG1hdGhjYWx7R31dKV4yKyhFW1hcdmVydFxtYXRoY2Fse0d9XS1aKV4yKzIoWC1FW1hcdmVydFxtYXRoY2Fse0d9XSkoRVtYXHZlcnRcbWF0aGNhbHtHfV0tWikkJAoKVGFraW5nIGV4cGVjdGF0aW9uIG9uIGVhY2ggc2lkZSBhbmQgdXNpbmcgbGluZWFyaXR5IG9mIHRoZSBleHBlY3RhdGlvbiB3ZSBoYXZlIHRoYXQKCiQkRVsoWC1aKV4yXT1FXGxlZnRbKFgtRVtYXHZlcnRcbWF0aGNhbHtHfV0pXjJccmlnaHRdK0VcbGVmdFsoRVtYXHZlcnRcbWF0aGNhbHtHfV0tWileMlxyaWdodF0rMkVcbGVmdFsoWC1FW1hcdmVydFxtYXRoY2Fse0d9XSkoRVtYXHZlcnRcbWF0aGNhbHtHfV0tWilccmlnaHRdLiQkCgpXZSBjYW4gbm93IHVzZSB0aGF0ICRFW1hcdmVydFxtYXRoY2Fse0d9XS1aJCBpcyAkXG1hdGhjYWx7R30kLW1lYXN1cmFibGUgd2l0aCB0aGUgYWJvdmUgcmVzdWx0IG9uIHRoZSBsYXN0IHRlcm0uCgokJEVbKFgtWileMl09RVxsZWZ0WyhYLUVbWFx2ZXJ0XG1hdGhjYWx7R31dKV4yXHJpZ2h0XStFXGxlZnRbKEVbWFx2ZXJ0XG1hdGhjYWx7R31dLVopXjJccmlnaHRdLiQkCgpOb3cgc2luY2UgJFgkIGlzIGdpdmVuIHRoZSB0ZXJtICRFXGxlZnRbKFgtRVtYXHZlcnRcbWF0aGNhbHtHfV0pXjJccmlnaHRdJCBpcyBzaW1wbHkgYSBjb25zdGFudCBub3QgZGVwZW5kaW5nIG9uIHRoZSBjaG9pY2Ugb2cgJFokLiBUaGUgb3B0aW1hbCBjaG9pY2Ugb2YgJFokIGlzIHRoZW4gJEVbWFx2ZXJ0XG1hdGhjYWx7R31dJCBzaW5jZSB0aGlzIG1pbmltaXplcyB0aGUgc2Vjb25kIHRlcm0uIFRoZSBzdGF0ZW1lbnQgaXMgdGhlbiBwcm92ZWQuCgo8L2RldGFpbHM+CgombmJzcDsKCioqRXhlcmNpc2UgMy4qKiBEaXNjdXNzIHRoZSBmb2xsb3dpbmcgdGhlb3J5L3Jlc3VsdHMgb2YgTW9tZW50IGdlbmVyYXRpbmcgZnVuY3Rpb25zIChMYXBsYWNlIHRyYW5zZm9ybSkuCgpMZXQgJFgkIGJlIGEgcmFuZG9tIHZhcmlhYmxlIHdpdGggZGlzdHJpYnV0aW9uIGZ1bmN0aW9uICRGKHgpPVAoWFxsZSB4KSQgYW5kICRZJCBiZSBhIHJhbmRvbSB2YXJpYWJsZSB3aXRoIGRpc3RyaWJ1dGlvbiBmdW5jdGlvbiAkRyh5KT1QKFlcbGUgeSkkLgoKPGJsb2NrcXVvdGUgY2xhc3MgPSAiZGVmIj4KKipEZWZpbml0aW9uLioqIFRoZSBtb21lbnQgZ2VuZXJhdGluZyBmdW5jdGlvbiBvciBMYXBsYWNlIHRyYW5zZm9ybSBvZiAkWCQgaXMKCiQkXHBzaV9YKFxsYW1iZGEpPUVcbGVmdFtlXntcbGFtYmRhIFh9XHJpZ2h0XT1caW50X3stXGluZnR5fV5caW5mdHkgZV57XGxhbWJkYSB4fWRGKHgpJCQKCnByb3ZpZGVkIHRoZSBleHBlY3RhdGlvbiBpcyBmaW5pdGUgZm9yICRcdmVydFxsYW1iZGFcdmVydDxoJCBmb3Igc29tZSAkaD4wJC4KPC9ibG9ja3F1b3RlPgoKVGhlIE1HRiB1bmlxdWVseSBkZXRlcm1pbmUgdGhlIGRpc3RyaWJ1dGlvbiBvZiBhIHJhbmRvbSB2YXJpYWJsZSwgZHVlIHRvIHRoZSBmb2xsb3dpbmcgcmVzdWx0LgoKPGJsb2NrcXVvdGUgY2xhc3MgPSAidGhtIj4KKipUaGVvcmVtIDEuKiogKihVbmlxdWVuZXNzKSogSWYgJFxwc2lfWChcbGFtYmRhKT1ccHNpX1koXGxhbWJkYSkkIHdoZW4gJFx2ZXJ0XGxhbWJkYVx2ZXJ0PGgkIGZvciBzb21lICRoPjAkLCB0aGVuICRYJCBhbmQgJFkkIGhhcyB0aGUgc2FtZSBkaXN0cmlidXRpb24sIHRoYXQgaXMsICRGPUckLgo8L2Jsb2NrcXVvdGU+CgpUaGVyZSBpcyBhbHNvIHRoZSBmb2xsb3dpbmcgcmVzdWx0IG9mIGluZGVwZW5kZW5jZSBmb3IgTW9tZW50IGdlbmVyYXRpbmcgZnVuY3Rpb25zLgoKPGJsb2NrcXVvdGUgY2xhc3MgPSAidGhtIj4KKipUaGVvcmVtIDEuKiogKihJbmRlcGVuZGVuY2UpKiBJZiAKCiQkRVxsZWZ0W2Vee1xsYW1iZGFfMVgrXGxhbWJkYV8yWX1ccmlnaHRdPVxwc2lfWChcbGFtYmRhXzEpXHBzaV9ZKFxsYW1iZGFfMikkJAoKZm9yICRcdmVydFxsYW1iZGFfaVx2ZXJ0PGgkIGZvciAkaT0xLDIkIGZvciBzb21lICRoPjAkLCB0aGVuICRYJCBhbmQgJFkkIGFyZSBpbmRlcGVuZGVudCByYW5kb20gdmFyaWFibGVzLgo8L2Jsb2NrcXVvdGU+CgoqKkV4YW1wbGUuKiogUmVjYWxsIHRoYXQgdGhlIE1vbWVudCBnZW5lcmF0aW5nIGZ1bmN0aW9uIG9mIGEgbm9ybWFsIChHYXVzc2lhbikgZGlzdHJpYnV0aW9uIGlzIGdpdmVuIGJ5CgokJFxwc2lfWChcbGFtYmRhKT1FXGxlZnRbZV57XGxhbWJkYSBYfVxyaWdodF09XGV4cFxsZWZ0KFxsYW1iZGEgXG11ICsgXGZyYWN7XGxhbWJkYV4yfXsyfVxzaWdtYV4yXHJpZ2h0KSQkCgp3aGVyZSAkWCQgaXMgbm9ybWFsbHkgZGlzdHJpYnV0ZWQgd2l0aCBtZWFuICRcbXUkIGFuZCB2YXJpYW5jZSAkXHNpZ21hXjIkIGFuZCAkXGxhbWJkYVxpblxtYXRoYmJ7Un0kIGlzIGEgY29uc3RhbnQuIFNpbmNlIGEgQnJvd25pYW4gbW90aW9uICRXKHQpJCBpcyBub3JtYWxseSBkaXN0cmlidXRlZCB3aXRoIHplcm8gbWVhbiBhbmQgdmFyaWFuY2UgJHQkLCB3ZSBoYXZlIHRoYXQKCiQkRVtcZXhwKFxsYW1iZGEgVyh0KSldPVxleHBcbGVmdChcZnJhY3tcbGFtYmRhXjJ9ezJ9dFxyaWdodCkuJCQKCjxkZXRhaWxzPgo8c3VtbWFyeT4qKkRpc2N1c3Npb24uKio8L3N1bW1hcnk+CgoKCjwvZGV0YWlscz4KCiZuYnNwOwoKKipFeGVyY2lzZSA0LioqICooQmpvcmssIGV4ZXJjaXNlIEMuOC4oYS1jKSkqIExldCAkVyQgYmUgYSBCcm93bmlhbiBtb3Rpb24uIE5vdGljZSB0aGF0IGZvciB0aGUgbmF0dXJhbCBmaWx0cmF0aW9uICRcbWF0aGNhbHtGfV9zPVxzaWdtYShXX3RcdmVydCB0XGxlIHMpJCAkV190LVdfcyQgaXMgaW5kZXBlbmRlbnQgb2YgJFxtYXRoY2Fse0Z9X3MkCgogIGEuIFNob3cgdGhhdCAkV190JCBpcyBhIG1hcnRpbmdhbGUuCiAgYi4gU2hvdyB0aGF0ICRXXjJfdC10JCBpcyBhIG1hcnRpbmdhbGUuCiAgYy4gU2hvdyB0aGF0ICRcZXhwKFxsYW1iZGEgV190LVxmcmFje1xsYW1iZGFeMn17Mn10KSQgaXMgYSBtYXJ0aW5nYWxlLgoKPGRldGFpbHM+CjxzdW1tYXJ5PioqU29sdXRpb24gKGEpLioqPC9zdW1tYXJ5PgoKV2Ugc2hvdyB0aGF0IGZvciB0aGUgbmF0dXJhbCBmaWx0cmF0aW9uIHRoYXQgJFdfdCQgaXMgYSBtYXJ0aW5nYWxlLiBUaGlzIGluY2x1ZGUgc2hvd2luZyBpbnRlZ3JhYmlsaXR5IGFuZCB0aGUgbWFydGluZ2FsZSBwcm9wZXJ0eS4gRm9yIHRoZSBmaXJzdCB3ZSBub3RlIHRoYXQgZm9yIGEgbm9ybWFsIGRpc3RyaWJ1dGVkIHJhbmRvbSB2YXJpYWJsZSB3aXRoIG1lYW4gMCB3ZSBoYXZlCgokJEVbXHZlcnQgTlx2ZXJ0XT1caW50X3stXGluZnR5fV5caW5mdHkgXHZlcnQgeFx2ZXJ0IGRGX04oeCk9MlxpbnRfezB9XlxpbmZ0eSB4ZEZfTih4KSQkCgpzaW5jZSB0aGUgZGlzdHJpYnV0aW9uIGlzIHN5bW1ldHJpYy4gU3Vic3RpdHV0aW5nIHRoZSBkaXN0cmlidXRpb24gZnVuY3Rpb24gJFxQaGkoeCk9UChOXGxlIHgpJCBpbiB3ZSBzZWUgdGhhdAoKJCRFW1x2ZXJ0IE5cdmVydF09MlxpbnRfezB9XlxpbmZ0eSB4ZFxQaGkoeCk9MlxpbnRfezB9XlxpbmZ0eSB4XGZyYWN7MX17XHNxcnR7MlxwaVxzaWdtYV4yfX1lXnsteF4yLygyXHNpZ21hXjIpfWR4PSgqKSQkCgpieSBzdWJzdGl0dXRpbmcgJHU9eF4yLygyXHNpZ21hXjIpJCAoJHg9XHNxcnR7MlxzaWdtYV4ydX0kKSB3ZSBoYXZlIHRoYXQKCiQkXGZyYWN7ZHh9e2R1fT1cZnJhY3sxfXsyfVxzcXJ0ezJcc2lnbWFeMnV9MlxzaWdtYV4yPShcc2lnbWFeMileezMvMn1cc3FydHsyfXVcaWZmIGR4PShcc2lnbWFeMileezMvMn1cc3FydHsyfXVcIGR1JCQKCmhlbmNlCgokJCgqKT1cZnJhY3syfXtcc3FydHsyXHBpXHNpZ21hXjJ9fVxpbnRfMF57XGluZnR5fVxzcXJ0ezJcc2lnbWFeMnV9ZV57LXV9KFxzaWdtYV4yKV57My8yfVxzcXJ0ezJ9dVwgZHU9XGZyYWN7MlxzcXJ0ezJcc2lnbWFeMn0oXHNpZ21hXjIpXnszLzJ9XHNxcnR7Mn19e1xzcXJ0ezJccGlcc2lnbWFeMn19XGludF8wXntcaW5mdHl9XHNxcnR7dX1lXnstdX11XCBkdS4kJAoKVGhpcyB0aGVuIHNpbXBsaWZ5IHRvCgokJCgqKT1cZnJhY3soMlxzaWdtYV4yKV57My8yfX17XHNxcnR7XHBpfX1caW50XzBee1xpbmZ0eX11XnszLzJ9ZV57LXV9XCBkdT0oMlxzaWdtYV4yKV57MS8yfVxzcXJ0e1xmcmFjezJcc2lnbWFeMn17XHBpfX1caW50XzBee1xpbmZ0eX11XnszLzJ9ZV57LXV9XCBkdT1cc3FydHtcZnJhY3syXHNpZ21hXjJ9e1xwaX19PFxpbmZ0eS4kJAoKKE9idmlvdXNseSB0aGUgYWJvdmUgaXMgbm90IGRlcml2ZWQgY29ycmVjdGx5LCBidXQgdGhlIGVuZCBleHByZXNzaW9uIGlzIHZhbGlkLCBzb3VyY2U6IFtsaW5rXShodHRwczovL2FyeGl2Lm9yZy9wZGYvMTQwMi4zNTU5LnBkZikpIEhvd2V2ZXIgc2luY2UKCiQkV190PVdfdC0wPVdfdC1XXzBcc2ltXG1hdGhjYWx7Tn0oMCx0KSQkCgp3ZSBoYXZlIHRoYXQgJEVcdmVydCBXX3RcdmVydDxcaW5mdHkkIGFzIGRlc2lyZWQuCgpOZXh0LCB3ZSBoYXZlIHRoYXQKCiQkRVtXX3RcdmVydCBcbWF0aGNhbHtGfV9zXT1FW1dfdC1XX3NcdmVydFxtYXRoY2Fse0Z9X3NdK1dfcz0wK1dfcz1XX3MuJCQKCkluIHRoZSBhYm92ZSB3ZSB1c2VkIHRoYXQgJFdfdC1XX3MkIGlzICRcbWF0aGNhbHtGfV9zJC1tZWFzdXJhYmxlIHdpdGggbWVhbiAwLiBUaGVuIGl0IGZvbGxvd3MgdGhhdCAkV190JCBpcyBhIG1hcnRpbmdhbGUuCgo8L2RldGFpbHM+CjxkZXRhaWxzPgo8c3VtbWFyeT4qKlNvbHV0aW9uIChiKS4qKjwvc3VtbWFyeT4KCkxldCAkTV90PVdfdF4yLXQkLiBGaXJzdCwgd2Ugb2JzZXJ2ZSB0aGF0IHR3byBtZWFzdXJhYmxlIGZ1bmN0aW9ucyBjb21wb3NlZCBpcyBzdGlsbCBhIG1lYXN1cmFibGUgZnVuY3Rpb24uIEhlbmNlIHdlIGtub3cgdGhhdCAkTV90JCBpcyBtZWFzdXJhYmxlIHdydC4gdGhlIGZpbHRyYXRpb24gc2luY2UgJFdfdCQgaXMgbWVhc3VyYWJsZSBhbmQgJHdcbWFwc3RvIHdeMit0JCBpcyBtZWFzdXJhYmxlLiBTZWNvbmRseSwgd2UgaGF2ZSB0aGF0CgokJEVbXHZlcnQgV190XjItdFx2ZXJ0XVxsZSBFXHZlcnQgV190XjJcdmVydCArRVx2ZXJ0IHRcdmVydD10K3Q9MnQ8XGluZnR5JCQKCndoZXJlIHdlIHVzZSB0aGUgdHJpYW5nbGUgaW5lcXVhbGl0eS4gVGhpcmRseSwgZm9yIHRoZSBtYXJ0aW5nYWxlIHByb3BlcnR5IHdlIGhhdmUgdGhhdCBmb3IgJHQ+cyQ6CgokJEVbTV90XHZlcnQgXG1hdGhjYWx7Rn1fc109RVtXX3ReMi10XHZlcnQgXG1hdGhjYWx7Rn1fc109RVtXX3ReMitXX3NeMi0yV190V19zLVdfc14yKzJXX3RXX3MtdFx2ZXJ0IFxtYXRoY2Fse0Z9X3NdJCQKCndoaWNoIGJ5IGxpbmVhcml0eSBhbmQgaW5kZXBlbmRlbmNlIG9mIGluY3JlbWVudHMgdG8gdGhlIGZpbHRyYXRpb24gZ2l2ZXMKCiQkRVtNX3RcdmVydCBcbWF0aGNhbHtGfV9zXT1FWyhXX3QtV19zKV4yLVdfc14yKzJXX3RXX3MtdFx2ZXJ0IFxtYXRoY2Fse0Z9X3NdPXQtcy10K0VbMldfdFdfcy1XX3NeMlx2ZXJ0IFxtYXRoY2Fse0Z9X3NdJCQKCkhvd2V2ZXIgc2luY2UgJFdfcyQgaXMgbWVhc3VyYWJsZSB3cnQuIHRoZSBmaWx0cmF0aW9uIGF0IHRpbWUgJHMkIHRoZSBhYm92ZSBpcwoKJCRFW01fdFx2ZXJ0IFxtYXRoY2Fse0Z9X3NdPTJXX3NFW1dfdFx2ZXJ0IFxtYXRoY2Fse0Z9X3NdLVdfc14yLXM9Mldfc14yLVdfc14yLXM9V19zXjItcz1NX3MuJCQKClNpbmNlIGZyb20gKGEpIHdlIGtub3cgdGhhdCAkV190JCBpcyBhIG1hcnRpbmdhbGUuIFRoZW4gd2UgYXJyaXZlIGF0IHRoZSBkZXNpcmVkIHJlc3VsdC4KCjwvZGV0YWlscz4KPGRldGFpbHM+CjxzdW1tYXJ5PioqU29sdXRpb24gKGMpLioqPC9zdW1tYXJ5PgoKTGV0ICRNX3Q9XGV4cFxsZWZ0KFxsYW1iZGEgV190LVxmcmFje1xsYW1iZGFeMn17Mn10XHJpZ2h0KSQuIEZpcnN0LCBieSBjb21wb3NpdGlvbiBvZiBtZWFzdXJhYmxlIGZ1bmN0aW9ucyAkTV90JCBpcyAkXG1hdGhjYWx7Rn1fdCQtbWVhc3VyYWJsZS4gU2Vjb25kbHksIHdlIGhhdmUgdXNpbmcgdGhlIE1HRiBmb3IgYSBub3JtYWwgZGlzdHJpYnV0ZWQgcmFuZG9tIHZhcmlhYmxlOgoKJCRFXHZlcnQgTV90PUVcbGVmdChcZXhwXGxlZnQoXGxhbWJkYSBXX3QtXGZyYWN7XGxhbWJkYV4yfXsyfXRccmlnaHQpXHJpZ2h0KVxsZSBFXGxlZnQoXGV4cFxsZWZ0KFxsYW1iZGEgV190XHJpZ2h0KVxyaWdodCk9XGV4cFxsZWZ0KFxmcmFje1xsYW1iZGFeMn17Mn10XHJpZ2h0KTxcaW5mdHkuJCQKClRoaXJkbHksIHdlIGNvbnNpZGVyCgokJEVbTV90XHZlcnRcbWF0aGNhbHtGfV9zXT1FXGxlZnQuXGxlZnRbXGxlZnQoXGV4cFxsZWZ0KFxsYW1iZGEgV190LVxmcmFje1xsYW1iZGFeMn17Mn10XHJpZ2h0KVxyaWdodClccmlnaHRcdmVydFxtYXRoY2Fse0Z9X3NccmlnaHRdPVxleHBcbGVmdCgtXGZyYWN7XGxhbWJkYV4yfXsyfXRccmlnaHQpRVxsZWZ0LlxsZWZ0W1xsZWZ0KFxleHBcbGVmdChcbGFtYmRhIFdfdFxyaWdodClccmlnaHQpXHJpZ2h0XHZlcnRcbWF0aGNhbHtGfV9zXHJpZ2h0XS4kJAoKQnkgYWRkaW5nIGFuZCBzdWJ0cmFjdGluZyAkV19zJCBpbiB0aGUgZXhwb25lbnQgd2UgZ2V0CgpcYmVnaW57YWxpZ24qfQpFW01fdFx2ZXJ0XG1hdGhjYWx7Rn1fc10mPVxleHBcbGVmdCgtXGZyYWN7XGxhbWJkYV4yfXsyfXRccmlnaHQpRVxsZWZ0LlxsZWZ0W1xsZWZ0KFxleHBcbGVmdChcbGFtYmRhIChXX3QtV19zKStcbGFtYmRhIFdfc1xyaWdodClccmlnaHQpXHJpZ2h0XHZlcnRcbWF0aGNhbHtGfV9zXHJpZ2h0XVxcCiY9XGV4cFxsZWZ0KC1cZnJhY3tcbGFtYmRhXjJ9ezJ9dFxyaWdodClcZXhwXGxlZnQoXGZyYWN7XGxhbWJkYV4yfXsyfSh0LXMpXHJpZ2h0KUVcbGVmdC5cbGVmdFtcbGVmdChcZXhwXGxlZnQoXGxhbWJkYSBXX3NccmlnaHQpXHJpZ2h0KVxyaWdodFx2ZXJ0XG1hdGhjYWx7Rn1fc1xyaWdodF0uClxlbmR7YWxpZ24qfQoKVXNpbmcgdGhhdCAkRVxsZWZ0LlxsZWZ0W1xsZWZ0KFxleHBcbGVmdChcbGFtYmRhIFdfc1xyaWdodClccmlnaHQpXHJpZ2h0XHZlcnRcbWF0aGNhbHtGfV9zXHJpZ2h0XT1cZXhwXGxlZnQoXGxhbWJkYSBXX3NccmlnaHQpJCBhbmQgY29tYmluaW5nIHRoZSBleHBvbmVudHMgZ2l2ZXMgdGhlIGRlc2lyZWQ6CgokJEVbTV90XHZlcnRcbWF0aGNhbHtGfV9zXT1cZXhwXGxlZnQoXGxhbWJkYSBXX3MtXGZyYWN7XGxhbWJkYV4yfXsyfXNccmlnaHQpPU1fcy4kJAoKPC9kZXRhaWxzPgoKIyMgV2VlayAyIAoKIyMjIE1hdGVyaWFsCgogICogU3RvY2hhc3RpYyBpbnRlZ3JhbHMgYW5kIEl0byBmb3JtdWxhIChDaGFwdGVyIDQgYW5kIEFwcGVuZGl4IEMuMikKICAqIFN0b2NoYXN0aWMgZGlmZmVyZW50aWFsIGVxdWF0aW9ucyAoQ2hhcHRlciA1LjEtNCkKCiMjIyBUaGVvcnkKCiMjIyMgU3RvY2hhc3RpYyBJbnRlZ3JhbHMKCiMjIyMgRGlzY3JldGUgU3RvY2hhc3RpYyBJbnRlZ3JhbHMKCiMjIyMgU3RvY2hhc3RpYyBEaWZmZXJlbnRpYWwgRXF1YXRpb25zCgojIyMgRXhlcmNpc2VzCgoqKkV4ZXJjaXNlIDQuMSoqICooQmpvcmspKiAKCiMjIFdlZWsgMwoKIyMjIE1hdGVyaWFsCgogICogUGFydGlhbCBkaWZmZXJlbnRpYWwgZXF1YXRpb25zIChDaGFwdGVyIDUuNSkKICAqIFNlbGYtZmluYW5jaW5nIHBvcnRmb2xpb3MgKENoYXB0ZXIgNikKICAqIEJsYWNrLVNjaG9sZXMgUERFIChjbGFzc2ljIGFwcHJvYWNoKSBhbmQgcmlzayBuZXV0cmFsIHZhbHVhdGlvbiAoQ2hhcHRlciA3LjEtNSkKCiMjIyBUaGVvcnkKCiMjIyBFeGVyY2lzZXMKCiMjIFdlZWsgNAoKIyMjIE1hdGVyaWFsCgogICogQmxhY2stU2Nob2xlcyBmb3JtdWxhIChDaGFwdGVyIDcuNiwgc2VlIGFsc28gUmVtYXJrIHRvIEJsYWNrLVNjaG9sZXMgZm9ybXVsYSkKICAqIENvbXBsZXRlbmVzcyBhbmQgaGVkZ2luZyAoQ2hhcHRlciA4KQogICogUHV0LWNhbGwgcGFyaXR5IChDaGFwdGVyIDEwLjEpCiAgKiBUaGUgR3JlZWtzIChDaGFwdGVyIDEwLjIpCiAgKiBSaXNrIG5ldXRyYWwgdmFsdWF0aW9uIGZvcm11bGEgKENoYXB0ZXIgMTEuNikgCiAgKiBFcXVpdmFsZW50IHByb2JhYmlsaXR5IG1lYXN1cmVzIChBcHBlbmRpeCBBLjExLCBCLjYgYW5kIEMuMykgCgojIyMgVGhlb3J5CgojIyMgRXhlcmNpc2VzCgojIyBXZWVrIDUKCiMjIyBNYXRlcmlhbAoKICAqIEdpcnNhbm92IHRoZW9yZW0gKENoYXB0ZXIgMTIsIHNlZSBhbHNvIExldnkgY2hhcmFjdGVyaXphdGlvbiBvZiBCcm93bmlhbiBtb3Rpb24gYW5kIHByb29mIG9mIEdpcnNhbm92KQogICogTWFydGluZ2FsZSByZXByZXNlbnRhdGlvbiB0aGVvcmVtIChDaGFwdGVyIDEyKQoKIyMjIFRoZW9yeQoKIyMjIEV4ZXJjaXNlcwoKIyMgV2VlayA2CgojIyMgTWF0ZXJpYWwKCiAgKiBCbGFjay1TY2hvbGVzIG1vZGVsLCBtYXJ0aW5nYWxlIGFwcHJvYWNoIChDaGFwdGVyIDEzKQogICogTXVsdGlkaW1lbnNpb25hbCBtb2RlbHMgKENoYXB0ZXIgMTQpCgojIyMgVGhlb3J5CgojIyMgRXhlcmNpc2VzCgojIyBXZWVrIDcKCiMjIyBNYXRlcmlhbAoKICAqIFByaWNpbmcgYW5kIHByb29mIG9mIGZ1bmRhbWVudGFsIHByaWNpbmcgdGhlb3JlbSBJIGFuZCBJSSAoQ2hhcHRlciAxMSkKICAqIEluY29tcGxldGUgTWFya2V0cyAoQ2hhcHRlciA5KQoKIyMjIFRoZW9yeQoKIyMjIEV4ZXJjaXNlcwo=</div>
<style>
  footer{
    background: rgb(34,34,34);
    width:100%;
    height:150px; /*Same as main-container padding in bottom!!*/
    position:absolute;
    bottom:0;
    left:0;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    text-align: center;
}
footer h3{
    font-size: 2.1rem;
    font-weight: bold;
    text-transform: capitalize;
    line-height: 3rem;
    color:white;
}
footer p{
    max-width: 500px;
    margin: 10px auto;
    line-height: 28px;
    font-size: 14px;
    color: #cacdd2;
}
</style>

<script>
$(function() {
  $('.main-container').after($('footer'));
})
</script>


<footer>

<h3>Msc in Actuarial Mathematics</h3>
<p>This website is made to organize the content of the education including preparement for exams and exercise classes.</p>
</footer>

<!--
References:
https://foolishdeveloper.com/simple-responsive-footer-design-using-html-and-css/
https://stackoverflow.com/questions/7202427/make-footer-take-remianing-bottom-space-using-css
https://github.com/rstudio/rmarkdown/issues/1761
-->



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("FinKont_homework.Rmd");
  window.initializeCodeFolding("hide" === "show");
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
